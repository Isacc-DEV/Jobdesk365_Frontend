(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(u){if(u.ep)return;u.ep=!0;const m=r(u);fetch(u.href,m)}})();function Ey(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qu={exports:{}},wl={};var Sx;function Y1(){if(Sx)return wl;Sx=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(o,u,m){var f=null;if(m!==void 0&&(f=""+m),u.key!==void 0&&(f=""+u.key),"key"in u){m={};for(var h in u)h!=="key"&&(m[h]=u[h])}else m=u;return u=m.ref,{$$typeof:n,type:o,key:f,ref:u!==void 0?u:null,props:m}}return wl.Fragment=a,wl.jsx=r,wl.jsxs=r,wl}var kx;function X1(){return kx||(kx=1,Qu.exports=Y1()),Qu.exports}var i=X1(),Ku={exports:{}},Pe={};var Ax;function Z1(){if(Ax)return Pe;Ax=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),j=Symbol.iterator;function k(N){return N===null||typeof N!="object"?null:(N=j&&N[j]||N["@@iterator"],typeof N=="function"?N:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,H={};function $(N,B,ae){this.props=N,this.context=B,this.refs=H,this.updater=ae||T}$.prototype.isReactComponent={},$.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},$.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=$.prototype;function D(N,B,ae){this.props=N,this.context=B,this.refs=H,this.updater=ae||T}var S=D.prototype=new G;S.constructor=D,_(S,$.prototype),S.isPureReactComponent=!0;var E=Array.isArray;function U(){}var L={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function J(N,B,ae){var de=ae.ref;return{$$typeof:n,type:N,key:B,ref:de!==void 0?de:null,props:ae}}function se(N,B){return J(N.type,B,N.props)}function he(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ce(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return B[ae]})}var te=/\/+/g;function ee(N,B){return typeof N=="object"&&N!==null&&N.key!=null?ce(""+N.key):B.toString(36)}function K(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(U,U):(N.status="pending",N.then(function(B){N.status==="pending"&&(N.status="fulfilled",N.value=B)},function(B){N.status==="pending"&&(N.status="rejected",N.reason=B)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function A(N,B,ae,de,ye){var ne=typeof N;(ne==="undefined"||ne==="boolean")&&(N=null);var me=!1;if(N===null)me=!0;else switch(ne){case"bigint":case"string":case"number":me=!0;break;case"object":switch(N.$$typeof){case n:case a:me=!0;break;case y:return me=N._init,A(me(N._payload),B,ae,de,ye)}}if(me)return ye=ye(N),me=de===""?"."+ee(N,0):de,E(ye)?(ae="",me!=null&&(ae=me.replace(te,"$&/")+"/"),A(ye,B,ae,"",function(Ce){return Ce})):ye!=null&&(he(ye)&&(ye=se(ye,ae+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(te,"$&/")+"/")+me)),B.push(ye)),1;me=0;var fe=de===""?".":de+":";if(E(N))for(var Se=0;Se<N.length;Se++)de=N[Se],ne=fe+ee(de,Se),me+=A(de,B,ae,ne,ye);else if(Se=k(N),typeof Se=="function")for(N=Se.call(N),Se=0;!(de=N.next()).done;)de=de.value,ne=fe+ee(de,Se++),me+=A(de,B,ae,ne,ye);else if(ne==="object"){if(typeof N.then=="function")return A(K(N),B,ae,de,ye);throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return me}function O(N,B,ae){if(N==null)return N;var de=[],ye=0;return A(N,de,"","",function(ne){return B.call(ae,ne,ye++)}),de}function W(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var re=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},z={map:O,forEach:function(N,B,ae){O(N,function(){B.apply(this,arguments)},ae)},count:function(N){var B=0;return O(N,function(){B++}),B},toArray:function(N){return O(N,function(B){return B})||[]},only:function(N){if(!he(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Pe.Activity=v,Pe.Children=z,Pe.Component=$,Pe.Fragment=r,Pe.Profiler=u,Pe.PureComponent=D,Pe.StrictMode=o,Pe.Suspense=x,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return L.H.useMemoCache(N)}},Pe.cache=function(N){return function(){return N.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(N,B,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var de=_({},N.props),ye=N.key;if(B!=null)for(ne in B.key!==void 0&&(ye=""+B.key),B)!V.call(B,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&B.ref===void 0||(de[ne]=B[ne]);var ne=arguments.length-2;if(ne===1)de.children=ae;else if(1<ne){for(var me=Array(ne),fe=0;fe<ne;fe++)me[fe]=arguments[fe+2];de.children=me}return J(N.type,ye,de)},Pe.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:m,_context:N},N},Pe.createElement=function(N,B,ae){var de,ye={},ne=null;if(B!=null)for(de in B.key!==void 0&&(ne=""+B.key),B)V.call(B,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ye[de]=B[de]);var me=arguments.length-2;if(me===1)ye.children=ae;else if(1<me){for(var fe=Array(me),Se=0;Se<me;Se++)fe[Se]=arguments[Se+2];ye.children=fe}if(N&&N.defaultProps)for(de in me=N.defaultProps,me)ye[de]===void 0&&(ye[de]=me[de]);return J(N,ne,ye)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(N){return{$$typeof:h,render:N}},Pe.isValidElement=he,Pe.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:W}},Pe.memo=function(N,B){return{$$typeof:p,type:N,compare:B===void 0?null:B}},Pe.startTransition=function(N){var B=L.T,ae={};L.T=ae;try{var de=N(),ye=L.S;ye!==null&&ye(ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(U,re)}catch(ne){re(ne)}finally{B!==null&&ae.types!==null&&(B.types=ae.types),L.T=B}},Pe.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Pe.use=function(N){return L.H.use(N)},Pe.useActionState=function(N,B,ae){return L.H.useActionState(N,B,ae)},Pe.useCallback=function(N,B){return L.H.useCallback(N,B)},Pe.useContext=function(N){return L.H.useContext(N)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(N,B){return L.H.useDeferredValue(N,B)},Pe.useEffect=function(N,B){return L.H.useEffect(N,B)},Pe.useEffectEvent=function(N){return L.H.useEffectEvent(N)},Pe.useId=function(){return L.H.useId()},Pe.useImperativeHandle=function(N,B,ae){return L.H.useImperativeHandle(N,B,ae)},Pe.useInsertionEffect=function(N,B){return L.H.useInsertionEffect(N,B)},Pe.useLayoutEffect=function(N,B){return L.H.useLayoutEffect(N,B)},Pe.useMemo=function(N,B){return L.H.useMemo(N,B)},Pe.useOptimistic=function(N,B){return L.H.useOptimistic(N,B)},Pe.useReducer=function(N,B,ae){return L.H.useReducer(N,B,ae)},Pe.useRef=function(N){return L.H.useRef(N)},Pe.useState=function(N){return L.H.useState(N)},Pe.useSyncExternalStore=function(N,B,ae){return L.H.useSyncExternalStore(N,B,ae)},Pe.useTransition=function(){return L.H.useTransition()},Pe.version="19.2.4",Pe}var Tx;function Kd(){return Tx||(Tx=1,Ku.exports=Z1()),Ku.exports}var b=Kd();const Q1=Ey(b);var Ju={exports:{}},jl={},Fu={exports:{}},Iu={};var Ex;function K1(){return Ex||(Ex=1,(function(n){function a(A,O){var W=A.length;A.push(O);e:for(;0<W;){var re=W-1>>>1,z=A[re];if(0<u(z,O))A[re]=O,A[W]=z,W=re;else break e}}function r(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var O=A[0],W=A.pop();if(W!==O){A[0]=W;e:for(var re=0,z=A.length,N=z>>>1;re<N;){var B=2*(re+1)-1,ae=A[B],de=B+1,ye=A[de];if(0>u(ae,W))de<z&&0>u(ye,ae)?(A[re]=ye,A[de]=W,re=de):(A[re]=ae,A[B]=W,re=B);else if(de<z&&0>u(ye,W))A[re]=ye,A[de]=W,re=de;else break e}}return O}function u(A,O){var W=A.sortIndex-O.sortIndex;return W!==0?W:A.id-O.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;n.unstable_now=function(){return m.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var x=[],p=[],y=1,v=null,j=3,k=!1,T=!1,_=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function S(A){for(var O=r(p);O!==null;){if(O.callback===null)o(p);else if(O.startTime<=A)o(p),O.sortIndex=O.expirationTime,a(x,O);else break;O=r(p)}}function E(A){if(_=!1,S(A),!T)if(r(x)!==null)T=!0,U||(U=!0,ce());else{var O=r(p);O!==null&&K(E,O.startTime-A)}}var U=!1,L=-1,V=5,J=-1;function se(){return H?!0:!(n.unstable_now()-J<V)}function he(){if(H=!1,U){var A=n.unstable_now();J=A;var O=!0;try{e:{T=!1,_&&(_=!1,G(L),L=-1),k=!0;var W=j;try{t:{for(S(A),v=r(x);v!==null&&!(v.expirationTime>A&&se());){var re=v.callback;if(typeof re=="function"){v.callback=null,j=v.priorityLevel;var z=re(v.expirationTime<=A);if(A=n.unstable_now(),typeof z=="function"){v.callback=z,S(A),O=!0;break t}v===r(x)&&o(x),S(A)}else o(x);v=r(x)}if(v!==null)O=!0;else{var N=r(p);N!==null&&K(E,N.startTime-A),O=!1}}break e}finally{v=null,j=W,k=!1}O=void 0}}finally{O?ce():U=!1}}}var ce;if(typeof D=="function")ce=function(){D(he)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ee=te.port2;te.port1.onmessage=he,ce=function(){ee.postMessage(null)}}else ce=function(){$(he,0)};function K(A,O){L=$(function(){A(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return j},n.unstable_next=function(A){switch(j){case 1:case 2:case 3:var O=3;break;default:O=j}var W=j;j=O;try{return A()}finally{j=W}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=j;j=A;try{return O()}finally{j=W}},n.unstable_scheduleCallback=function(A,O,W){var re=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,A){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,A={id:y++,callback:O,priorityLevel:A,startTime:W,expirationTime:z,sortIndex:-1},W>re?(A.sortIndex=W,a(p,A),r(x)===null&&A===r(p)&&(_?(G(L),L=-1):_=!0,K(E,W-re))):(A.sortIndex=z,a(x,A),T||k||(T=!0,U||(U=!0,ce()))),A},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(A){var O=j;return function(){var W=j;j=O;try{return A.apply(this,arguments)}finally{j=W}}}})(Iu)),Iu}var Cx;function J1(){return Cx||(Cx=1,Fu.exports=K1()),Fu.exports}var Wu={exports:{}},Kt={};var _x;function F1(){if(_x)return Kt;_x=1;var n=Kd();function a(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function m(x,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:x,containerInfo:p,implementation:y}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Kt.createPortal=function(x,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return m(x,p,null,y)},Kt.flushSync=function(x){var p=f.T,y=o.p;try{if(f.T=null,o.p=2,x)return x()}finally{f.T=p,o.p=y,o.d.f()}},Kt.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(x,p))},Kt.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},Kt.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:j,fetchPriority:k}):y==="script"&&o.d.X(x,{crossOrigin:v,integrity:j,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Kt.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);o.d.M(x,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(x)},Kt.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);o.d.L(x,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Kt.preloadModule=function(x,p){if(typeof x=="string")if(p){var y=h(p.as,p.crossOrigin);o.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(x)},Kt.requestFormReset=function(x){o.d.r(x)},Kt.unstable_batchedUpdates=function(x,p){return x(p)},Kt.useFormState=function(x,p,y){return f.H.useFormState(x,p,y)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.2.4",Kt}var Mx;function Cy(){if(Mx)return Wu.exports;Mx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Wu.exports=F1(),Wu.exports}var Dx;function I1(){if(Dx)return jl;Dx=1;var n=J1(),a=Kd(),r=Cy();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(m(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(o(188));return t!==e?null:e}for(var s=e,l=t;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return x(c),e;if(d===l)return x(c),t;d=d.sibling}throw Error(o(188))}if(s.return!==l.return)s=c,l=d;else{for(var g=!1,w=c.child;w;){if(w===s){g=!0,s=c,l=d;break}if(w===l){g=!0,l=c,s=d;break}w=w.sibling}if(!g){for(w=d.child;w;){if(w===s){g=!0,s=d,l=c;break}if(w===l){g=!0,l=d,s=c;break}w=w.sibling}if(!g)throw Error(o(189))}}if(s.alternate!==l)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,j=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),D=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case $:return"Profiler";case H:return"StrictMode";case E:return"Suspense";case U:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case D:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:ee(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return ee(e(t))}catch{}}return null}var K=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},re=[],z=-1;function N(e){return{current:e}}function B(e){0>z||(e.current=re[z],re[z]=null,z--)}function ae(e,t){z++,re[z]=e.current,e.current=t}var de=N(null),ye=N(null),ne=N(null),me=N(null);function fe(e,t){switch(ae(ne,t),ae(ye,e),ae(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zp(t),e=Qp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(de),ae(de,e)}function Se(){B(de),B(ye),B(ne)}function Ce(e){e.memoizedState!==null&&ae(me,e);var t=de.current,s=Qp(t,e.type);t!==s&&(ae(ye,e),ae(de,s))}function ze(e){ye.current===e&&(B(de),B(ye)),me.current===e&&(B(me),gl._currentValue=W)}var Oe,P;function le(e){if(Oe===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Oe=t&&t[1]||"",P=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+e+P}var ge=!1;function Ae(e,t){if(!e||ge)return"";ge=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(I){var Q=I}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(I){Q=I}e.call(ue.prototype)}}else{try{throw Error()}catch(I){Q=I}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(I){if(I&&Q&&typeof I.stack=="string")return[I.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],w=d[1];if(g&&w){var C=g.split(`
`),X=w.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<X.length&&!X[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===X.length)for(l=C.length-1,c=X.length-1;1<=l&&0<=c&&C[l]!==X[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==X[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==X[c]){var ie=`
`+C[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?le(s):""}function we(e,t){switch(e.tag){case 26:case 27:case 5:return le(e.type);case 16:return le("Lazy");case 13:return e.child!==t&&t!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return Ae(e.type,!1);case 11:return Ae(e.type.render,!1);case 1:return Ae(e.type,!0);case 31:return le("Activity");default:return""}}function it(e){try{var t="",s=null;do t+=we(e,s),s=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ot=Object.prototype.hasOwnProperty,vt=n.unstable_scheduleCallback,tn=n.unstable_cancelCallback,Ut=n.unstable_shouldYield,Xt=n.unstable_requestPaint,mt=n.unstable_now,Ot=n.unstable_getCurrentPriorityLevel,Ne=n.unstable_ImmediatePriority,$e=n.unstable_UserBlockingPriority,Ge=n.unstable_NormalPriority,We=n.unstable_LowPriority,yt=n.unstable_IdlePriority,Et=n.log,F=n.unstable_setDisableYieldValue,ve=null,je=null;function ke(e){if(typeof Et=="function"&&F(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(ve,e)}catch{}}var be=Math.clz32?Math.clz32:Vt,Me=Math.log,Ue=Math.LN2;function Vt(e){return e>>>=0,e===0?32:31-(Me(e)/Ue|0)|0}var nn=256,ws=262144,Fs=4194304;function Vn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hn(e,t,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?c=Vn(l):(g&=w,g!==0?c=Vn(g):s||(s=w&~e,s!==0&&(c=Vn(s))))):(w=l&~d,w!==0?c=Vn(w):g!==0?c=Vn(g):s||(s=l&~e,s!==0&&(c=Vn(s)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,s=t&-t,d>=s||d===32&&(s&4194048)!==0)?t:c}function $n(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Vo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var e=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),e}function Ti(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Is(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ho(e,t,s,l,c,d){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,C=e.expirationTimes,X=e.hiddenUpdates;for(s=g&~s;0<s;){var ie=31-be(s),ue=1<<ie;w[ie]=0,C[ie]=-1;var Q=X[ie];if(Q!==null)for(X[ie]=null,ie=0;ie<Q.length;ie++){var I=Q[ie];I!==null&&(I.lane&=-536870913)}s&=~ue}l!==0&&Ql(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Ql(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-be(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Kl(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-be(s),c=1<<l;c&t|e[l]&t&&(e[l]|=t),s&=~c}}function Ei(e,t){var s=t&-t;return s=(s&42)!==0?1:Ci(s),(s&(e.suspendedLanes|t))!==0?0:s}function Ci(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _i(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mi(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:gx(e.type))}function Jl(e,t){var s=O.p;try{return O.p=e,t()}finally{O.p=s}}var qn=Math.random().toString(36).slice(2),St="__reactFiber$"+qn,Lt="__reactProps$"+qn,Pn="__reactContainer$"+qn,Ta="__reactEvents$"+qn,Fl="__reactListeners$"+qn,Ea="__reactHandles$"+qn,Di="__reactResources$"+qn,Ws="__reactMarker$"+qn;function Ri(e){delete e[St],delete e[Lt],delete e[Ta],delete e[Fl],delete e[Ea]}function Zt(e){var t=e[St];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Pn]||s[St]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=tx(e);e!==null;){if(s=e[St])return s;e=tx(e)}return t}e=s,s=e.parentNode}return null}function Gn(e){if(e=e[St]||e[Pn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function js(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Wn(e){var t=e[Di];return t||(t=e[Di]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function M(e){e[Ws]=!0}var Z=new Set,pe={};function xe(e,t){Re(e,t),Re(e+"Capture",t)}function Re(e,t){for(pe[e]=t,e=0;e<t.length;e++)Z.add(t[e])}var _e=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Le={},et={};function tt(e){return ot.call(et,e)?!0:ot.call(Le,e)?!1:_e.test(e)?et[e]=!0:(Le[e]=!0,!1)}function Ht(e,t,s){if(tt(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function es(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function Qt(e,t,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+l)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sn(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ca(e,t,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $o(e){if(!e._valueTracker){var t=sn(e)?"checked":"value";e._valueTracker=Ca(e,t,""+e[t])}}function Hf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=sn(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function Il(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var V0=/[\n"\\]/g;function wn(e){return e.replace(V0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qo(e,t,s,l,c,d,g,w){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Po(e,g,Rt(t)):s!=null?Po(e,g,Rt(s)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Rt(w):e.removeAttribute("name")}function $f(e,t,s,l,c,d,g,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){$o(e);return}s=s!=null?""+Rt(s):"",t=t!=null?""+Rt(t):s,w||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$o(e)}function Po(e,t,s){t==="number"&&Il(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function _a(e,t,s,l){if(e=e.options,t){t={};for(var c=0;c<s.length;c++)t["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=t.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Rt(s),t=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function qf(e,t,s){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Rt(s):""}function Pf(e,t,s,l){if(t==null){if(l!=null){if(s!=null)throw Error(o(92));if(K(l)){if(1<l.length)throw Error(o(93));l=l[0]}s=l}s==null&&(s=""),t=s}s=Rt(t),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),$o(e)}function Ma(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var H0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gf(e,t,s){var l=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,s):typeof s!="number"||s===0||H0.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Yf(e,t,s){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&s[c]!==l&&Gf(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&Gf(e,d,t[d])}function Go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(e){return q0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ts(){}var Yo=null;function Xo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Ra=null;function Xf(e){var t=Gn(e);if(t&&(e=t.stateNode)){var s=e[Lt]||null;e:switch(e=t.stateNode,t.type){case"input":if(qo(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wn(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var c=l[Lt]||null;if(!c)throw Error(o(90));qo(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<s.length;t++)l=s[t],l.form===e.form&&Hf(l)}break e;case"textarea":qf(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&_a(e,!!s.multiple,t,!1)}}}var Zo=!1;function Zf(e,t,s){if(Zo)return e(t,s);Zo=!0;try{var l=e(t);return l}finally{if(Zo=!1,(Da!==null||Ra!==null)&&(Hr(),Da&&(t=Da,e=Ra,Ra=Da=null,Xf(t),e)))for(t=0;t<e.length;t++)Xf(e[t])}}function zi(e,t){var s=e.stateNode;if(s===null)return null;var l=s[Lt]||null;if(l===null)return null;s=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,t,typeof s));return s}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qo=!1;if(ns)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Qo=!1}var Ns=null,Ko=null,er=null;function Qf(){if(er)return er;var e,t=Ko,s=t.length,l,c="value"in Ns?Ns.value:Ns.textContent,d=c.length;for(e=0;e<s&&t[e]===c[e];e++);var g=s-e;for(l=1;l<=g&&t[s-l]===c[d-l];l++);return er=c.slice(e,1<l?1-l:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nr(){return!0}function Kf(){return!1}function an(e){function t(s,l,c,d,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:Kf,this.isPropagationStopped=Kf,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=an(ea),Oi=v({},ea,{view:0,detail:0}),P0=an(Oi),Jo,Fo,Li,ar=v({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(Jo=e.screenX-Li.screenX,Fo=e.screenY-Li.screenY):Fo=Jo=0,Li=e),Jo)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),Jf=an(ar),G0=v({},ar,{dataTransfer:0}),Y0=an(G0),X0=v({},Oi,{relatedTarget:0}),Io=an(X0),Z0=v({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=an(Z0),K0=v({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J0=an(K0),F0=v({},ea,{data:0}),Ff=an(F0),I0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ev[e])?!!t[e]:!1}function Wo(){return tv}var nv=v({},Oi,{key:function(e){if(e.key){var t=I0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wo,charCode:function(e){return e.type==="keypress"?tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sv=an(nv),av=v({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=an(av),iv=v({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wo}),lv=an(iv),rv=v({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),ov=an(rv),cv=v({},ar,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=an(cv),dv=v({},ea,{newState:0,oldState:0}),fv=an(dv),mv=[9,13,27,32],ec=ns&&"CompositionEvent"in window,Bi=null;ns&&"documentMode"in document&&(Bi=document.documentMode);var hv=ns&&"TextEvent"in window&&!Bi,Wf=ns&&(!ec||Bi&&8<Bi&&11>=Bi),em=" ",tm=!1;function nm(e,t){switch(e){case"keyup":return mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var za=!1;function pv(e,t){switch(e){case"compositionend":return sm(t);case"keypress":return t.which!==32?null:(tm=!0,em);case"textInput":return e=t.data,e===em&&tm?null:e;default:return null}}function xv(e,t){if(za)return e==="compositionend"||!ec&&nm(e,t)?(e=Qf(),er=Ko=Ns=null,za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wf&&t.locale!=="ko"?null:t.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gv[e.type]:t==="textarea"}function im(e,t,s,l){Da?Ra?Ra.push(l):Ra=[l]:Da=l,t=Zr(t,"onChange"),0<t.length&&(s=new sr("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var Vi=null,Hi=null;function yv(e){$p(e,0)}function ir(e){var t=js(e);if(Hf(t))return e}function lm(e,t){if(e==="change")return t}var rm=!1;if(ns){var tc;if(ns){var nc="oninput"in document;if(!nc){var om=document.createElement("div");om.setAttribute("oninput","return;"),nc=typeof om.oninput=="function"}tc=nc}else tc=!1;rm=tc&&(!document.documentMode||9<document.documentMode)}function cm(){Vi&&(Vi.detachEvent("onpropertychange",um),Hi=Vi=null)}function um(e){if(e.propertyName==="value"&&ir(Hi)){var t=[];im(t,Hi,e,Xo(e)),Zf(yv,t)}}function bv(e,t,s){e==="focusin"?(cm(),Vi=t,Hi=s,Vi.attachEvent("onpropertychange",um)):e==="focusout"&&cm()}function vv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ir(Hi)}function wv(e,t){if(e==="click")return ir(t)}function jv(e,t){if(e==="input"||e==="change")return ir(t)}function Nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:Nv;function $i(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ot.call(t,c)||!fn(e[c],t[c]))return!1}return!0}function dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fm(e,t){var s=dm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=dm(s)}}function mm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Il(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Il(e.document)}return t}function sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Sv=ns&&"documentMode"in document&&11>=document.documentMode,Ua=null,ac=null,qi=null,ic=!1;function pm(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ic||Ua==null||Ua!==Il(l)||(l=Ua,"selectionStart"in l&&sc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qi&&$i(qi,l)||(qi=l,l=Zr(ac,"onSelect"),0<l.length&&(t=new sr("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=Ua)))}function ta(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Oa={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},lc={},xm={};ns&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function na(e){if(lc[e])return lc[e];if(!Oa[e])return e;var t=Oa[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in xm)return lc[e]=t[s];return e}var gm=na("animationend"),ym=na("animationiteration"),bm=na("animationstart"),kv=na("transitionrun"),Av=na("transitionstart"),Tv=na("transitioncancel"),vm=na("transitionend"),wm=new Map,rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rc.push("scrollEnd");function Rn(e,t){wm.set(e,t),xe(t,[e])}var lr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],La=0,oc=0;function rr(){for(var e=La,t=oc=La=0;t<e;){var s=jn[t];jn[t++]=null;var l=jn[t];jn[t++]=null;var c=jn[t];jn[t++]=null;var d=jn[t];if(jn[t++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}d!==0&&jm(s,c,d)}}function or(e,t,s,l){jn[La++]=e,jn[La++]=t,jn[La++]=s,jn[La++]=l,oc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function cc(e,t,s,l){return or(e,t,s,l),cr(e)}function sa(e,t){return or(e,null,null,t),cr(e)}function jm(e,t,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-be(s),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=s|536870912),d):null}function cr(e){if(50<ul)throw ul=0,yu=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ba={};function Ev(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,s,l){return new Ev(e,t,s,l)}function uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ss(e,t){var s=e.alternate;return s===null?(s=mn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Nm(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ur(e,t,s,l,c,d){var g=0;if(l=e,typeof e=="function")uc(e)&&(g=1);else if(typeof e=="string")g=R1(e,s,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=mn(31,s,t,c),e.elementType=J,e.lanes=d,e;case _:return aa(s.children,c,d,t);case H:g=8,c|=24;break;case $:return e=mn(12,s,t,c|2),e.elementType=$,e.lanes=d,e;case E:return e=mn(13,s,t,c),e.elementType=E,e.lanes=d,e;case U:return e=mn(19,s,t,c),e.elementType=U,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:g=10;break e;case G:g=9;break e;case S:g=11;break e;case L:g=14;break e;case V:g=16,l=null;break e}g=29,s=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=mn(g,s,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function aa(e,t,s,l){return e=mn(7,e,l,t),e.lanes=s,e}function dc(e,t,s){return e=mn(6,e,null,t),e.lanes=s,e}function Sm(e){var t=mn(18,null,null,0);return t.stateNode=e,t}function fc(e,t,s){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var km=new WeakMap;function Nn(e,t){if(typeof e=="object"&&e!==null){var s=km.get(e);return s!==void 0?s:(t={value:e,source:t,stack:it(t)},km.set(e,t),t)}return{value:e,source:t,stack:it(t)}}var Va=[],Ha=0,dr=null,Pi=0,Sn=[],kn=0,Ss=null,Yn=1,Xn="";function as(e,t){Va[Ha++]=Pi,Va[Ha++]=dr,dr=e,Pi=t}function Am(e,t,s){Sn[kn++]=Yn,Sn[kn++]=Xn,Sn[kn++]=Ss,Ss=e;var l=Yn;e=Xn;var c=32-be(l)-1;l&=~(1<<c),s+=1;var d=32-be(t)+c;if(30<d){var g=c-c%5;d=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Yn=1<<32-be(t)+c|s<<c|l,Xn=d+e}else Yn=1<<d|s<<c|l,Xn=e}function mc(e){e.return!==null&&(as(e,1),Am(e,1,0))}function hc(e){for(;e===dr;)dr=Va[--Ha],Va[Ha]=null,Pi=Va[--Ha],Va[Ha]=null;for(;e===Ss;)Ss=Sn[--kn],Sn[kn]=null,Xn=Sn[--kn],Sn[kn]=null,Yn=Sn[--kn],Sn[kn]=null}function Tm(e,t){Sn[kn++]=Yn,Sn[kn++]=Xn,Sn[kn++]=Ss,Yn=t.id,Xn=t.overflow,Ss=e}var $t=null,ht=null,Ie=!1,ks=null,An=!1,pc=Error(o(519));function As(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gi(Nn(t,e)),pc}function Em(e){var t=e.stateNode,s=e.type,l=e.memoizedProps;switch(t[St]=e,t[Lt]=l,s){case"dialog":Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":case"embed":Ke("load",t);break;case"video":case"audio":for(s=0;s<fl.length;s++)Ke(fl[s],t);break;case"source":Ke("error",t);break;case"img":case"image":case"link":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"input":Ke("invalid",t),$f(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ke("invalid",t);break;case"textarea":Ke("invalid",t),Pf(t,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||l.suppressHydrationWarning===!0||Yp(t.textContent,s)?(l.popover!=null&&(Ke("beforetoggle",t),Ke("toggle",t)),l.onScroll!=null&&Ke("scroll",t),l.onScrollEnd!=null&&Ke("scrollend",t),l.onClick!=null&&(t.onclick=ts),t=!0):t=!1,t||As(e,!0)}function Cm(e){for($t=e.return;$t;)switch($t.tag){case 5:case 31:case 13:An=!1;return;case 27:case 3:An=!0;return;default:$t=$t.return}}function $a(e){if(e!==$t)return!1;if(!Ie)return Cm(e),Ie=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ru(e.type,e.memoizedProps)),s=!s),s&&ht&&As(e),Cm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ht=ex(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ht=ex(e)}else t===27?(t=ht,Hs(e.type)?(e=Bu,Bu=null,ht=e):ht=t):ht=$t?En(e.stateNode.nextSibling):null;return!0}function ia(){ht=$t=null,Ie=!1}function xc(){var e=ks;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),ks=null),e}function Gi(e){ks===null?ks=[e]:ks.push(e)}var gc=N(null),la=null,is=null;function Ts(e,t,s){ae(gc,t._currentValue),t._currentValue=s}function ls(e){e._currentValue=gc.current,B(gc)}function yc(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function bc(e,t,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=c;for(var C=0;C<t.length;C++)if(w.context===t[C]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),yc(d.return,s,e),l||(g=null);break e}d=w.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(o(341));g.lanes|=s,d=g.alternate,d!==null&&(d.lanes|=s),yc(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function qa(e,t,s,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(o(387));if(g=g.memoizedProps,g!==null){var w=c.type;fn(c.pendingProps.value,g.value)||(e!==null?e.push(w):e=[w])}}else if(c===me.current){if(g=c.alternate,g===null)throw Error(o(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}c=c.return}e!==null&&bc(t,e,s,l),t.flags|=262144}function fr(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){la=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return _m(la,e)}function mr(e,t){return la===null&&ra(e),_m(e,t)}function _m(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},is===null){if(e===null)throw Error(o(308));is=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else is=is.next=t;return s}var Cv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},_v=n.unstable_scheduleCallback,Mv=n.unstable_NormalPriority,Ct={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vc(){return{controller:new Cv,data:new Map,refCount:0}}function Yi(e){e.refCount--,e.refCount===0&&_v(Mv,function(){e.controller.abort()})}var Xi=null,wc=0,Pa=0,Ga=null;function Dv(e,t){if(Xi===null){var s=Xi=[];wc=0,Pa=Su(),Ga={status:"pending",value:void 0,then:function(l){s.push(l)}}}return wc++,t.then(Mm,Mm),t}function Mm(){if(--wc===0&&Xi!==null){Ga!==null&&(Ga.status="fulfilled");var e=Xi;Xi=null,Pa=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Rv(e,t){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<s.length;c++)(0,s[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Dm=A.S;A.S=function(e,t){pp=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Dv(e,t),Dm!==null&&Dm(e,t)};var oa=N(null);function jc(){var e=oa.current;return e!==null?e:ft.pooledCache}function hr(e,t){t===null?ae(oa,oa.current):ae(oa,t.pool)}function Rm(){var e=jc();return e===null?null:{parent:Ct._currentValue,pool:e}}var Ya=Error(o(460)),Nc=Error(o(474)),pr=Error(o(542)),xr={then:function(){}};function zm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Um(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(ts,ts),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lm(e),e;default:if(typeof t.status=="string")t.then(ts,ts);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lm(e),e}throw ua=t,Ya}}function ca(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ua=s,Ya):s}}var ua=null;function Om(){if(ua===null)throw Error(o(459));var e=ua;return ua=null,e}function Lm(e){if(e===Ya||e===pr)throw Error(o(483))}var Xa=null,Zi=0;function gr(e){var t=Zi;return Zi+=1,Xa===null&&(Xa=[]),Um(Xa,e,t)}function Qi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yr(e,t){throw t.$$typeof===j?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bm(e){function t(q,R){if(e){var Y=q.deletions;Y===null?(q.deletions=[R],q.flags|=16):Y.push(R)}}function s(q,R){if(!e)return null;for(;R!==null;)t(q,R),R=R.sibling;return null}function l(q){for(var R=new Map;q!==null;)q.key!==null?R.set(q.key,q):R.set(q.index,q),q=q.sibling;return R}function c(q,R){return q=ss(q,R),q.index=0,q.sibling=null,q}function d(q,R,Y){return q.index=Y,e?(Y=q.alternate,Y!==null?(Y=Y.index,Y<R?(q.flags|=67108866,R):Y):(q.flags|=67108866,R)):(q.flags|=1048576,R)}function g(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function w(q,R,Y,oe){return R===null||R.tag!==6?(R=dc(Y,q.mode,oe),R.return=q,R):(R=c(R,Y),R.return=q,R)}function C(q,R,Y,oe){var Be=Y.type;return Be===_?ie(q,R,Y.props.children,oe,Y.key):R!==null&&(R.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===V&&ca(Be)===R.type)?(R=c(R,Y.props),Qi(R,Y),R.return=q,R):(R=ur(Y.type,Y.key,Y.props,null,q.mode,oe),Qi(R,Y),R.return=q,R)}function X(q,R,Y,oe){return R===null||R.tag!==4||R.stateNode.containerInfo!==Y.containerInfo||R.stateNode.implementation!==Y.implementation?(R=fc(Y,q.mode,oe),R.return=q,R):(R=c(R,Y.children||[]),R.return=q,R)}function ie(q,R,Y,oe,Be){return R===null||R.tag!==7?(R=aa(Y,q.mode,oe,Be),R.return=q,R):(R=c(R,Y),R.return=q,R)}function ue(q,R,Y){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=dc(""+R,q.mode,Y),R.return=q,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case k:return Y=ur(R.type,R.key,R.props,null,q.mode,Y),Qi(Y,R),Y.return=q,Y;case T:return R=fc(R,q.mode,Y),R.return=q,R;case V:return R=ca(R),ue(q,R,Y)}if(K(R)||ce(R))return R=aa(R,q.mode,Y,null),R.return=q,R;if(typeof R.then=="function")return ue(q,gr(R),Y);if(R.$$typeof===D)return ue(q,mr(q,R),Y);yr(q,R)}return null}function Q(q,R,Y,oe){var Be=R!==null?R.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Be!==null?null:w(q,R,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:return Y.key===Be?C(q,R,Y,oe):null;case T:return Y.key===Be?X(q,R,Y,oe):null;case V:return Y=ca(Y),Q(q,R,Y,oe)}if(K(Y)||ce(Y))return Be!==null?null:ie(q,R,Y,oe,null);if(typeof Y.then=="function")return Q(q,R,gr(Y),oe);if(Y.$$typeof===D)return Q(q,R,mr(q,Y),oe);yr(q,Y)}return null}function I(q,R,Y,oe,Be){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return q=q.get(Y)||null,w(R,q,""+oe,Be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case k:return q=q.get(oe.key===null?Y:oe.key)||null,C(R,q,oe,Be);case T:return q=q.get(oe.key===null?Y:oe.key)||null,X(R,q,oe,Be);case V:return oe=ca(oe),I(q,R,Y,oe,Be)}if(K(oe)||ce(oe))return q=q.get(Y)||null,ie(R,q,oe,Be,null);if(typeof oe.then=="function")return I(q,R,Y,gr(oe),Be);if(oe.$$typeof===D)return I(q,R,Y,mr(R,oe),Be);yr(R,oe)}return null}function Ee(q,R,Y,oe){for(var Be=null,nt=null,De=R,Ze=R=0,Fe=null;De!==null&&Ze<Y.length;Ze++){De.index>Ze?(Fe=De,De=null):Fe=De.sibling;var st=Q(q,De,Y[Ze],oe);if(st===null){De===null&&(De=Fe);break}e&&De&&st.alternate===null&&t(q,De),R=d(st,R,Ze),nt===null?Be=st:nt.sibling=st,nt=st,De=Fe}if(Ze===Y.length)return s(q,De),Ie&&as(q,Ze),Be;if(De===null){for(;Ze<Y.length;Ze++)De=ue(q,Y[Ze],oe),De!==null&&(R=d(De,R,Ze),nt===null?Be=De:nt.sibling=De,nt=De);return Ie&&as(q,Ze),Be}for(De=l(De);Ze<Y.length;Ze++)Fe=I(De,q,Ze,Y[Ze],oe),Fe!==null&&(e&&Fe.alternate!==null&&De.delete(Fe.key===null?Ze:Fe.key),R=d(Fe,R,Ze),nt===null?Be=Fe:nt.sibling=Fe,nt=Fe);return e&&De.forEach(function(Ys){return t(q,Ys)}),Ie&&as(q,Ze),Be}function Ve(q,R,Y,oe){if(Y==null)throw Error(o(151));for(var Be=null,nt=null,De=R,Ze=R=0,Fe=null,st=Y.next();De!==null&&!st.done;Ze++,st=Y.next()){De.index>Ze?(Fe=De,De=null):Fe=De.sibling;var Ys=Q(q,De,st.value,oe);if(Ys===null){De===null&&(De=Fe);break}e&&De&&Ys.alternate===null&&t(q,De),R=d(Ys,R,Ze),nt===null?Be=Ys:nt.sibling=Ys,nt=Ys,De=Fe}if(st.done)return s(q,De),Ie&&as(q,Ze),Be;if(De===null){for(;!st.done;Ze++,st=Y.next())st=ue(q,st.value,oe),st!==null&&(R=d(st,R,Ze),nt===null?Be=st:nt.sibling=st,nt=st);return Ie&&as(q,Ze),Be}for(De=l(De);!st.done;Ze++,st=Y.next())st=I(De,q,Ze,st.value,oe),st!==null&&(e&&st.alternate!==null&&De.delete(st.key===null?Ze:st.key),R=d(st,R,Ze),nt===null?Be=st:nt.sibling=st,nt=st);return e&&De.forEach(function(G1){return t(q,G1)}),Ie&&as(q,Ze),Be}function dt(q,R,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===_&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:e:{for(var Be=Y.key;R!==null;){if(R.key===Be){if(Be=Y.type,Be===_){if(R.tag===7){s(q,R.sibling),oe=c(R,Y.props.children),oe.return=q,q=oe;break e}}else if(R.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===V&&ca(Be)===R.type){s(q,R.sibling),oe=c(R,Y.props),Qi(oe,Y),oe.return=q,q=oe;break e}s(q,R);break}else t(q,R);R=R.sibling}Y.type===_?(oe=aa(Y.props.children,q.mode,oe,Y.key),oe.return=q,q=oe):(oe=ur(Y.type,Y.key,Y.props,null,q.mode,oe),Qi(oe,Y),oe.return=q,q=oe)}return g(q);case T:e:{for(Be=Y.key;R!==null;){if(R.key===Be)if(R.tag===4&&R.stateNode.containerInfo===Y.containerInfo&&R.stateNode.implementation===Y.implementation){s(q,R.sibling),oe=c(R,Y.children||[]),oe.return=q,q=oe;break e}else{s(q,R);break}else t(q,R);R=R.sibling}oe=fc(Y,q.mode,oe),oe.return=q,q=oe}return g(q);case V:return Y=ca(Y),dt(q,R,Y,oe)}if(K(Y))return Ee(q,R,Y,oe);if(ce(Y)){if(Be=ce(Y),typeof Be!="function")throw Error(o(150));return Y=Be.call(Y),Ve(q,R,Y,oe)}if(typeof Y.then=="function")return dt(q,R,gr(Y),oe);if(Y.$$typeof===D)return dt(q,R,mr(q,Y),oe);yr(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,R!==null&&R.tag===6?(s(q,R.sibling),oe=c(R,Y),oe.return=q,q=oe):(s(q,R),oe=dc(Y,q.mode,oe),oe.return=q,q=oe),g(q)):s(q,R)}return function(q,R,Y,oe){try{Zi=0;var Be=dt(q,R,Y,oe);return Xa=null,Be}catch(De){if(De===Ya||De===pr)throw De;var nt=mn(29,De,null,q.mode);return nt.lanes=oe,nt.return=q,nt}}}var da=Bm(!0),Vm=Bm(!1),Es=!1;function Sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _s(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=cr(e),jm(e,null,s),t}return or(e,l,t,s),cr(e)}function Ki(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Kl(e,s)}}function Ac(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,s=s.next}while(s!==null);d===null?c=d=t:d=d.next=t}else c=d=t;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var Tc=!1;function Ji(){if(Tc){var e=Ga;if(e!==null)throw e}}function Fi(e,t,s,l){Tc=!1;var c=e.updateQueue;Es=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var C=w,X=C.next;C.next=null,g===null?d=X:g.next=X,g=C;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,w=ie.lastBaseUpdate,w!==g&&(w===null?ie.firstBaseUpdate=X:w.next=X,ie.lastBaseUpdate=C))}if(d!==null){var ue=c.baseState;g=0,ie=X=C=null,w=d;do{var Q=w.lane&-536870913,I=Q!==w.lane;if(I?(Je&Q)===Q:(l&Q)===Q){Q!==0&&Q===Pa&&(Tc=!0),ie!==null&&(ie=ie.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ee=e,Ve=w;Q=t;var dt=s;switch(Ve.tag){case 1:if(Ee=Ve.payload,typeof Ee=="function"){ue=Ee.call(dt,ue,Q);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ve.payload,Q=typeof Ee=="function"?Ee.call(dt,ue,Q):Ee,Q==null)break e;ue=v({},ue,Q);break e;case 2:Es=!0}}Q=w.callback,Q!==null&&(e.flags|=64,I&&(e.flags|=8192),I=c.callbacks,I===null?c.callbacks=[Q]:I.push(Q))}else I={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ie===null?(X=ie=I,C=ue):ie=ie.next=I,g|=Q;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;I=w,w=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);ie===null&&(C=ue),c.baseState=C,c.firstBaseUpdate=X,c.lastBaseUpdate=ie,d===null&&(c.shared.lanes=0),Us|=g,e.lanes=g,e.memoizedState=ue}}function Hm(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function $m(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Hm(s[e],t)}var Za=N(null),br=N(0);function qm(e,t){e=ps,ae(br,e),ae(Za,t),ps=e|t.baseLanes}function Ec(){ae(br,ps),ae(Za,Za.current)}function Cc(){ps=br.current,B(Za),B(br)}var hn=N(null),Tn=null;function Ms(e){var t=e.alternate;ae(kt,kt.current&1),ae(hn,e),Tn===null&&(t===null||Za.current!==null||t.memoizedState!==null)&&(Tn=e)}function _c(e){ae(kt,kt.current),ae(hn,e),Tn===null&&(Tn=e)}function Pm(e){e.tag===22?(ae(kt,kt.current),ae(hn,e),Tn===null&&(Tn=e)):Ds()}function Ds(){ae(kt,kt.current),ae(hn,hn.current)}function pn(e){B(hn),Tn===e&&(Tn=null),B(kt)}var kt=N(0);function vr(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ou(s)||Lu(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=0,Ye=null,ct=null,_t=null,wr=!1,Qa=!1,fa=!1,jr=0,Ii=0,Ka=null,zv=0;function wt(){throw Error(o(321))}function Mc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!fn(e[s],t[s]))return!1;return!0}function Dc(e,t,s,l,c,d){return rs=d,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?Ah:Zc,fa=!1,d=s(l,c),fa=!1,Qa&&(d=Ym(t,s,l,c)),Gm(e),d}function Gm(e){A.H=tl;var t=ct!==null&&ct.next!==null;if(rs=0,_t=ct=Ye=null,wr=!1,Ii=0,Ka=null,t)throw Error(o(300));e===null||Mt||(e=e.dependencies,e!==null&&fr(e)&&(Mt=!0))}function Ym(e,t,s,l){Ye=e;var c=0;do{if(Qa&&(Ka=null),Ii=0,Qa=!1,25<=c)throw Error(o(301));if(c+=1,_t=ct=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=Th,d=t(s,l)}while(Qa);return d}function Uv(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?Wi(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Ye.flags|=1024),t}function Rc(){var e=jr!==0;return jr=0,e}function zc(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Uc(e){if(wr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wr=!1}rs=0,_t=ct=Ye=null,Qa=!1,Ii=jr=0,Ka=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ye.memoizedState=_t=e:_t=_t.next=e,_t}function At(){if(ct===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=_t===null?Ye.memoizedState:_t.next;if(t!==null)_t=t,ct=e;else{if(e===null)throw Ye.alternate===null?Error(o(467)):Error(o(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},_t===null?Ye.memoizedState=_t=e:_t=_t.next=e}return _t}function Nr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wi(e){var t=Ii;return Ii+=1,Ka===null&&(Ka=[]),e=Um(Ka,e,t),t=Ye,(_t===null?t.memoizedState:_t.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?Ah:Zc),e}function Sr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wi(e);if(e.$$typeof===D)return qt(e)}throw Error(o(438,String(e)))}function Oc(e){var t=null,s=Ye.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var l=Ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Nr(),Ye.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),l=0;l<e;l++)s[l]=se;return t.index++,s}function os(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=At();return Lc(t,ct,e)}function Lc(e,t,s){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=s;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var w=g=null,C=null,X=t,ie=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(Je&ue)===ue:(rs&ue)===ue){var Q=X.revertLane;if(Q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===Pa&&(ie=!0);else if((rs&Q)===Q){X=X.next,Q===Pa&&(ie=!0);continue}else ue={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},C===null?(w=C=ue,g=d):C=C.next=ue,Ye.lanes|=Q,Us|=Q;ue=X.action,fa&&s(d,ue),d=X.hasEagerState?X.eagerState:s(d,ue)}else Q={lane:ue,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},C===null?(w=C=Q,g=d):C=C.next=Q,Ye.lanes|=ue,Us|=ue;X=X.next}while(X!==null&&X!==t);if(C===null?g=d:C.next=w,!fn(d,e.memoizedState)&&(Mt=!0,ie&&(s=Ga,s!==null)))throw s;e.memoizedState=d,e.baseState=g,e.baseQueue=C,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Bc(e){var t=At(),s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,d=t.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);fn(d,t.memoizedState)||(Mt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),s.lastRenderedState=d}return[d,l]}function Xm(e,t,s){var l=Ye,c=At(),d=Ie;if(d){if(s===void 0)throw Error(o(407));s=s()}else s=t();var g=!fn((ct||c).memoizedState,s);if(g&&(c.memoizedState=s,Mt=!0),c=c.queue,$c(Km.bind(null,l,c,e),[e]),c.getSnapshot!==t||g||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},Qm.bind(null,l,c,s,t),null),ft===null)throw Error(o(349));d||(rs&127)!==0||Zm(l,t,s)}return s}function Zm(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ye.updateQueue,t===null?(t=Nr(),Ye.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Qm(e,t,s,l){t.value=s,t.getSnapshot=l,Jm(t)&&Fm(e)}function Km(e,t,s){return s(function(){Jm(t)&&Fm(e)})}function Jm(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!fn(e,s)}catch{return!0}}function Fm(e){var t=sa(e,2);t!==null&&un(t,e,2)}function Vc(e){var t=en();if(typeof e=="function"){var s=e;if(e=s(),fa){ke(!0);try{s()}finally{ke(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:e},t}function Im(e,t,s,l){return e.baseState=s,Lc(e,ct,typeof l=="function"?l:os)}function Ov(e,t,s,l,c){if(Er(e))throw Error(o(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};A.T!==null?s(!0):d.isTransition=!1,l(d),s=t.pending,s===null?(d.next=t.pending=d,Wm(t,d)):(d.next=s.next,t.pending=s.next=d)}}function Wm(e,t){var s=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=A.T,g={};A.T=g;try{var w=s(c,l),C=A.S;C!==null&&C(g,w),eh(e,t,w)}catch(X){Hc(e,t,X)}finally{d!==null&&g.types!==null&&(d.types=g.types),A.T=d}}else try{d=s(c,l),eh(e,t,d)}catch(X){Hc(e,t,X)}}function eh(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){th(e,t,l)},function(l){return Hc(e,t,l)}):th(e,t,s)}function th(e,t,s){t.status="fulfilled",t.value=s,nh(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Wm(e,s)))}function Hc(e,t,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=s,nh(t),t=t.next;while(t!==l)}e.action=null}function nh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sh(e,t){return t}function ah(e,t){if(Ie){var s=ft.formState;if(s!==null){e:{var l=Ye;if(Ie){if(ht){t:{for(var c=ht,d=An;c.nodeType!==8;){if(!d){c=null;break t}if(c=En(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){ht=En(c.nextSibling),l=c.data==="F!";break e}}As(l)}l=!1}l&&(t=s[0])}}return s=en(),s.memoizedState=s.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:t},s.queue=l,s=Nh.bind(null,Ye,l),l.dispatch=s,l=Vc(!1),d=Xc.bind(null,Ye,!1,l.queue),l=en(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,s=Ov.bind(null,Ye,c,d,s),c.dispatch=s,l.memoizedState=e,[t,s,!1]}function ih(e){var t=At();return lh(t,ct,e)}function lh(e,t,s){if(t=Lc(e,t,sh)[0],e=kr(os)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Wi(t)}catch(g){throw g===Ya?pr:g}else l=t;t=At();var c=t.queue,d=c.dispatch;return s!==t.memoizedState&&(Ye.flags|=2048,Ja(9,{destroy:void 0},Lv.bind(null,c,s),null)),[l,d,e]}function Lv(e,t){e.action=t}function rh(e){var t=At(),s=ct;if(s!==null)return lh(t,s,e);At(),t=t.memoizedState,s=At();var l=s.queue.dispatch;return s.memoizedState=e,[t,l,!1]}function Ja(e,t,s,l){return e={tag:e,create:s,deps:l,inst:t,next:null},t=Ye.updateQueue,t===null&&(t=Nr(),Ye.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e),e}function oh(){return At().memoizedState}function Ar(e,t,s,l){var c=en();Ye.flags|=e,c.memoizedState=Ja(1|t,{destroy:void 0},s,l===void 0?null:l)}function Tr(e,t,s,l){var c=At();l=l===void 0?null:l;var d=c.memoizedState.inst;ct!==null&&l!==null&&Mc(l,ct.memoizedState.deps)?c.memoizedState=Ja(t,d,s,l):(Ye.flags|=e,c.memoizedState=Ja(1|t,d,s,l))}function ch(e,t){Ar(8390656,8,e,t)}function $c(e,t){Tr(2048,8,e,t)}function Bv(e){Ye.flags|=4;var t=Ye.updateQueue;if(t===null)t=Nr(),Ye.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function uh(e){var t=At().memoizedState;return Bv({ref:t,nextImpl:e}),function(){if((at&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function dh(e,t){return Tr(4,2,e,t)}function fh(e,t){return Tr(4,4,e,t)}function mh(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hh(e,t,s){s=s!=null?s.concat([e]):null,Tr(4,4,mh.bind(null,t,e),s)}function qc(){}function ph(e,t){var s=At();t=t===void 0?null:t;var l=s.memoizedState;return t!==null&&Mc(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function xh(e,t){var s=At();t=t===void 0?null:t;var l=s.memoizedState;if(t!==null&&Mc(t,l[1]))return l[0];if(l=e(),fa){ke(!0);try{e()}finally{ke(!1)}}return s.memoizedState=[l,t],l}function Pc(e,t,s){return s===void 0||(rs&1073741824)!==0&&(Je&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=gp(),Ye.lanes|=e,Us|=e,s)}function gh(e,t,s,l){return fn(s,t)?s:Za.current!==null?(e=Pc(e,s,l),fn(e,t)||(Mt=!0),e):(rs&42)===0||(rs&1073741824)!==0&&(Je&261930)===0?(Mt=!0,e.memoizedState=s):(e=gp(),Ye.lanes|=e,Us|=e,t)}function yh(e,t,s,l,c){var d=O.p;O.p=d!==0&&8>d?d:8;var g=A.T,w={};A.T=w,Xc(e,!1,t,s);try{var C=c(),X=A.S;if(X!==null&&X(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var ie=Rv(C,l);el(e,t,ie,yn(e))}else el(e,t,l,yn(e))}catch(ue){el(e,t,{then:function(){},status:"rejected",reason:ue},yn())}finally{O.p=d,g!==null&&w.types!==null&&(g.types=w.types),A.T=g}}function Vv(){}function Gc(e,t,s,l){if(e.tag!==5)throw Error(o(476));var c=bh(e).queue;yh(e,c,t,W,s===null?Vv:function(){return vh(e),s(l)})}function bh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:W},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vh(e){var t=bh(e);t.next===null&&(t=e.alternate.memoizedState),el(e,t.next.queue,{},yn())}function Yc(){return qt(gl)}function wh(){return At().memoizedState}function jh(){return At().memoizedState}function Hv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=yn();e=Cs(s);var l=_s(t,e,s);l!==null&&(un(l,t,s),Ki(l,t,s)),t={cache:vc()},e.payload=t;return}t=t.return}}function $v(e,t,s){var l=yn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Er(e)?Sh(t,s):(s=cc(e,t,s,l),s!==null&&(un(s,e,l),kh(s,t,l)))}function Nh(e,t,s){var l=yn();el(e,t,s,l)}function el(e,t,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Er(e))Sh(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,w=d(g,s);if(c.hasEagerState=!0,c.eagerState=w,fn(w,g))return or(e,t,c,0),ft===null&&rr(),!1}catch{}if(s=cc(e,t,c,l),s!==null)return un(s,e,l),kh(s,t,l),!0}return!1}function Xc(e,t,s,l){if(l={lane:2,revertLane:Su(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Er(e)){if(t)throw Error(o(479))}else t=cc(e,s,l,2),t!==null&&un(t,e,2)}function Er(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function Sh(e,t){Qa=wr=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function kh(e,t,s){if((s&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,Kl(e,s)}}var tl={readContext:qt,use:Sr,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};tl.useEffectEvent=wt;var Ah={readContext:qt,use:Sr,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:ch,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Ar(4194308,4,mh.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ar(4194308,4,e,t)},useInsertionEffect:function(e,t){Ar(4,2,e,t)},useMemo:function(e,t){var s=en();t=t===void 0?null:t;var l=e();if(fa){ke(!0);try{e()}finally{ke(!1)}}return s.memoizedState=[l,t],l},useReducer:function(e,t,s){var l=en();if(s!==void 0){var c=s(t);if(fa){ke(!0);try{s(t)}finally{ke(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=$v.bind(null,Ye,e),[l.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:function(e){e=Vc(e);var t=e.queue,s=Nh.bind(null,Ye,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:qc,useDeferredValue:function(e,t){var s=en();return Pc(s,e,t)},useTransition:function(){var e=Vc(!1);return e=yh.bind(null,Ye,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var l=Ye,c=en();if(Ie){if(s===void 0)throw Error(o(407));s=s()}else{if(s=t(),ft===null)throw Error(o(349));(Je&127)!==0||Zm(l,t,s)}c.memoizedState=s;var d={value:s,getSnapshot:t};return c.queue=d,ch(Km.bind(null,l,d,e),[e]),l.flags|=2048,Ja(9,{destroy:void 0},Qm.bind(null,l,d,s,t),null),s},useId:function(){var e=en(),t=ft.identifierPrefix;if(Ie){var s=Xn,l=Yn;s=(l&~(1<<32-be(l)-1)).toString(32)+s,t="_"+t+"R_"+s,s=jr++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=zv++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Yc,useFormState:ah,useActionState:ah,useOptimistic:function(e){var t=en();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Xc.bind(null,Ye,!0,s),s.dispatch=t,[e,t]},useMemoCache:Oc,useCacheRefresh:function(){return en().memoizedState=Hv.bind(null,Ye)},useEffectEvent:function(e){var t=en(),s={impl:e};return t.memoizedState=s,function(){if((at&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},Zc={readContext:qt,use:Sr,useCallback:ph,useContext:qt,useEffect:$c,useImperativeHandle:hh,useInsertionEffect:dh,useLayoutEffect:fh,useMemo:xh,useReducer:kr,useRef:oh,useState:function(){return kr(os)},useDebugValue:qc,useDeferredValue:function(e,t){var s=At();return gh(s,ct.memoizedState,e,t)},useTransition:function(){var e=kr(os)[0],t=At().memoizedState;return[typeof e=="boolean"?e:Wi(e),t]},useSyncExternalStore:Xm,useId:wh,useHostTransitionStatus:Yc,useFormState:ih,useActionState:ih,useOptimistic:function(e,t){var s=At();return Im(s,ct,e,t)},useMemoCache:Oc,useCacheRefresh:jh};Zc.useEffectEvent=uh;var Th={readContext:qt,use:Sr,useCallback:ph,useContext:qt,useEffect:$c,useImperativeHandle:hh,useInsertionEffect:dh,useLayoutEffect:fh,useMemo:xh,useReducer:Bc,useRef:oh,useState:function(){return Bc(os)},useDebugValue:qc,useDeferredValue:function(e,t){var s=At();return ct===null?Pc(s,e,t):gh(s,ct.memoizedState,e,t)},useTransition:function(){var e=Bc(os)[0],t=At().memoizedState;return[typeof e=="boolean"?e:Wi(e),t]},useSyncExternalStore:Xm,useId:wh,useHostTransitionStatus:Yc,useFormState:rh,useActionState:rh,useOptimistic:function(e,t){var s=At();return ct!==null?Im(s,ct,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Oc,useCacheRefresh:jh};Th.useEffectEvent=uh;function Qc(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:v({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Kc={enqueueSetState:function(e,t,s){e=e._reactInternals;var l=yn(),c=Cs(l);c.payload=t,s!=null&&(c.callback=s),t=_s(e,c,l),t!==null&&(un(t,e,l),Ki(t,e,l))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=yn(),c=Cs(l);c.tag=1,c.payload=t,s!=null&&(c.callback=s),t=_s(e,c,l),t!==null&&(un(t,e,l),Ki(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=yn(),l=Cs(s);l.tag=2,t!=null&&(l.callback=t),t=_s(e,l,s),t!==null&&(un(t,e,s),Ki(t,e,s))}};function Eh(e,t,s,l,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,g):t.prototype&&t.prototype.isPureReactComponent?!$i(s,l)||!$i(c,d):!0}function Ch(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&Kc.enqueueReplaceState(t,t.state,null)}function ma(e,t){var s=t;if("ref"in t){s={};for(var l in t)l!=="ref"&&(s[l]=t[l])}if(e=e.defaultProps){s===t&&(s=v({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function _h(e){lr(e)}function Mh(e){console.error(e)}function Dh(e){lr(e)}function Cr(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rh(e,t,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Jc(e,t,s){return s=Cs(s),s.tag=3,s.payload={element:null},s.callback=function(){Cr(e,t)},s}function zh(e){return e=Cs(e),e.tag=3,e}function Uh(e,t,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Rh(t,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Rh(t,s,l),typeof c!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function qv(e,t,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=s.alternate,t!==null&&qa(t,s,c,!0),s=hn.current,s!==null){switch(s.tag){case 31:case 13:return Tn===null?$r():s.alternate===null&&jt===0&&(jt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===xr?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([l]):t.add(l),wu(e,l,c)),!1;case 22:return s.flags|=65536,l===xr?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([l]):s.add(l)),wu(e,l,c)),!1}throw Error(o(435,s.tag))}return wu(e,l,c),$r(),!1}if(Ie)return t=hn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==pc&&(e=Error(o(422),{cause:l}),Gi(Nn(e,s)))):(l!==pc&&(t=Error(o(423),{cause:l}),Gi(Nn(t,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Nn(l,s),c=Jc(e.stateNode,l,c),Ac(e,c),jt!==4&&(jt=2)),!1;var d=Error(o(520),{cause:l});if(d=Nn(d,s),cl===null?cl=[d]:cl.push(d),jt!==4&&(jt=2),t===null)return!0;l=Nn(l,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Jc(s.stateNode,l,e),Ac(s,e),!1;case 1:if(t=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Os===null||!Os.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=zh(c),Uh(c,e,s,l),Ac(s,c),!1}s=s.return}while(s!==null);return!1}var Fc=Error(o(461)),Mt=!1;function Pt(e,t,s,l){t.child=e===null?Vm(t,null,s,l):da(t,e.child,s,l)}function Oh(e,t,s,l,c){s=s.render;var d=t.ref;if("ref"in l){var g={};for(var w in l)w!=="ref"&&(g[w]=l[w])}else g=l;return ra(t),l=Dc(e,t,s,g,d,c),w=Rc(),e!==null&&!Mt?(zc(e,t,c),cs(e,t,c)):(Ie&&w&&mc(t),t.flags|=1,Pt(e,t,l,c),t.child)}function Lh(e,t,s,l,c){if(e===null){var d=s.type;return typeof d=="function"&&!uc(d)&&d.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=d,Bh(e,t,d,l,c)):(e=ur(s.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!iu(e,c)){var g=d.memoizedProps;if(s=s.compare,s=s!==null?s:$i,s(g,l)&&e.ref===t.ref)return cs(e,t,c)}return t.flags|=1,e=ss(d,l),e.ref=t.ref,e.return=t,t.child=e}function Bh(e,t,s,l,c){if(e!==null){var d=e.memoizedProps;if($i(d,l)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=l=d,iu(e,c))(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,cs(e,t,c)}return Ic(e,t,s,l,c)}function Vh(e,t,s,l){var c=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,t.child=null;return Hh(e,t,d,s,l)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hr(t,d!==null?d.cachePool:null),d!==null?qm(t,d):Ec(),Pm(t);else return l=t.lanes=536870912,Hh(e,t,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(hr(t,d.cachePool),qm(t,d),Ds(),t.memoizedState=null):(e!==null&&hr(t,null),Ec(),Ds());return Pt(e,t,c,s),t.child}function nl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Hh(e,t,s,l,c){var d=jc();return d=d===null?null:{parent:Ct._currentValue,pool:d},t.memoizedState={baseLanes:s,cachePool:d},e!==null&&hr(t,null),Ec(),Pm(t),e!==null&&qa(e,t,l,!0),t.childLanes=c,null}function _r(e,t){return t=Dr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function $h(e,t,s){return da(t,e.child,null,s),e=_r(t,t.pendingProps),e.flags|=2,pn(t),t.memoizedState=null,e}function Pv(e,t,s){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ie){if(l.mode==="hidden")return e=_r(t,l),t.lanes=536870912,nl(null,e);if(_c(t),(e=ht)?(e=Wp(e,An),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Yn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},s=Sm(e),s.return=t,t.child=s,$t=t,ht=null)):e=null,e===null)throw As(t);return t.lanes=536870912,null}return _r(t,l)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(_c(t),c)if(t.flags&256)t.flags&=-257,t=$h(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Mt||qa(e,t,s,!1),c=(s&e.childLanes)!==0,Mt||c){if(l=ft,l!==null&&(g=Ei(l,s),g!==0&&g!==d.retryLane))throw d.retryLane=g,sa(e,g),un(l,e,g),Fc;$r(),t=$h(e,t,s)}else e=d.treeContext,ht=En(g.nextSibling),$t=t,Ie=!0,ks=null,An=!1,e!==null&&Tm(t,e),t=_r(t,l),t.flags|=4096;return t}return e=ss(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Mr(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function Ic(e,t,s,l,c){return ra(t),s=Dc(e,t,s,l,void 0,c),l=Rc(),e!==null&&!Mt?(zc(e,t,c),cs(e,t,c)):(Ie&&l&&mc(t),t.flags|=1,Pt(e,t,s,c),t.child)}function qh(e,t,s,l,c,d){return ra(t),t.updateQueue=null,s=Ym(t,l,s,c),Gm(e),l=Rc(),e!==null&&!Mt?(zc(e,t,d),cs(e,t,d)):(Ie&&l&&mc(t),t.flags|=1,Pt(e,t,s,d),t.child)}function Ph(e,t,s,l,c){if(ra(t),t.stateNode===null){var d=Ba,g=s.contextType;typeof g=="object"&&g!==null&&(d=qt(g)),d=new s(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kc,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Sc(t),g=s.contextType,d.context=typeof g=="object"&&g!==null?qt(g):Ba,d.state=t.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Qc(t,s,g,l),d.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Kc.enqueueReplaceState(d,d.state,null),Fi(t,l,d,c),Ji(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var w=t.memoizedProps,C=ma(s,w);d.props=C;var X=d.context,ie=s.contextType;g=Ba,typeof ie=="object"&&ie!==null&&(g=qt(ie));var ue=s.getDerivedStateFromProps;ie=typeof ue=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,ie||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||X!==g)&&Ch(t,d,l,g),Es=!1;var Q=t.memoizedState;d.state=Q,Fi(t,l,d,c),Ji(),X=t.memoizedState,w||Q!==X||Es?(typeof ue=="function"&&(Qc(t,s,ue,l),X=t.memoizedState),(C=Es||Eh(t,s,C,l,Q,X,g))?(ie||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=X),d.props=l,d.state=X,d.context=g,l=C):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,kc(e,t),g=t.memoizedProps,ie=ma(s,g),d.props=ie,ue=t.pendingProps,Q=d.context,X=s.contextType,C=Ba,typeof X=="object"&&X!==null&&(C=qt(X)),w=s.getDerivedStateFromProps,(X=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==ue||Q!==C)&&Ch(t,d,l,C),Es=!1,Q=t.memoizedState,d.state=Q,Fi(t,l,d,c),Ji();var I=t.memoizedState;g!==ue||Q!==I||Es||e!==null&&e.dependencies!==null&&fr(e.dependencies)?(typeof w=="function"&&(Qc(t,s,w,l),I=t.memoizedState),(ie=Es||Eh(t,s,ie,l,Q,I,C)||e!==null&&e.dependencies!==null&&fr(e.dependencies))?(X||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,I,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,I,C)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=I),d.props=l,d.state=I,d.context=C,l=ie):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Mr(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=da(t,e.child,null,c),t.child=da(t,null,s,c)):Pt(e,t,s,c),t.memoizedState=d.state,e=t.child):e=cs(e,t,c),e}function Gh(e,t,s,l){return ia(),t.flags|=256,Pt(e,t,s,l),t.child}var Wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eu(e){return{baseLanes:e,cachePool:Rm()}}function tu(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=gn),e}function Yh(e,t,s){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(kt.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ie){if(c?Ms(t):Ds(),(e=ht)?(e=Wp(e,An),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Yn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},s=Sm(e),s.return=t,t.child=s,$t=t,ht=null)):e=null,e===null)throw As(t);return Lu(e)?t.lanes=32:t.lanes=536870912,null}var w=l.children;return l=l.fallback,c?(Ds(),c=t.mode,w=Dr({mode:"hidden",children:w},c),l=aa(l,c,s,null),w.return=t,l.return=t,w.sibling=l,t.child=w,l=t.child,l.memoizedState=eu(s),l.childLanes=tu(e,g,s),t.memoizedState=Wc,nl(null,l)):(Ms(t),nu(t,w))}var C=e.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(d)t.flags&256?(Ms(t),t.flags&=-257,t=su(e,t,s)):t.memoizedState!==null?(Ds(),t.child=e.child,t.flags|=128,t=null):(Ds(),w=l.fallback,c=t.mode,l=Dr({mode:"visible",children:l.children},c),w=aa(w,c,s,null),w.flags|=2,l.return=t,w.return=t,l.sibling=w,t.child=l,da(t,e.child,null,s),l=t.child,l.memoizedState=eu(s),l.childLanes=tu(e,g,s),t.memoizedState=Wc,t=nl(null,l));else if(Ms(t),Lu(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var X=g.dgst;g=X,l=Error(o(419)),l.stack="",l.digest=g,Gi({value:l,source:null,stack:null}),t=su(e,t,s)}else if(Mt||qa(e,t,s,!1),g=(s&e.childLanes)!==0,Mt||g){if(g=ft,g!==null&&(l=Ei(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,sa(e,l),un(g,e,l),Fc;Ou(w)||$r(),t=su(e,t,s)}else Ou(w)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,ht=En(w.nextSibling),$t=t,Ie=!0,ks=null,An=!1,e!==null&&Tm(t,e),t=nu(t,l.children),t.flags|=4096);return t}return c?(Ds(),w=l.fallback,c=t.mode,C=e.child,X=C.sibling,l=ss(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,X!==null?w=ss(X,w):(w=aa(w,c,s,null),w.flags|=2),w.return=t,l.return=t,l.sibling=w,t.child=l,nl(null,l),l=t.child,w=e.child.memoizedState,w===null?w=eu(s):(c=w.cachePool,c!==null?(C=Ct._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Rm(),w={baseLanes:w.baseLanes|s,cachePool:c}),l.memoizedState=w,l.childLanes=tu(e,g,s),t.memoizedState=Wc,nl(e.child,l)):(Ms(t),s=e.child,e=s.sibling,s=ss(s,{mode:"visible",children:l.children}),s.return=t,s.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=s,t.memoizedState=null,s)}function nu(e,t){return t=Dr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Dr(e,t){return e=mn(22,e,null,t),e.lanes=0,e}function su(e,t,s){return da(t,e.child,null,s),e=nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xh(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),yc(e.return,t,s)}function au(e,t,s,l,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=d)}function Zh(e,t,s){var l=t.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var g=kt.current,w=(g&2)!==0;if(w?(g=g&1|2,t.flags|=128):g&=1,ae(kt,g),Pt(e,t,l,s),l=Ie?Pi:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xh(e,s,t);else if(e.tag===19)Xh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=t.child,c=null;s!==null;)e=s.alternate,e!==null&&vr(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=t.child,t.child=null):(c=s.sibling,s.sibling=null),au(t,!1,c,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&vr(e)===null){t.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}au(t,!0,s,null,d,l);break;case"together":au(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function cs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Us|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(qa(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,s=ss(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ss(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function iu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fr(e)))}function Gv(e,t,s){switch(t.tag){case 3:fe(t,t.stateNode.containerInfo),Ts(t,Ct,e.memoizedState.cache),ia();break;case 27:case 5:Ce(t);break;case 4:fe(t,t.stateNode.containerInfo);break;case 10:Ts(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_c(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ms(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Yh(e,t,s):(Ms(t),e=cs(e,t,s),e!==null?e.sibling:null);Ms(t);break;case 19:var c=(e.flags&128)!==0;if(l=(s&t.childLanes)!==0,l||(qa(e,t,s,!1),l=(s&t.childLanes)!==0),c){if(l)return Zh(e,t,s);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ae(kt,kt.current),l)break;return null;case 22:return t.lanes=0,Vh(e,t,s,t.pendingProps);case 24:Ts(t,Ct,e.memoizedState.cache)}return cs(e,t,s)}function Qh(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!iu(e,s)&&(t.flags&128)===0)return Mt=!1,Gv(e,t,s);Mt=(e.flags&131072)!==0}else Mt=!1,Ie&&(t.flags&1048576)!==0&&Am(t,Pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ca(t.elementType),t.type=e,typeof e=="function")uc(e)?(l=ma(e,l),t.tag=1,t=Ph(null,t,e,l,s)):(t.tag=0,t=Ic(null,t,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===S){t.tag=11,t=Oh(null,t,e,l,s);break e}else if(c===L){t.tag=14,t=Lh(null,t,e,l,s);break e}}throw t=ee(e)||e,Error(o(306,t,""))}}return t;case 0:return Ic(e,t,t.type,t.pendingProps,s);case 1:return l=t.type,c=ma(l,t.pendingProps),Ph(e,t,l,c,s);case 3:e:{if(fe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var d=t.memoizedState;c=d.element,kc(e,t),Fi(t,l,null,s);var g=t.memoizedState;if(l=g.cache,Ts(t,Ct,l),l!==d.cache&&bc(t,[Ct],s,!0),Ji(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Gh(e,t,l,s);break e}else if(l!==c){c=Nn(Error(o(424)),t),Gi(c),t=Gh(e,t,l,s);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ht=En(e.firstChild),$t=t,Ie=!0,ks=null,An=!0,s=Vm(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ia(),l===c){t=cs(e,t,s);break e}Pt(e,t,l,s)}t=t.child}return t;case 26:return Mr(e,t),e===null?(s=ix(t.type,null,t.pendingProps,null))?t.memoizedState=s:Ie||(s=t.type,e=t.pendingProps,l=Qr(ne.current).createElement(s),l[St]=t,l[Lt]=e,Gt(l,s,e),M(l),t.stateNode=l):t.memoizedState=ix(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&Ie&&(l=t.stateNode=nx(t.type,t.pendingProps,ne.current),$t=t,An=!0,c=ht,Hs(t.type)?(Bu=c,ht=En(l.firstChild)):ht=c),Pt(e,t,t.pendingProps.children,s),Mr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ie&&((c=l=ht)&&(l=v1(l,t.type,t.pendingProps,An),l!==null?(t.stateNode=l,$t=t,ht=En(l.firstChild),An=!1,c=!0):c=!1),c||As(t)),Ce(t),c=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,l=d.children,Ru(c,d)?l=null:g!==null&&Ru(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=Dc(e,t,Uv,null,null,s),gl._currentValue=c),Mr(e,t),Pt(e,t,l,s),t.child;case 6:return e===null&&Ie&&((e=s=ht)&&(s=w1(s,t.pendingProps,An),s!==null?(t.stateNode=s,$t=t,ht=null,e=!0):e=!1),e||As(t)),null;case 13:return Yh(e,t,s);case 4:return fe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=da(t,null,l,s):Pt(e,t,l,s),t.child;case 11:return Oh(e,t,t.type,t.pendingProps,s);case 7:return Pt(e,t,t.pendingProps,s),t.child;case 8:return Pt(e,t,t.pendingProps.children,s),t.child;case 12:return Pt(e,t,t.pendingProps.children,s),t.child;case 10:return l=t.pendingProps,Ts(t,t.type,l.value),Pt(e,t,l.children,s),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ra(t),c=qt(c),l=l(c),t.flags|=1,Pt(e,t,l,s),t.child;case 14:return Lh(e,t,t.type,t.pendingProps,s);case 15:return Bh(e,t,t.type,t.pendingProps,s);case 19:return Zh(e,t,s);case 31:return Pv(e,t,s);case 22:return Vh(e,t,s,t.pendingProps);case 24:return ra(t),l=qt(Ct),e===null?(c=jc(),c===null&&(c=ft,d=vc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),t.memoizedState={parent:l,cache:c},Sc(t),Ts(t,Ct,c)):((e.lanes&s)!==0&&(kc(e,t),Fi(t,null,null,s),Ji()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ts(t,Ct,l)):(l=d.cache,Ts(t,Ct,l),l!==c.cache&&bc(t,[Ct],s,!0))),Pt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function us(e){e.flags|=4}function lu(e,t,s,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(wp())e.flags|=8192;else throw ua=xr,Nc}else e.flags&=-16777217}function Kh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ux(t))if(wp())e.flags|=8192;else throw ua=xr,Nc}function Rr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zl():536870912,e.lanes|=t,ei|=t)}function sl(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function Yv(e,t,s){var l=t.pendingProps;switch(hc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return pt(t),null;case 3:return s=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ls(Ct),Se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&($a(t)?us(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xc())),pt(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(us(t),d!==null?(pt(t),Kh(t,d)):(pt(t),lu(t,c,null,l,s))):d?d!==e.memoizedState?(us(t),pt(t),Kh(t,d)):(pt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&us(t),pt(t),lu(t,c,e,l,s)),null;case 27:if(ze(t),s=ne.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&us(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return pt(t),null}e=de.current,$a(t)?Em(t):(e=nx(c,l,s),t.stateNode=e,us(t))}return pt(t),null;case 5:if(ze(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&us(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return pt(t),null}if(d=de.current,$a(t))Em(t);else{var g=Qr(ne.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}d[St]=t,d[Lt]=l;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(Gt(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&us(t)}}return pt(t),lu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&us(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=ne.current,$a(t)){if(e=t.stateNode,s=t.memoizedProps,l=null,c=$t,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[St]=t,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Yp(e.nodeValue,s)),e||As(t,!0)}else e=Qr(e).createTextNode(l),e[St]=t,t.stateNode=e}return pt(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(l=$a(t),s!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[St]=t}else ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;pt(t),e=!1}else s=xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(pn(t),t):(pn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return pt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=$a(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[St]=t}else ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;pt(t),c=!1}else c=xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(pn(t),t):(pn(t),null)}return pn(t),(t.flags&128)!==0?(t.lanes=s,t):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Rr(t,t.updateQueue),pt(t),null);case 4:return Se(),e===null&&Eu(t.stateNode.containerInfo),pt(t),null;case 10:return ls(t.type),pt(t),null;case 19:if(B(kt),l=t.memoizedState,l===null)return pt(t),null;if(c=(t.flags&128)!==0,d=l.rendering,d===null)if(c)sl(l,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=vr(e),d!==null){for(t.flags|=128,sl(l,!1),e=d.updateQueue,t.updateQueue=e,Rr(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Nm(s,e),s=s.sibling;return ae(kt,kt.current&1|2),Ie&&as(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&mt()>Br&&(t.flags|=128,c=!0,sl(l,!1),t.lanes=4194304)}else{if(!c)if(e=vr(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Rr(t,e),sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ie)return pt(t),null}else 2*mt()-l.renderingStartTime>Br&&s!==536870912&&(t.flags|=128,c=!0,sl(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=mt(),e.sibling=null,s=kt.current,ae(kt,c?s&1|2:s&1),Ie&&as(t,l.treeForkCount),e):(pt(t),null);case 22:case 23:return pn(t),Cc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(s&536870912)!==0&&(t.flags&128)===0&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),s=t.updateQueue,s!==null&&Rr(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==s&&(t.flags|=2048),e!==null&&B(oa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ls(Ct),pt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Xv(e,t){switch(hc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ls(Ct),Se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ze(t),null;case 31:if(t.memoizedState!==null){if(pn(t),t.alternate===null)throw Error(o(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(pn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(kt),null;case 4:return Se(),null;case 10:return ls(t.type),null;case 22:case 23:return pn(t),Cc(),e!==null&&B(oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ls(Ct),null;case 25:return null;default:return null}}function Jh(e,t){switch(hc(t),t.tag){case 3:ls(Ct),Se();break;case 26:case 27:case 5:ze(t);break;case 4:Se();break;case 31:t.memoizedState!==null&&pn(t);break;case 13:pn(t);break;case 19:B(kt);break;case 10:ls(t.type);break;case 22:case 23:pn(t),Cc(),e!==null&&B(oa);break;case 24:ls(Ct)}}function al(e,t){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var d=s.create,g=s.inst;l=d(),g.destroy=l}s=s.next}while(s!==c)}}catch(w){rt(t,t.return,w)}}function Rs(e,t,s){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var g=l.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,c=t;var C=s,X=w;try{X()}catch(ie){rt(c,C,ie)}}}l=l.next}while(l!==d)}}catch(ie){rt(t,t.return,ie)}}function Fh(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{$m(t,s)}catch(l){rt(e,e.return,l)}}}function Ih(e,t,s){s.props=ma(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){rt(e,t,l)}}function il(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){rt(e,t,c)}}function Zn(e,t){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){rt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){rt(e,t,c)}else s.current=null}function Wh(e){var t=e.type,s=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){rt(e,e.return,c)}}function ru(e,t,s){try{var l=e.stateNode;h1(l,e.type,s,t),l[Lt]=t}catch(c){rt(e,e.return,c)}}function ep(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hs(e.type)||e.tag===4}function ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ts));else if(l!==4&&(l===27&&Hs(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(cu(e,t,s),e=e.sibling;e!==null;)cu(e,t,s),e=e.sibling}function zr(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(l===27&&Hs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(zr(e,t,s),e=e.sibling;e!==null;)zr(e,t,s),e=e.sibling}function tp(e){var t=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Gt(t,l,s),t[St]=e,t[Lt]=s}catch(d){rt(e,e.return,d)}}var ds=!1,Dt=!1,uu=!1,np=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Zv(e,t){if(e=e.containerInfo,Mu=to,e=hm(e),sc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var g=0,w=-1,C=-1,X=0,ie=0,ue=e,Q=null;t:for(;;){for(var I;ue!==s||c!==0&&ue.nodeType!==3||(w=g+c),ue!==d||l!==0&&ue.nodeType!==3||(C=g+l),ue.nodeType===3&&(g+=ue.nodeValue.length),(I=ue.firstChild)!==null;)Q=ue,ue=I;for(;;){if(ue===e)break t;if(Q===s&&++X===c&&(w=g),Q===d&&++ie===l&&(C=g),(I=ue.nextSibling)!==null)break;ue=Q,Q=ue.parentNode}ue=I}s=w===-1||C===-1?null:{start:w,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Du={focusedElem:e,selectionRange:s},to=!1,Bt=t;Bt!==null;)if(t=Bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Bt=e;else for(;Bt!==null;){switch(t=Bt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=t,c=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ee=ma(s.type,c);e=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){rt(s,s.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)Uu(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Bt=e;break}Bt=t.return}}function sp(e,t,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ms(e,s),l&4&&al(5,s);break;case 1:if(ms(e,s),l&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(g){rt(s,s.return,g)}else{var c=ma(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){rt(s,s.return,g)}}l&64&&Fh(s),l&512&&il(s,s.return);break;case 3:if(ms(e,s),l&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{$m(e,t)}catch(g){rt(s,s.return,g)}}break;case 27:t===null&&l&4&&tp(s);case 26:case 5:ms(e,s),t===null&&l&4&&Wh(s),l&512&&il(s,s.return);break;case 12:ms(e,s);break;case 31:ms(e,s),l&4&&lp(e,s);break;case 13:ms(e,s),l&4&&rp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=n1.bind(null,s),j1(e,s))));break;case 22:if(l=s.memoizedState!==null||ds,!l){t=t!==null&&t.memoizedState!==null||Dt,c=ds;var d=Dt;ds=l,(Dt=t)&&!d?hs(e,s,(s.subtreeFlags&8772)!==0):ms(e,s),ds=c,Dt=d}break;case 30:break;default:ms(e,s)}}function ap(e){var t=e.alternate;t!==null&&(e.alternate=null,ap(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ri(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gt=null,ln=!1;function fs(e,t,s){for(s=s.child;s!==null;)ip(e,t,s),s=s.sibling}function ip(e,t,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(ve,s)}catch{}switch(s.tag){case 26:Dt||Zn(s,t),fs(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Dt||Zn(s,t);var l=gt,c=ln;Hs(s.type)&&(gt=s.stateNode,ln=!1),fs(e,t,s),hl(s.stateNode),gt=l,ln=c;break;case 5:Dt||Zn(s,t);case 6:if(l=gt,c=ln,gt=null,fs(e,t,s),gt=l,ln=c,gt!==null)if(ln)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(s.stateNode)}catch(d){rt(s,t,d)}else try{gt.removeChild(s.stateNode)}catch(d){rt(s,t,d)}break;case 18:gt!==null&&(ln?(e=gt,Fp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),oi(e)):Fp(gt,s.stateNode));break;case 4:l=gt,c=ln,gt=s.stateNode.containerInfo,ln=!0,fs(e,t,s),gt=l,ln=c;break;case 0:case 11:case 14:case 15:Rs(2,s,t),Dt||Rs(4,s,t),fs(e,t,s);break;case 1:Dt||(Zn(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ih(s,t,l)),fs(e,t,s);break;case 21:fs(e,t,s);break;case 22:Dt=(l=Dt)||s.memoizedState!==null,fs(e,t,s),Dt=l;break;default:fs(e,t,s)}}function lp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{oi(e)}catch(s){rt(t,t.return,s)}}}function rp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oi(e)}catch(s){rt(t,t.return,s)}}function Qv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new np),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new np),t;default:throw Error(o(435,e.tag))}}function Ur(e,t){var s=Qv(e);t.forEach(function(l){if(!s.has(l)){s.add(l);var c=s1.bind(null,e,l);l.then(c,c)}})}function rn(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],d=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(Hs(w.type)){gt=w.stateNode,ln=!1;break e}break;case 5:gt=w.stateNode,ln=!1;break e;case 3:case 4:gt=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(gt===null)throw Error(o(160));ip(d,g,c),gt=null,ln=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)op(t,e),t=t.sibling}var zn=null;function op(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(t,e),on(e),l&4&&(Rs(3,e,e.return),al(3,e),Rs(5,e,e.return));break;case 1:rn(t,e),on(e),l&512&&(Dt||s===null||Zn(s,s.return)),l&64&&ds&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=zn;if(rn(t,e),on(e),l&512&&(Dt||s===null||Zn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){e:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ws]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),Gt(d,l,s),d[St]=e,M(d),l=d;break e;case"link":var g=ox("link","href",c).get(l+(s.href||""));if(g){for(var w=0;w<g.length;w++)if(d=g[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(w,1);break t}}d=c.createElement(l),Gt(d,l,s),c.head.appendChild(d);break;case"meta":if(g=ox("meta","content",c).get(l+(s.content||""))){for(w=0;w<g.length;w++)if(d=g[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(w,1);break t}}d=c.createElement(l),Gt(d,l,s),c.head.appendChild(d);break;default:throw Error(o(468,l))}d[St]=e,M(d),l=d}e.stateNode=l}else cx(c,e.type,e.stateNode);else e.stateNode=rx(c,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?cx(c,e.type,e.stateNode):rx(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ru(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(t,e),on(e),l&512&&(Dt||s===null||Zn(s,s.return)),s!==null&&l&4&&ru(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(t,e),on(e),l&512&&(Dt||s===null||Zn(s,s.return)),e.flags&32){c=e.stateNode;try{Ma(c,"")}catch(Ee){rt(e,e.return,Ee)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,ru(e,c,s!==null?s.memoizedProps:c)),l&1024&&(uu=!0);break;case 6:if(rn(t,e),on(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Ee){rt(e,e.return,Ee)}}break;case 3:if(Fr=null,c=zn,zn=Kr(t.containerInfo),rn(t,e),zn=c,on(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{oi(t.containerInfo)}catch(Ee){rt(e,e.return,Ee)}uu&&(uu=!1,cp(e));break;case 4:l=zn,zn=Kr(e.stateNode.containerInfo),rn(t,e),on(e),zn=l;break;case 12:rn(t,e),on(e);break;case 31:rn(t,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ur(e,l)));break;case 13:rn(t,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Lr=mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ur(e,l)));break;case 22:c=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,X=ds,ie=Dt;if(ds=X||c,Dt=ie||C,rn(t,e),Dt=ie,ds=X,on(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(s===null||C||ds||Dt||ha(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){C=s=t;try{if(d=C.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=C.stateNode;var ue=C.memoizedProps.style,Q=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Ee){rt(C,C.return,Ee)}}}else if(t.tag===6){if(s===null){C=t;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(Ee){rt(C,C.return,Ee)}}}else if(t.tag===18){if(s===null){C=t;try{var I=C.stateNode;c?Ip(I,!0):Ip(C.stateNode,!1)}catch(Ee){rt(C,C.return,Ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ur(e,s))));break;case 19:rn(t,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ur(e,l)));break;case 30:break;case 21:break;default:rn(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{for(var s,l=e.return;l!==null;){if(ep(l)){s=l;break}l=l.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var c=s.stateNode,d=ou(e);zr(e,d,c);break;case 5:var g=s.stateNode;s.flags&32&&(Ma(g,""),s.flags&=-33);var w=ou(e);zr(e,w,g);break;case 3:case 4:var C=s.stateNode.containerInfo,X=ou(e);cu(e,X,C);break;default:throw Error(o(161))}}catch(ie){rt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ms(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sp(e,t.alternate,t),t=t.sibling}function ha(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rs(4,t,t.return),ha(t);break;case 1:Zn(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Ih(t,t.return,s),ha(t);break;case 27:hl(t.stateNode);case 26:case 5:Zn(t,t.return),ha(t);break;case 22:t.memoizedState===null&&ha(t);break;case 30:ha(t);break;default:ha(t)}e=e.sibling}}function hs(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:hs(c,d,s),al(4,d);break;case 1:if(hs(c,d,s),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(X){rt(l,l.return,X)}if(l=d,c=l.updateQueue,c!==null){var w=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Hm(C[c],w)}catch(X){rt(l,l.return,X)}}s&&g&64&&Fh(d),il(d,d.return);break;case 27:tp(d);case 26:case 5:hs(c,d,s),s&&l===null&&g&4&&Wh(d),il(d,d.return);break;case 12:hs(c,d,s);break;case 31:hs(c,d,s),s&&g&4&&lp(c,d);break;case 13:hs(c,d,s),s&&g&4&&rp(c,d);break;case 22:d.memoizedState===null&&hs(c,d,s),il(d,d.return);break;case 30:break;default:hs(c,d,s)}t=t.sibling}}function du(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Yi(s))}function fu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yi(e))}function Un(e,t,s,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)up(e,t,s,l),t=t.sibling}function up(e,t,s,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,s,l),c&2048&&al(9,t);break;case 1:Un(e,t,s,l);break;case 3:Un(e,t,s,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yi(e)));break;case 12:if(c&2048){Un(e,t,s,l),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,w=d.onPostCommit;typeof w=="function"&&w(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){rt(t,t.return,C)}}else Un(e,t,s,l);break;case 31:Un(e,t,s,l);break;case 13:Un(e,t,s,l);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?Un(e,t,s,l):ll(e,t):d._visibility&2?Un(e,t,s,l):(d._visibility|=2,Fa(e,t,s,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&du(g,t);break;case 24:Un(e,t,s,l),c&2048&&fu(t.alternate,t);break;default:Un(e,t,s,l)}}function Fa(e,t,s,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,w=s,C=l,X=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(d,g,w,C,c),al(8,g);break;case 23:break;case 22:var ie=g.stateNode;g.memoizedState!==null?ie._visibility&2?Fa(d,g,w,C,c):ll(d,g):(ie._visibility|=2,Fa(d,g,w,C,c)),c&&X&2048&&du(g.alternate,g);break;case 24:Fa(d,g,w,C,c),c&&X&2048&&fu(g.alternate,g);break;default:Fa(d,g,w,C,c)}t=t.sibling}}function ll(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,l=t,c=l.flags;switch(l.tag){case 22:ll(s,l),c&2048&&du(l.alternate,l);break;case 24:ll(s,l),c&2048&&fu(l.alternate,l);break;default:ll(s,l)}t=t.sibling}}var rl=8192;function Ia(e,t,s){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)dp(e,t,s),e=e.sibling}function dp(e,t,s){switch(e.tag){case 26:Ia(e,t,s),e.flags&rl&&e.memoizedState!==null&&z1(s,zn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,t,s);break;case 3:case 4:var l=zn;zn=Kr(e.stateNode.containerInfo),Ia(e,t,s),zn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=rl,rl=16777216,Ia(e,t,s),rl=l):Ia(e,t,s));break;default:Ia(e,t,s)}}function fp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ol(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Bt=l,hp(l,e)}fp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mp(e),e=e.sibling}function mp(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&Rs(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Or(e)):ol(e);break;default:ol(e)}}function Or(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var l=t[s];Bt=l,hp(l,e)}fp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rs(8,t,t.return),Or(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Or(t));break;default:Or(t)}e=e.sibling}}function hp(e,t){for(;Bt!==null;){var s=Bt;switch(s.tag){case 0:case 11:case 15:Rs(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yi(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Bt=l;else e:for(s=e;Bt!==null;){l=Bt;var c=l.sibling,d=l.return;if(ap(l),l===s){Bt=null;break e}if(c!==null){c.return=d,Bt=c;break e}Bt=d}}}var Kv={getCacheForType:function(e){var t=qt(Ct),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return qt(Ct).controller.signal}},Jv=typeof WeakMap=="function"?WeakMap:Map,at=0,ft=null,Qe=null,Je=0,lt=0,xn=null,zs=!1,Wa=!1,mu=!1,ps=0,jt=0,Us=0,pa=0,hu=0,gn=0,ei=0,cl=null,cn=null,pu=!1,Lr=0,pp=0,Br=1/0,Vr=null,Os=null,zt=0,Ls=null,ti=null,xs=0,xu=0,gu=null,xp=null,ul=0,yu=null;function yn(){return(at&2)!==0&&Je!==0?Je&-Je:A.T!==null?Su():Mi()}function gp(){if(gn===0)if((Je&536870912)===0||Ie){var e=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),gn=e}else gn=536870912;return e=hn.current,e!==null&&(e.flags|=32),gn}function un(e,t,s){(e===ft&&(lt===2||lt===9)||e.cancelPendingCommit!==null)&&(ni(e,0),Bs(e,Je,gn,!1)),Is(e,s),((at&2)===0||e!==ft)&&(e===ft&&((at&2)===0&&(pa|=s),jt===4&&Bs(e,Je,gn,!1)),Qn(e))}function yp(e,t,s){if((at&6)!==0)throw Error(o(327));var l=!s&&(t&127)===0&&(t&e.expiredLanes)===0||$n(e,t),c=l?Wv(e,t):vu(e,t,!0),d=l;do{if(c===0){Wa&&!l&&Bs(e,t,0,!1);break}else{if(s=e.current.alternate,d&&!Fv(s)){c=vu(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var w=e;c=cl;var C=w.current.memoizedState.isDehydrated;if(C&&(ni(w,g).flags|=256),g=vu(w,g,!1),g!==2){if(mu&&!C){w.errorRecoveryDisabledLanes|=d,pa|=d,c=4;break e}d=cn,cn=c,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){ni(e,0),Bs(e,t,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Bs(l,t,gn,!zs);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Lr+300-mt(),10<c)){if(Bs(l,t,gn,!zs),Hn(l,0,!0)!==0)break e;xs=t,l.timeoutHandle=Kp(bp.bind(null,l,s,cn,Vr,pu,t,gn,pa,ei,zs,d,"Throttled",-0,0),c);break e}bp(l,s,cn,Vr,pu,t,gn,pa,ei,zs,d,null,-0,0)}}break}while(!0);Qn(e)}function bp(e,t,s,l,c,d,g,w,C,X,ie,ue,Q,I){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ts},dp(t,d,ue);var Ee=(d&62914560)===d?Lr-mt():(d&4194048)===d?pp-mt():0;if(Ee=U1(ue,Ee),Ee!==null){xs=d,e.cancelPendingCommit=Ee(Tp.bind(null,e,t,d,s,l,c,g,w,C,ie,ue,null,Q,I)),Bs(e,d,g,!X);return}}Tp(e,t,d,s,l,c,g,w,C)}function Fv(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],d=c.getSnapshot;c=c.value;try{if(!fn(d(),c))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bs(e,t,s,l){t&=~hu,t&=~pa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-be(c),g=1<<d;l[d]=-1,c&=~g}s!==0&&Ql(e,s,t)}function Hr(){return(at&6)===0?(dl(0),!1):!0}function bu(){if(Qe!==null){if(lt===0)var e=Qe.return;else e=Qe,is=la=null,Uc(e),Xa=null,Zi=0,e=Qe;for(;e!==null;)Jh(e.alternate,e),e=e.return;Qe=null}}function ni(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,g1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),xs=0,bu(),ft=e,Qe=s=ss(e.current,null),Je=t,lt=0,xn=null,zs=!1,Wa=$n(e,t),mu=!1,ei=gn=hu=pa=Us=jt=0,cn=cl=null,pu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-be(l),d=1<<c;t|=e[c],l&=~d}return ps=t,rr(),s}function vp(e,t){Ye=null,A.H=tl,t===Ya||t===pr?(t=Om(),lt=3):t===Nc?(t=Om(),lt=4):lt=t===Fc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xn=t,Qe===null&&(jt=1,Cr(e,Nn(t,e.current)))}function wp(){var e=hn.current;return e===null?!0:(Je&4194048)===Je?Tn===null:(Je&62914560)===Je||(Je&536870912)!==0?e===Tn:!1}function jp(){var e=A.H;return A.H=tl,e===null?tl:e}function Np(){var e=A.A;return A.A=Kv,e}function $r(){jt=4,zs||(Je&4194048)!==Je&&hn.current!==null||(Wa=!0),(Us&134217727)===0&&(pa&134217727)===0||ft===null||Bs(ft,Je,gn,!1)}function vu(e,t,s){var l=at;at|=2;var c=jp(),d=Np();(ft!==e||Je!==t)&&(Vr=null,ni(e,t)),t=!1;var g=jt;e:do try{if(lt!==0&&Qe!==null){var w=Qe,C=xn;switch(lt){case 8:bu(),g=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(t=!0);var X=lt;if(lt=0,xn=null,si(e,w,C,X),s&&Wa){g=0;break e}break;default:X=lt,lt=0,xn=null,si(e,w,C,X)}}Iv(),g=jt;break}catch(ie){vp(e,ie)}while(!0);return t&&e.shellSuspendCounter++,is=la=null,at=l,A.H=c,A.A=d,Qe===null&&(ft=null,Je=0,rr()),g}function Iv(){for(;Qe!==null;)Sp(Qe)}function Wv(e,t){var s=at;at|=2;var l=jp(),c=Np();ft!==e||Je!==t?(Vr=null,Br=mt()+500,ni(e,t)):Wa=$n(e,t);e:do try{if(lt!==0&&Qe!==null){t=Qe;var d=xn;t:switch(lt){case 1:lt=0,xn=null,si(e,t,d,1);break;case 2:case 9:if(zm(d)){lt=0,xn=null,kp(t);break}t=function(){lt!==2&&lt!==9||ft!==e||(lt=7),Qn(e)},d.then(t,t);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:zm(d)?(lt=0,xn=null,kp(t)):(lt=0,xn=null,si(e,t,d,7));break;case 5:var g=null;switch(Qe.tag){case 26:g=Qe.memoizedState;case 5:case 27:var w=Qe;if(g?ux(g):w.stateNode.complete){lt=0,xn=null;var C=w.sibling;if(C!==null)Qe=C;else{var X=w.return;X!==null?(Qe=X,qr(X)):Qe=null}break t}}lt=0,xn=null,si(e,t,d,5);break;case 6:lt=0,xn=null,si(e,t,d,6);break;case 8:bu(),jt=6;break e;default:throw Error(o(462))}}e1();break}catch(ie){vp(e,ie)}while(!0);return is=la=null,A.H=l,A.A=c,at=s,Qe!==null?0:(ft=null,Je=0,rr(),jt)}function e1(){for(;Qe!==null&&!Ut();)Sp(Qe)}function Sp(e){var t=Qh(e.alternate,e,ps);e.memoizedProps=e.pendingProps,t===null?qr(e):Qe=t}function kp(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=qh(s,t,t.pendingProps,t.type,void 0,Je);break;case 11:t=qh(s,t,t.pendingProps,t.type.render,t.ref,Je);break;case 5:Uc(t);default:Jh(s,t),t=Qe=Nm(t,ps),t=Qh(s,t,ps)}e.memoizedProps=e.pendingProps,t===null?qr(e):Qe=t}function si(e,t,s,l){is=la=null,Uc(t),Xa=null,Zi=0;var c=t.return;try{if(qv(e,c,t,s,Je)){jt=1,Cr(e,Nn(s,e.current)),Qe=null;return}}catch(d){if(c!==null)throw Qe=c,d;jt=1,Cr(e,Nn(s,e.current)),Qe=null;return}t.flags&32768?(Ie||l===1?e=!0:Wa||(Je&536870912)!==0?e=!1:(zs=e=!0,(l===2||l===9||l===3||l===6)&&(l=hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ap(t,e)):qr(t)}function qr(e){var t=e;do{if((t.flags&32768)!==0){Ap(t,zs);return}e=t.return;var s=Yv(t.alternate,t,ps);if(s!==null){Qe=s;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);jt===0&&(jt=5)}function Ap(e,t){do{var s=Xv(e.alternate,e);if(s!==null){s.flags&=32767,Qe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){Qe=e;return}Qe=e=s}while(e!==null);jt=6,Qe=null}function Tp(e,t,s,l,c,d,g,w,C){e.cancelPendingCommit=null;do Pr();while(zt!==0);if((at&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(d=t.lanes|t.childLanes,d|=oc,Ho(e,s,d,g,w,C),e===ft&&(Qe=ft=null,Je=0),ti=t,Ls=e,xs=s,xu=d,gu=c,xp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,a1(Ge,function(){return Dp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=A.T,A.T=null,c=O.p,O.p=2,g=at,at|=4;try{Zv(e,t,s)}finally{at=g,O.p=c,A.T=l}}zt=1,Ep(),Cp(),_p()}}function Ep(){if(zt===1){zt=0;var e=Ls,t=ti,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=A.T,A.T=null;var l=O.p;O.p=2;var c=at;at|=4;try{op(t,e);var d=Du,g=hm(e.containerInfo),w=d.focusedElem,C=d.selectionRange;if(g!==w&&w&&w.ownerDocument&&mm(w.ownerDocument.documentElement,w)){if(C!==null&&sc(w)){var X=C.start,ie=C.end;if(ie===void 0&&(ie=X),"selectionStart"in w)w.selectionStart=X,w.selectionEnd=Math.min(ie,w.value.length);else{var ue=w.ownerDocument||document,Q=ue&&ue.defaultView||window;if(Q.getSelection){var I=Q.getSelection(),Ee=w.textContent.length,Ve=Math.min(C.start,Ee),dt=C.end===void 0?Ve:Math.min(C.end,Ee);!I.extend&&Ve>dt&&(g=dt,dt=Ve,Ve=g);var q=fm(w,Ve),R=fm(w,dt);if(q&&R&&(I.rangeCount!==1||I.anchorNode!==q.node||I.anchorOffset!==q.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var Y=ue.createRange();Y.setStart(q.node,q.offset),I.removeAllRanges(),Ve>dt?(I.addRange(Y),I.extend(R.node,R.offset)):(Y.setEnd(R.node,R.offset),I.addRange(Y))}}}}for(ue=[],I=w;I=I.parentNode;)I.nodeType===1&&ue.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ue.length;w++){var oe=ue[w];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}to=!!Mu,Du=Mu=null}finally{at=c,O.p=l,A.T=s}}e.current=t,zt=2}}function Cp(){if(zt===2){zt=0;var e=Ls,t=ti,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=A.T,A.T=null;var l=O.p;O.p=2;var c=at;at|=4;try{sp(e,t.alternate,t)}finally{at=c,O.p=l,A.T=s}}zt=3}}function _p(){if(zt===4||zt===3){zt=0,Xt();var e=Ls,t=ti,s=xs,l=xp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?zt=5:(zt=0,ti=Ls=null,Mp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Os=null),_i(s),t=t.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(ve,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=A.T,c=O.p,O.p=2,A.T=null;try{for(var d=e.onRecoverableError,g=0;g<l.length;g++){var w=l[g];d(w.value,{componentStack:w.stack})}}finally{A.T=t,O.p=c}}(xs&3)!==0&&Pr(),Qn(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===yu?ul++:(ul=0,yu=e):ul=0,dl(0)}}function Mp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yi(t)))}function Pr(){return Ep(),Cp(),_p(),Dp()}function Dp(){if(zt!==5)return!1;var e=Ls,t=xu;xu=0;var s=_i(xs),l=A.T,c=O.p;try{O.p=32>s?32:s,A.T=null,s=gu,gu=null;var d=Ls,g=xs;if(zt=0,ti=Ls=null,xs=0,(at&6)!==0)throw Error(o(331));var w=at;if(at|=4,mp(d.current),up(d,d.current,g,s),at=w,dl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(ve,d)}catch{}return!0}finally{O.p=c,A.T=l,Mp(e,t)}}function Rp(e,t,s){t=Nn(s,t),t=Jc(e.stateNode,t,2),e=_s(e,t,2),e!==null&&(Is(e,2),Qn(e))}function rt(e,t,s){if(e.tag===3)Rp(e,e,s);else for(;t!==null;){if(t.tag===3){Rp(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){e=Nn(s,e),s=zh(2),l=_s(t,s,2),l!==null&&(Uh(s,l,t,e),Is(l,2),Qn(l));break}}t=t.return}}function wu(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Jv;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(s)||(mu=!0,c.add(s),e=t1.bind(null,e,t,s),t.then(e,e))}function t1(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ft===e&&(Je&s)===s&&(jt===4||jt===3&&(Je&62914560)===Je&&300>mt()-Lr?(at&2)===0&&ni(e,0):hu|=s,ei===Je&&(ei=0)),Qn(e)}function zp(e,t){t===0&&(t=Zl()),e=sa(e,t),e!==null&&(Is(e,t),Qn(e))}function n1(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),zp(e,s)}function s1(e,t){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),zp(e,s)}function a1(e,t){return vt(e,t)}var Gr=null,ai=null,ju=!1,Yr=!1,Nu=!1,Vs=0;function Qn(e){e!==ai&&e.next===null&&(ai===null?Gr=ai=e:ai=ai.next=e),Yr=!0,ju||(ju=!0,l1())}function dl(e,t){if(!Nu&&Yr){Nu=!0;do for(var s=!1,l=Gr;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var g=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-be(42|e)+1)-1,d&=c&~(g&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Bp(l,d))}else d=Je,d=Hn(l,l===ft?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(s=!0,Bp(l,d));l=l.next}while(s);Nu=!1}}function i1(){Up()}function Up(){Yr=ju=!1;var e=0;Vs!==0&&x1()&&(e=Vs);for(var t=mt(),s=null,l=Gr;l!==null;){var c=l.next,d=Op(l,t);d===0?(l.next=null,s===null?Gr=c:s.next=c,c===null&&(ai=s)):(s=l,(e!==0||(d&3)!==0)&&(Yr=!0)),l=c}zt!==0&&zt!==5||dl(e),Vs!==0&&(Vs=0)}function Op(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-be(d),w=1<<g,C=c[g];C===-1?((w&s)===0||(w&l)!==0)&&(c[g]=Vo(w,t)):C<=t&&(e.expiredLanes|=w),d&=~w}if(t=ft,s=Je,s=Hn(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===t&&(lt===2||lt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&tn(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||$n(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(l!==null&&tn(l),_i(s)){case 2:case 8:s=$e;break;case 32:s=Ge;break;case 268435456:s=yt;break;default:s=Ge}return l=Lp.bind(null,e),s=vt(s,l),e.callbackPriority=t,e.callbackNode=s,t}return l!==null&&l!==null&&tn(l),e.callbackPriority=2,e.callbackNode=null,2}function Lp(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Pr()&&e.callbackNode!==s)return null;var l=Je;return l=Hn(e,e===ft?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yp(e,l,t),Op(e,mt()),e.callbackNode!=null&&e.callbackNode===s?Lp.bind(null,e):null)}function Bp(e,t){if(Pr())return null;yp(e,t,!0)}function l1(){y1(function(){(at&6)!==0?vt(Ne,i1):Up()})}function Su(){if(Vs===0){var e=Pa;e===0&&(e=nn,nn<<=1,(nn&261888)===0&&(nn=256)),Vs=e}return Vs}function Vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wl(""+e)}function Hp(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function r1(e,t,s,l,c){if(t==="submit"&&s&&s.stateNode===c){var d=Vp((c[Lt]||null).action),g=l.submitter;g&&(t=(t=g[Lt]||null)?Vp(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var w=new sr("action","action",null,l,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var C=g?Hp(c,g):new FormData(c);Gc(s,{pending:!0,data:C,method:c.method,action:d},null,C)}}else typeof d=="function"&&(w.preventDefault(),C=g?Hp(c,g):new FormData(c),Gc(s,{pending:!0,data:C,method:c.method,action:d},d,C))},currentTarget:c}]})}}for(var ku=0;ku<rc.length;ku++){var Au=rc[ku],o1=Au.toLowerCase(),c1=Au[0].toUpperCase()+Au.slice(1);Rn(o1,"on"+c1)}Rn(gm,"onAnimationEnd"),Rn(ym,"onAnimationIteration"),Rn(bm,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(kv,"onTransitionRun"),Rn(Av,"onTransitionStart"),Rn(Tv,"onTransitionCancel"),Rn(vm,"onTransitionEnd"),Re("onMouseEnter",["mouseout","mouseover"]),Re("onMouseLeave",["mouseout","mouseover"]),Re("onPointerEnter",["pointerout","pointerover"]),Re("onPointerLeave",["pointerout","pointerover"]),xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function $p(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var g=l.length-1;0<=g;g--){var w=l[g],C=w.instance,X=w.currentTarget;if(w=w.listener,C!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=X;try{d(c)}catch(ie){lr(ie)}c.currentTarget=null,d=C}else for(g=0;g<l.length;g++){if(w=l[g],C=w.instance,X=w.currentTarget,w=w.listener,C!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=X;try{d(c)}catch(ie){lr(ie)}c.currentTarget=null,d=C}}}}function Ke(e,t){var s=t[Ta];s===void 0&&(s=t[Ta]=new Set);var l=e+"__bubble";s.has(l)||(qp(t,e,2,!1),s.add(l))}function Tu(e,t,s){var l=0;t&&(l|=4),qp(s,e,l,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function Eu(e){if(!e[Xr]){e[Xr]=!0,Z.forEach(function(s){s!=="selectionchange"&&(u1.has(s)||Tu(s,!1,e),Tu(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xr]||(t[Xr]=!0,Tu("selectionchange",!1,t))}}function qp(e,t,s,l){switch(gx(t)){case 2:var c=B1;break;case 8:c=V1;break;default:c=Pu}s=c.bind(null,t,s,e),c=void 0,!Qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,s,{capture:!0,passive:c}):e.addEventListener(t,s,!0):c!==void 0?e.addEventListener(t,s,{passive:c}):e.addEventListener(t,s,!1)}function Cu(e,t,s,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var w=l.stateNode.containerInfo;if(w===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;w!==null;){if(g=Zt(w),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=d=g;continue e}w=w.parentNode}}l=l.return}Zf(function(){var X=d,ie=Xo(s),ue=[];e:{var Q=wm.get(e);if(Q!==void 0){var I=sr,Ee=e;switch(e){case"keypress":if(tr(s)===0)break e;case"keydown":case"keyup":I=sv;break;case"focusin":Ee="focus",I=Io;break;case"focusout":Ee="blur",I=Io;break;case"beforeblur":case"afterblur":I=Io;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=lv;break;case gm:case ym:case bm:I=Q0;break;case vm:I=ov;break;case"scroll":case"scrollend":I=P0;break;case"wheel":I=uv;break;case"copy":case"cut":case"paste":I=J0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=If;break;case"toggle":case"beforetoggle":I=fv}var Ve=(t&4)!==0,dt=!Ve&&(e==="scroll"||e==="scrollend"),q=Ve?Q!==null?Q+"Capture":null:Q;Ve=[];for(var R=X,Y;R!==null;){var oe=R;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||q===null||(oe=zi(R,q),oe!=null&&Ve.push(ml(R,oe,Y))),dt)break;R=R.return}0<Ve.length&&(Q=new I(Q,Ee,null,s,ie),ue.push({event:Q,listeners:Ve}))}}if((t&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",Q&&s!==Yo&&(Ee=s.relatedTarget||s.fromElement)&&(Zt(Ee)||Ee[Pn]))break e;if((I||Q)&&(Q=ie.window===ie?ie:(Q=ie.ownerDocument)?Q.defaultView||Q.parentWindow:window,I?(Ee=s.relatedTarget||s.toElement,I=X,Ee=Ee?Zt(Ee):null,Ee!==null&&(dt=m(Ee),Ve=Ee.tag,Ee!==dt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ee=null)):(I=null,Ee=X),I!==Ee)){if(Ve=Jf,oe="onMouseLeave",q="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=If,oe="onPointerLeave",q="onPointerEnter",R="pointer"),dt=I==null?Q:js(I),Y=Ee==null?Q:js(Ee),Q=new Ve(oe,R+"leave",I,s,ie),Q.target=dt,Q.relatedTarget=Y,oe=null,Zt(ie)===X&&(Ve=new Ve(q,R+"enter",Ee,s,ie),Ve.target=Y,Ve.relatedTarget=dt,oe=Ve),dt=oe,I&&Ee)t:{for(Ve=d1,q=I,R=Ee,Y=0,oe=q;oe;oe=Ve(oe))Y++;oe=0;for(var Be=R;Be;Be=Ve(Be))oe++;for(;0<Y-oe;)q=Ve(q),Y--;for(;0<oe-Y;)R=Ve(R),oe--;for(;Y--;){if(q===R||R!==null&&q===R.alternate){Ve=q;break t}q=Ve(q),R=Ve(R)}Ve=null}else Ve=null;I!==null&&Pp(ue,Q,I,Ve,!1),Ee!==null&&dt!==null&&Pp(ue,dt,Ee,Ve,!0)}}e:{if(Q=X?js(X):window,I=Q.nodeName&&Q.nodeName.toLowerCase(),I==="select"||I==="input"&&Q.type==="file")var nt=lm;else if(am(Q))if(rm)nt=jv;else{nt=vv;var De=bv}else I=Q.nodeName,!I||I.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?X&&Go(X.elementType)&&(nt=lm):nt=wv;if(nt&&(nt=nt(e,X))){im(ue,nt,s,ie);break e}De&&De(e,Q,X),e==="focusout"&&X&&Q.type==="number"&&X.memoizedProps.value!=null&&Po(Q,"number",Q.value)}switch(De=X?js(X):window,e){case"focusin":(am(De)||De.contentEditable==="true")&&(Ua=De,ac=X,qi=null);break;case"focusout":qi=ac=Ua=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,pm(ue,s,ie);break;case"selectionchange":if(Sv)break;case"keydown":case"keyup":pm(ue,s,ie)}var Ze;if(ec)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else za?nm(e,s)&&(Fe="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Fe="onCompositionStart");Fe&&(Wf&&s.locale!=="ko"&&(za||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&za&&(Ze=Qf()):(Ns=ie,Ko="value"in Ns?Ns.value:Ns.textContent,za=!0)),De=Zr(X,Fe),0<De.length&&(Fe=new Ff(Fe,e,null,s,ie),ue.push({event:Fe,listeners:De}),Ze?Fe.data=Ze:(Ze=sm(s),Ze!==null&&(Fe.data=Ze)))),(Ze=hv?pv(e,s):xv(e,s))&&(Fe=Zr(X,"onBeforeInput"),0<Fe.length&&(De=new Ff("onBeforeInput","beforeinput",null,s,ie),ue.push({event:De,listeners:Fe}),De.data=Ze)),r1(ue,e,X,s,ie)}$p(ue,t)})}function ml(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Zr(e,t){for(var s=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=zi(e,s),c!=null&&l.unshift(ml(e,c,d)),c=zi(e,t),c!=null&&l.push(ml(e,c,d))),e.tag===3)return l;e=e.return}return[]}function d1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pp(e,t,s,l,c){for(var d=t._reactName,g=[];s!==null&&s!==l;){var w=s,C=w.alternate,X=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||X===null||(C=X,c?(X=zi(s,d),X!=null&&g.unshift(ml(s,X,C))):c||(X=zi(s,d),X!=null&&g.push(ml(s,X,C)))),s=s.return}g.length!==0&&e.push({event:t,listeners:g})}var f1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function Gp(e){return(typeof e=="string"?e:""+e).replace(f1,`
`).replace(m1,"")}function Yp(e,t){return t=Gp(t),Gp(e)===t}function ut(e,t,s,l,c,d){switch(s){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ma(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ma(e,""+l);break;case"className":es(e,"class",l);break;case"tabIndex":es(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":es(e,s,l);break;case"style":Yf(e,l,d);break;case"data":if(t!=="object"){es(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Wl(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(t!=="input"&&ut(e,t,"name",c.name,c,null),ut(e,t,"formEncType",c.formEncType,c,null),ut(e,t,"formMethod",c.formMethod,c,null),ut(e,t,"formTarget",c.formTarget,c,null)):(ut(e,t,"encType",c.encType,c,null),ut(e,t,"method",c.method,c,null),ut(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Wl(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ts);break;case"onScroll":l!=null&&Ke("scroll",e);break;case"onScrollEnd":l!=null&&Ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Wl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ke("beforetoggle",e),Ke("toggle",e),Ht(e,"popover",l);break;case"xlinkActuate":Qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ht(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=$0.get(s)||s,Ht(e,s,l))}}function _u(e,t,s,l,c,d){switch(s){case"style":Yf(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Ma(e,l):(typeof l=="number"||typeof l=="bigint")&&Ma(e,""+l);break;case"onScroll":l!=null&&Ke("scroll",e);break;case"onScrollEnd":l!=null&&Ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pe.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),t=s.slice(2,c?s.length-7:void 0),d=e[Lt]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,l,c);break e}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Ht(e,s,l)}}}function Gt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",e),Ke("load",e);var l=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var g=s[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ut(e,t,d,g,s,null)}}c&&ut(e,t,"srcSet",s.srcSet,s,null),l&&ut(e,t,"src",s.src,s,null);return;case"input":Ke("invalid",e);var w=d=g=c=null,C=null,X=null;for(l in s)if(s.hasOwnProperty(l)){var ie=s[l];if(ie!=null)switch(l){case"name":c=ie;break;case"type":g=ie;break;case"checked":C=ie;break;case"defaultChecked":X=ie;break;case"value":d=ie;break;case"defaultValue":w=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(o(137,t));break;default:ut(e,t,l,ie,s,null)}}$f(e,d,w,C,X,g,c,!1);return;case"select":Ke("invalid",e),l=g=d=null;for(c in s)if(s.hasOwnProperty(c)&&(w=s[c],w!=null))switch(c){case"value":d=w;break;case"defaultValue":g=w;break;case"multiple":l=w;default:ut(e,t,c,w,s,null)}t=d,s=g,e.multiple=!!l,t!=null?_a(e,!!l,t,!1):s!=null&&_a(e,!!l,s,!0);return;case"textarea":Ke("invalid",e),d=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(w=s[g],w!=null))switch(g){case"value":l=w;break;case"defaultValue":c=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(91));break;default:ut(e,t,g,w,s,null)}Pf(e,l,c,d);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(e,t,C,l,s,null));return;case"dialog":Ke("beforetoggle",e),Ke("toggle",e),Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":Ke("load",e);break;case"video":case"audio":for(l=0;l<fl.length;l++)Ke(fl[l],e);break;case"image":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"embed":case"source":case"link":Ke("error",e),Ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in s)if(s.hasOwnProperty(X)&&(l=s[X],l!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ut(e,t,X,l,s,null)}return;default:if(Go(t)){for(ie in s)s.hasOwnProperty(ie)&&(l=s[ie],l!==void 0&&_u(e,t,ie,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&ut(e,t,w,l,s,null))}function h1(e,t,s,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,w=null,C=null,X=null,ie=null;for(I in s){var ue=s[I];if(s.hasOwnProperty(I)&&ue!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":C=ue;default:l.hasOwnProperty(I)||ut(e,t,I,null,l,ue)}}for(var Q in l){var I=l[Q];if(ue=s[Q],l.hasOwnProperty(Q)&&(I!=null||ue!=null))switch(Q){case"type":d=I;break;case"name":c=I;break;case"checked":X=I;break;case"defaultChecked":ie=I;break;case"value":g=I;break;case"defaultValue":w=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(137,t));break;default:I!==ue&&ut(e,t,Q,I,l,ue)}}qo(e,g,w,C,X,ie,d,c);return;case"select":I=g=w=Q=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":I=C;default:l.hasOwnProperty(d)||ut(e,t,d,null,l,C)}for(c in l)if(d=l[c],C=s[c],l.hasOwnProperty(c)&&(d!=null||C!=null))switch(c){case"value":Q=d;break;case"defaultValue":w=d;break;case"multiple":g=d;default:d!==C&&ut(e,t,c,d,l,C)}t=w,s=g,l=I,Q!=null?_a(e,!!s,Q,!1):!!l!=!!s&&(t!=null?_a(e,!!s,t,!0):_a(e,!!s,s?[]:"",!1));return;case"textarea":I=Q=null;for(w in s)if(c=s[w],s.hasOwnProperty(w)&&c!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(e,t,w,null,l,c)}for(g in l)if(c=l[g],d=s[g],l.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":Q=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==d&&ut(e,t,g,c,l,d)}qf(e,Q,I);return;case"option":for(var Ee in s)Q=s[Ee],s.hasOwnProperty(Ee)&&Q!=null&&!l.hasOwnProperty(Ee)&&(Ee==="selected"?e.selected=!1:ut(e,t,Ee,null,l,Q));for(C in l)Q=l[C],I=s[C],l.hasOwnProperty(C)&&Q!==I&&(Q!=null||I!=null)&&(C==="selected"?e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":ut(e,t,C,Q,l,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in s)Q=s[Ve],s.hasOwnProperty(Ve)&&Q!=null&&!l.hasOwnProperty(Ve)&&ut(e,t,Ve,null,l,Q);for(X in l)if(Q=l[X],I=s[X],l.hasOwnProperty(X)&&Q!==I&&(Q!=null||I!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:ut(e,t,X,Q,l,I)}return;default:if(Go(t)){for(var dt in s)Q=s[dt],s.hasOwnProperty(dt)&&Q!==void 0&&!l.hasOwnProperty(dt)&&_u(e,t,dt,void 0,l,Q);for(ie in l)Q=l[ie],I=s[ie],!l.hasOwnProperty(ie)||Q===I||Q===void 0&&I===void 0||_u(e,t,ie,Q,l,I);return}}for(var q in s)Q=s[q],s.hasOwnProperty(q)&&Q!=null&&!l.hasOwnProperty(q)&&ut(e,t,q,null,l,Q);for(ue in l)Q=l[ue],I=s[ue],!l.hasOwnProperty(ue)||Q===I||Q==null&&I==null||ut(e,t,ue,Q,l,I)}function Xp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],d=c.transferSize,g=c.initiatorType,w=c.duration;if(d&&w&&Xp(g)){for(g=0,w=c.responseEnd,l+=1;l<s.length;l++){var C=s[l],X=C.startTime;if(X>w)break;var ie=C.transferSize,ue=C.initiatorType;ie&&Xp(ue)&&(C=C.responseEnd,g+=ie*(C<w?1:(w-X)/(C-X)))}if(--l,t+=8*(d+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Mu=null,Du=null;function Qr(e){return e.nodeType===9?e:e.ownerDocument}function Zp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zu=null;function x1(){var e=window.event;return e&&e.type==="popstate"?e===zu?!1:(zu=e,!0):(zu=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(e){return Jp.resolve(null).then(e).catch(b1)}:Kp;function b1(e){setTimeout(function(){throw e})}function Hs(e){return e==="head"}function Fp(e,t){var s=t,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),oi(t);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,hl(s);for(var d=s.firstChild;d;){var g=d.nextSibling,w=d.nodeName;d[Ws]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=g}}else s==="body"&&hl(e.ownerDocument.body);s=c}while(s);oi(t)}function Ip(e,t){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Uu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Uu(s),Ri(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function v1(e,t,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ws])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function w1(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=En(e.nextSibling),e===null))return null;return e}function Wp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=En(e.nextSibling),e===null))return null;return e}function Ou(e){return e.data==="$?"||e.data==="$~"}function Lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function j1(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var l=function(){t(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Bu=null;function ex(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return En(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function tx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function nx(e,t,s){switch(t=Qr(s),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function hl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ri(e)}var Cn=new Map,sx=new Set;function Kr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gs=O.d;O.d={f:N1,r:S1,D:k1,C:A1,L:T1,m:E1,X:_1,S:C1,M:M1};function N1(){var e=gs.f(),t=Hr();return e||t}function S1(e){var t=Gn(e);t!==null&&t.tag===5&&t.type==="form"?vh(t):gs.r(e)}var ii=typeof document>"u"?null:document;function ax(e,t,s){var l=ii;if(l&&typeof t=="string"&&t){var c=wn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),sx.has(c)||(sx.add(c),e={rel:e,crossOrigin:s,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Gt(t,"link",e),M(t),l.head.appendChild(t)))}}function k1(e){gs.D(e),ax("dns-prefetch",e,null)}function A1(e,t){gs.C(e,t),ax("preconnect",e,t)}function T1(e,t,s){gs.L(e,t,s);var l=ii;if(l&&e&&t){var c='link[rel="preload"][as="'+wn(t)+'"]';t==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+wn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+wn(s.imageSizes)+'"]')):c+='[href="'+wn(e)+'"]';var d=c;switch(t){case"style":d=li(e);break;case"script":d=ri(e)}Cn.has(d)||(e=v({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Cn.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(pl(d))||t==="script"&&l.querySelector(xl(d))||(t=l.createElement("link"),Gt(t,"link",e),M(t),l.head.appendChild(t)))}}function E1(e,t){gs.m(e,t);var s=ii;if(s&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ri(e)}if(!Cn.has(d)&&(e=v({rel:"modulepreload",href:e},t),Cn.set(d,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xl(d)))return}l=s.createElement("link"),Gt(l,"link",e),M(l),s.head.appendChild(l)}}}function C1(e,t,s){gs.S(e,t,s);var l=ii;if(l&&e){var c=Wn(l).hoistableStyles,d=li(e);t=t||"default";var g=c.get(d);if(!g){var w={loading:0,preload:null};if(g=l.querySelector(pl(d)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Cn.get(d))&&Vu(e,s);var C=g=l.createElement("link");M(C),Gt(C,"link",e),C._p=new Promise(function(X,ie){C.onload=X,C.onerror=ie}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Jr(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:w},c.set(d,g)}}}function _1(e,t){gs.X(e,t);var s=ii;if(s&&e){var l=Wn(s).hoistableScripts,c=ri(e),d=l.get(c);d||(d=s.querySelector(xl(c)),d||(e=v({src:e,async:!0},t),(t=Cn.get(c))&&Hu(e,t),d=s.createElement("script"),M(d),Gt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function M1(e,t){gs.M(e,t);var s=ii;if(s&&e){var l=Wn(s).hoistableScripts,c=ri(e),d=l.get(c);d||(d=s.querySelector(xl(c)),d||(e=v({src:e,async:!0,type:"module"},t),(t=Cn.get(c))&&Hu(e,t),d=s.createElement("script"),M(d),Gt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function ix(e,t,s,l){var c=(c=ne.current)?Kr(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=li(s.href),s=Wn(c).hoistableStyles,l=s.get(t),l||(l={type:"style",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=li(s.href);var d=Wn(c).hoistableStyles,g=d.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=c.querySelector(pl(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Cn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Cn.set(e,s),d||D1(c,e,s,g.state))),t&&l===null)throw Error(o(528,""));return g}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ri(s),s=Wn(c).hoistableScripts,l=s.get(t),l||(l={type:"script",instance:null,count:0,state:null},s.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function li(e){return'href="'+wn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function lx(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function D1(e,t,s,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Gt(t,"link",s),M(t),e.head.appendChild(t))}function ri(e){return'[src="'+wn(e)+'"]'}function xl(e){return"script[async]"+e}function rx(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+wn(s.href)+'"]');if(l)return t.instance=l,M(l),l;var c=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),M(l),Gt(l,"style",c),Jr(l,s.precedence,e),t.instance=l;case"stylesheet":c=li(s.href);var d=e.querySelector(pl(c));if(d)return t.state.loading|=4,t.instance=d,M(d),d;l=lx(s),(c=Cn.get(c))&&Vu(l,c),d=(e.ownerDocument||e).createElement("link"),M(d);var g=d;return g._p=new Promise(function(w,C){g.onload=w,g.onerror=C}),Gt(d,"link",l),t.state.loading|=4,Jr(d,s.precedence,e),t.instance=d;case"script":return d=ri(s.src),(c=e.querySelector(xl(d)))?(t.instance=c,M(c),c):(l=s,(c=Cn.get(d))&&(l=v({},s),Hu(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),M(c),Gt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Jr(l,s.precedence,e));return t.instance}function Jr(e,t,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,g=0;g<l.length;g++){var w=l[g];if(w.dataset.precedence===t)d=w;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function Vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fr=null;function ox(e,t,s){if(Fr===null){var l=new Map,c=Fr=new Map;c.set(s,l)}else c=Fr,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var d=s[c];if(!(d[Ws]||d[St]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var w=l.get(g);w?w.push(d):l.set(g,[d])}}return l}function cx(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function R1(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ux(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function z1(e,t,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=li(l.href),d=t.querySelector(pl(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ir.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=d,M(d);return}d=t.ownerDocument||t,l=lx(l),(c=Cn.get(c))&&Vu(l,c),d=d.createElement("link"),M(d);var g=d;g._p=new Promise(function(w,C){g.onload=w,g.onerror=C}),Gt(d,"link",l),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ir.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var $u=0;function U1(e,t){return e.stylesheets&&e.count===0&&eo(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&eo(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&$u===0&&($u=62500*p1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&eo(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>$u?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ir(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wr=null;function eo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wr=new Map,t.forEach(O1,e),Wr=null,Ir.call(e))}function O1(e,t){if(!(t.state.loading&4)){var s=Wr.get(e);if(s)var l=s.get(null);else{s=new Map,Wr.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=t.instance,g=c.getAttribute("data-precedence"),d=s.get(g)||l,d===l&&s.set(null,c),s.set(g,c),this.count++,l=Ir.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var gl={$$typeof:D,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function L1(e,t,s,l,c,d,g,w,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function dx(e,t,s,l,c,d,g,w,C,X,ie,ue){return e=new L1(e,t,s,g,C,X,ie,ue,w),t=1,d===!0&&(t|=24),d=mn(3,null,null,t),e.current=d,d.stateNode=e,t=vc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:t},Sc(d),e}function fx(e){return e?(e=Ba,e):Ba}function mx(e,t,s,l,c,d){c=fx(c),l.context===null?l.context=c:l.pendingContext=c,l=Cs(t),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=_s(e,l,t),s!==null&&(un(s,e,t),Ki(s,e,t))}function hx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function qu(e,t){hx(e,t),(e=e.alternate)&&hx(e,t)}function px(e){if(e.tag===13||e.tag===31){var t=sa(e,67108864);t!==null&&un(t,e,67108864),qu(e,67108864)}}function xx(e){if(e.tag===13||e.tag===31){var t=yn();t=Ci(t);var s=sa(e,t);s!==null&&un(s,e,t),qu(e,t)}}var to=!0;function B1(e,t,s,l){var c=A.T;A.T=null;var d=O.p;try{O.p=2,Pu(e,t,s,l)}finally{O.p=d,A.T=c}}function V1(e,t,s,l){var c=A.T;A.T=null;var d=O.p;try{O.p=8,Pu(e,t,s,l)}finally{O.p=d,A.T=c}}function Pu(e,t,s,l){if(to){var c=Gu(l);if(c===null)Cu(e,t,l,no,s),yx(e,l);else if($1(c,e,t,s,l))l.stopPropagation();else if(yx(e,l),t&4&&-1<H1.indexOf(e)){for(;c!==null;){var d=Gn(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Vn(d.pendingLanes);if(g!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var C=1<<31-be(g);w.entanglements[1]|=C,g&=~C}Qn(d),(at&6)===0&&(Br=mt()+500,dl(0))}}break;case 31:case 13:w=sa(d,2),w!==null&&un(w,d,2),Hr(),qu(d,2)}if(d=Gu(l),d===null&&Cu(e,t,l,no,s),d===c)break;c=d}c!==null&&l.stopPropagation()}else Cu(e,t,l,null,s)}}function Gu(e){return e=Xo(e),Yu(e)}var no=null;function Yu(e){if(no=null,e=Zt(e),e!==null){var t=m(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=f(t),e!==null)return e;e=null}else if(s===31){if(e=h(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return no=e,null}function gx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case Ne:return 2;case $e:return 8;case Ge:case We:return 32;case yt:return 268435456;default:return 32}default:return 32}}var Xu=!1,$s=null,qs=null,Ps=null,yl=new Map,bl=new Map,Gs=[],H1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yx(e,t){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(t.pointerId)}}function vl(e,t,s,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Gn(t),t!==null&&px(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function $1(e,t,s,l,c){switch(t){case"focusin":return $s=vl($s,e,t,s,l,c),!0;case"dragenter":return qs=vl(qs,e,t,s,l,c),!0;case"mouseover":return Ps=vl(Ps,e,t,s,l,c),!0;case"pointerover":var d=c.pointerId;return yl.set(d,vl(yl.get(d)||null,e,t,s,l,c)),!0;case"gotpointercapture":return d=c.pointerId,bl.set(d,vl(bl.get(d)||null,e,t,s,l,c)),!0}return!1}function bx(e){var t=Zt(e.target);if(t!==null){var s=m(t);if(s!==null){if(t=s.tag,t===13){if(t=f(s),t!==null){e.blockedOn=t,Jl(e.priority,function(){xx(s)});return}}else if(t===31){if(t=h(s),t!==null){e.blockedOn=t,Jl(e.priority,function(){xx(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Gu(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Yo=l,s.target.dispatchEvent(l),Yo=null}else return t=Gn(s),t!==null&&px(t),e.blockedOn=s,!1;t.shift()}return!0}function vx(e,t,s){so(e)&&s.delete(t)}function q1(){Xu=!1,$s!==null&&so($s)&&($s=null),qs!==null&&so(qs)&&(qs=null),Ps!==null&&so(Ps)&&(Ps=null),yl.forEach(vx),bl.forEach(vx)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,Xu||(Xu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,q1)))}var io=null;function wx(e){io!==e&&(io=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){io===e&&(io=null);for(var t=0;t<e.length;t+=3){var s=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Yu(l||s)===null)continue;break}var d=Gn(s);d!==null&&(e.splice(t,3),t-=3,Gc(d,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function oi(e){function t(C){return ao(C,e)}$s!==null&&ao($s,e),qs!==null&&ao(qs,e),Ps!==null&&ao(Ps,e),yl.forEach(t),bl.forEach(t);for(var s=0;s<Gs.length;s++){var l=Gs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Gs.length&&(s=Gs[0],s.blockedOn===null);)bx(s),s.blockedOn===null&&Gs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],d=s[l+1],g=c[Lt]||null;if(typeof d=="function")g||wx(s);else if(g){var w=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[Lt]||null)w=g.formAction;else if(Yu(c)!==null)continue}else w=g.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),wx(s)}}}function jx(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Zu(e){this._internalRoot=e}lo.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var s=t.current,l=yn();mx(s,l,e,t,null,null)},lo.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mx(e.current,2,null,e,null,null),Hr(),t[Pn]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mi();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Gs.length&&t!==0&&t<Gs[s].priority;s++);Gs.splice(s,0,e),s===0&&bx(e)}};var Nx=a.version;if(Nx!=="19.2.4")throw Error(o(527,Nx,"19.2.4"));O.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var P1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{ve=ro.inject(P1),je=ro}catch{}}return jl.createRoot=function(e,t){if(!u(e))throw Error(o(299));var s=!1,l="",c=_h,d=Mh,g=Dh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=dx(e,1,!1,null,null,s,l,null,c,d,g,jx),e[Pn]=t.current,Eu(e),new Zu(t)},jl.hydrateRoot=function(e,t,s){if(!u(e))throw Error(o(299));var l=!1,c="",d=_h,g=Mh,w=Dh,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),t=dx(e,1,!0,t,s??null,l,c,C,d,g,w,jx),t.context=fx(null),s=t.current,l=yn(),l=Ci(l),c=Cs(l),c.callback=null,_s(s,c,l),s=l,t.current.lanes=s,Is(t,s),Qn(t),e[Pn]=t.current,Eu(e),new lo(t)},jl.version="19.2.4",jl}var Rx;function W1(){if(Rx)return Ju.exports;Rx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Ju.exports=I1(),Ju.exports}var e2=W1();const t2=Ey(e2);const n2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_y=(...n)=>n.filter((a,r,o)=>!!a&&a.trim()!==""&&o.indexOf(a)===r).join(" ").trim();var s2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const a2=b.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:u="",children:m,iconNode:f,...h},x)=>b.createElement("svg",{ref:x,...s2,width:a,height:a,stroke:n,strokeWidth:o?Number(r)*24/Number(a):r,className:_y("lucide",u),...h},[...f.map(([p,y])=>b.createElement(p,y)),...Array.isArray(m)?m:[m]]));const Te=(n,a)=>{const r=b.forwardRef(({className:o,...u},m)=>b.createElement(a2,{ref:m,iconNode:a,className:_y(`lucide-${n2(n)}`,o),...u}));return r.displayName=`${n}`,r};const i2=Te("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const zx=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const l2=Te("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);const r2=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const o2=Te("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);const kd=Te("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const c2=Te("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);const No=Te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const u2=Te("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const d2=Te("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);const Jd=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Mo=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Ux=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Ox=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const My=Te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Dy=Te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const f2=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const m2=Te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);const h2=Te("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const p2=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const x2=Te("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const g2=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Fd=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ry=Te("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const zy=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const y2=Te("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const b2=Te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const v2=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Ad=Te("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const w2=Te("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const j2=Te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const N2=Te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const S2=Te("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const k2=Te("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);const A2=Te("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const T2=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Uy=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Oy=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const E2=Te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const C2=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const _2=Te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const M2=Te("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const Ly=Te("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Id=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ka=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const D2=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Do=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const By=Te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Wd=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const R2=Te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Vy=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Hy=Te("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const $y=Te("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const z2=Te("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const U2=Te("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);const O2=Te("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);const $l=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const L2=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const B2=Te("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);const V2=Te("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const H2=Te("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const $2=Te("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);const qy=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ul=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const q2=Te("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const Si=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const P2=Te("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),G2=({placeholder:n="Search profiles, emails, people..."})=>i.jsxs("label",{className:"flex items-center gap-2 w-[min(480px,55vw)] px-3 py-2 bg-search border border-border-soft rounded-xl text-ink-muted shadow-inner",children:[i.jsx(Do,{size:16,strokeWidth:1.8}),i.jsx("input",{type:"search",placeholder:n,className:"w-full border-none bg-transparent text-sm font-medium text-ink placeholder:text-ink-muted focus:outline-none"})]}),Y2=({onNavigate:n,href:a="/"})=>{const r=()=>{if(n){n(a);return}typeof window<"u"&&(window.history.pushState({},"",a),window.dispatchEvent(new PopStateEvent("popstate")))};return i.jsx("button",{type:"button",onClick:r,className:"inline-flex items-center justify-center p-0","aria-label":"JobDesk365",children:i.jsx("img",{src:"/images/logo.png",alt:"JobDesk365",className:"h-8 w-auto object-contain"})})},X2="https://api.jobdesk365.com".trim(),Py=X2.replace(/\/+$/,""),Z2="https://api.jobdesk365.com/ai/resume-tailor".trim(),Q2="https://api.jobdesk365.com".trim()||Py,K2=n=>{if(!n)return typeof window<"u"?window.location.origin:"";try{return new URL(n).origin}catch{return n}},qe=Py,J2=Z2||(qe?`${qe}/ai/resume-tailor`:"/ai/resume-tailor"),Ro=K2(Q2),Xe="authToken",F2=qe?`${qe}/notifications`:"/notifications",I2=()=>typeof window<"u"?window.localStorage.getItem(Xe):null,Lx=async(n,a={})=>{const r=I2();if(!r)throw new Error("Missing token");const o=await fetch(`${F2}${n}`,{...a,headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",...a.headers||{}}});if(o.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!o.ok){const u=await o.text();throw new Error(u||`Request failed (${o.status})`)}return o.status===204?null:o.json()},Bx={async list(n=20,a){const r=new URLSearchParams;r.set("limit",String(n)),a&&r.set("cursor",a);const o=r.toString(),u=await Lx(`/${o?`?${o}`:""}`,{method:"GET"});return{items:Array.isArray(u?.items)?u.items:[],next_cursor:u?.next_cursor??null,has_unread:!!u?.has_unread,unread_count:Number(u?.unread_count??0)}},async markAllRead(){const n=await Lx("/mark-all-read",{method:"POST"});return Number(n?.updated_count??0)}},Vx=n=>{const a=new Map;return n.forEach(r=>a.set(r.id,r)),Array.from(a.values()).sort((r,o)=>new Date(o.created_at).getTime()-new Date(r.created_at).getTime())},W2=(n={})=>{const a=n.pageSize??20,[r,o]=b.useState([]),[u,m]=b.useState(null),[f,h]=b.useState(!1),[x,p]=b.useState(0),[y,v]=b.useState(!0),[j,k]=b.useState(!1),[T,_]=b.useState(""),H=b.useCallback(async({cursor:E,append:U}={})=>{const L=!!(U&&E);L?k(!0):v(!0);try{const V=await Bx.list(a,E??null);o(J=>Vx(L?[...J,...V.items]:V.items)),m(V.next_cursor??null),h(!!V.has_unread),p(Number(V.unread_count??0)),_("")}catch(V){_(V instanceof Error?V.message:"Failed to load notifications")}finally{v(!1),k(!1)}},[a]);b.useEffect(()=>{H()},[H]);const $=b.useCallback(async()=>{await H()},[H]),G=b.useCallback(async()=>{!u||j||await H({cursor:u,append:!0})},[H,j,u]),D=b.useCallback(async()=>{await Bx.markAllRead(),o(E=>E.map(U=>({...U,is_read:!0}))),h(!1),p(0),_("")},[]);return{items:b.useMemo(()=>[...r].sort((E,U)=>new Date(U.created_at).getTime()-new Date(E.created_at).getTime()),[r]),nextCursor:u,hasUnreadNotifications:f,unreadCount:x,loading:y,loadingMore:j,error:T,refreshNotifications:$,loadMoreNotifications:G,markAllAsRead:D}},ew=n=>{const a=new Date(n).getTime();if(!Number.isFinite(a))return"";const r=Math.floor((Date.now()-a)/1e3);return r<60?"just now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:r<604800?`${Math.floor(r/86400)}d ago`:new Date(n).toLocaleDateString()},tw=({onNavigate:n})=>{const[a,r]=b.useState(!1),o=b.useRef(null),{items:u,nextCursor:m,hasUnreadNotifications:f,unreadCount:h,loading:x,loadingMore:p,error:y,refreshNotifications:v,loadMoreNotifications:j,markAllAsRead:k}=W2({pageSize:20});b.useEffect(()=>{if(!a)return;const D=E=>{const U=E.target;!o.current||U&&o.current.contains(U)||r(!1)},S=E=>{E.key==="Escape"&&r(!1)};return document.addEventListener("mousedown",D),document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",D),document.removeEventListener("keydown",S)}},[a]);const T=D=>{if(n){n(D);return}typeof window<"u"&&(window.history.pushState({},"",D),window.dispatchEvent(new PopStateEvent("popstate")))},_=async()=>{const D=!a;r(D),D&&await v()},H=async D=>{try{await k()}catch{}r(!1),T(D)},$=!x&&u.length===0,G=b.useMemo(()=>h<=0?"":h===1?"1 unread":`${h} unread`,[h]);return i.jsxs("div",{className:"relative",ref:o,children:[i.jsxs("button",{type:"button","aria-label":"Notifications","aria-haspopup":"menu","aria-expanded":a,onClick:_,className:"relative h-[34px] w-[34px] grid place-items-center rounded-xl border border-border-soft bg-main text-ink transition duration-150 ease-out hover:border-ink-muted hover:-translate-y-[1px] hover:shadow-soft focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary",children:[i.jsx(r2,{size:18,strokeWidth:1.8}),f?i.jsx("span",{className:"absolute right-[6px] top-[6px] h-2 w-2 rounded-full bg-red-500"}):null]}),a?i.jsxs("div",{role:"menu",className:"absolute right-0 z-50 mt-2 w-[360px] max-w-[calc(100vw-24px)] rounded-xl border border-border bg-white shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:"Notifications"}),G?i.jsx("p",{className:"text-xs text-ink-muted",children:G}):null]}),i.jsx("button",{type:"button",onClick:()=>{k()},className:"text-xs font-semibold text-accent-primary hover:underline",children:"Mark all read"})]}),i.jsxs("div",{className:"max-h-[420px] overflow-y-auto px-2 py-2",children:[x?i.jsx("p",{className:"px-2 py-3 text-sm text-ink-muted",children:"Loading notifications..."}):$?i.jsx("p",{className:"px-2 py-3 text-sm text-ink-muted",children:"No notifications yet."}):i.jsx("div",{className:"space-y-1",children:u.map(D=>i.jsxs("button",{type:"button",role:"menuitem",onClick:()=>{H(D.redirect_url)},className:`w-full rounded-lg border px-3 py-2 text-left transition ${D.is_read?"border-border bg-main hover:bg-slate-50":"border-sky-100 bg-sky-50/60 hover:bg-sky-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:D.title}),i.jsx("span",{className:"shrink-0 text-[11px] text-ink-muted",children:ew(D.created_at)})]}),i.jsx("p",{className:"mt-1 text-xs text-ink-muted line-clamp-2",children:D.message})]},D.id))}),y?i.jsx("p",{className:"px-2 py-2 text-xs text-red-600",children:y}):null]}),m?i.jsx("div",{className:"border-t border-border px-3 py-2",children:i.jsx("button",{type:"button",onClick:()=>{j()},disabled:p,className:"w-full rounded-md border border-border px-3 py-1.5 text-xs font-semibold text-ink hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:p?"Loading...":"Load more"})}):null]}):null]})},Wt=(n={})=>{const{enabled:a=!0,redirectOnUnauthorized:r=!0}=n,[o,u]=b.useState(null),[m,f]=b.useState(!0),[h,x]=b.useState(""),[p,y]=b.useState(!1);return b.useEffect(()=>{if(!a){f(!1),x("");return}const j=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!j){f(!1),x("Missing token");return}(async()=>{f(!0);try{const T=await fetch(`${qe}/auth/me`,{headers:{Authorization:`Bearer ${j}`}});if(T.status===401&&r){window.location.href="/auth";return}if(!T.ok)throw new Error(await T.text()||"Unable to load profile.");const _=await T.json(),H=_?.user??_;u(H)}catch(T){x(T.message||"Unable to load profile.")}finally{f(!1)}})()},[a,r]),{user:o,loading:m,error:h,saving:p,updateUser:async j=>{const k=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!k||!o)return null;y(!0);try{const T=await fetch(`${qe}/auth/me`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(j||{})});if(T.status===401)return r?(window.location.href="/auth",null):(x("Unauthorized"),null);if(!T.ok)throw new Error(await T.text()||"Unable to save profile.");const _=await T.json(),H=_?.user??_;return u(H),x(""),H}catch(T){return x(T.message||"Unable to save profile."),null}finally{y(!1)}}}},nw=({searchPlaceholder:n,onNavigate:a})=>{const{user:r}=Wt(),[o,u]=b.useState(!1),[m,f]=b.useState(!1),h=b.useRef(null),x=H=>{if(!H)return"";const $=String(H).trim();if(!$)return"";if(/^https?:\/\//i.test($))return $;const G=Ro||(typeof window<"u"?window.location.origin:"");return G?$.startsWith("/")?`${G}${$}`:`${G}/${$}`:$.startsWith("/")?$:`/${$}`},p=r?.display_name||r?.name||r?.username||(r?.email?String(r.email).split("@")[0]:"User"),y=x(r?.photo_link||""),v=r?.balance??null,j=v==null||Number.isNaN(Number(v))?null:Number(v),k=j===null?"":`$${j.toFixed(2)}`;b.useEffect(()=>{f(!1)},[y]),b.useEffect(()=>{const H=G=>{h.current&&!h.current.contains(G.target)&&u(!1)},$=G=>{G.key==="Escape"&&u(!1)};return document.addEventListener("mousedown",H),document.addEventListener("keydown",$),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",$)}},[]);const T=H=>{if(a){a(H);return}typeof window<"u"&&(window.history.pushState({},"",H),window.dispatchEvent(new PopStateEvent("popstate")))},_=()=>{typeof window<"u"&&(window.localStorage.removeItem(Xe),window.location.href="/auth")};return i.jsxs("header",{className:"h-16 grid grid-cols-[auto_1fr_auto] items-center gap-6 px-7 bg-main border-b border-border",children:[i.jsx("div",{className:"flex items-center",children:i.jsx(Y2,{onNavigate:T})}),i.jsx("div",{className:"justify-self-center",children:i.jsx(G2,{placeholder:n})}),i.jsxs("div",{className:"flex items-center gap-2.5",children:[j!==null?i.jsxs("div",{className:"hidden sm:flex items-center gap-2 rounded-full border border-border bg-white px-3 py-1 text-xs font-semibold text-ink",children:[i.jsx("span",{className:"text-ink-muted",children:"Balance"}),i.jsx("span",{children:k})]}):null,i.jsx(tw,{onNavigate:T}),i.jsxs("div",{className:"relative",ref:h,children:[i.jsxs("button",{type:"button",onClick:()=>u(H=>!H),"aria-haspopup":"menu","aria-expanded":o,className:"flex items-center gap-1.5 rounded-xl border border-border-soft bg-main px-2 py-1 text-ink transition duration-150 ease-out hover:border-ink-muted hover:-translate-y-[1px] hover:shadow-soft focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary",children:[i.jsx("div",{className:"h-7 w-7 rounded-full border border-border bg-accent-primary/10 text-accent-primary grid place-items-center overflow-hidden",children:y&&!m?i.jsx("img",{src:y,alt:p,className:"h-full w-full object-cover",onError:()=>f(!0)}):i.jsx("span",{className:"text-[11px] font-bold uppercase",children:p?.[0]??"U"})}),i.jsx(Mo,{size:14,className:"text-ink-muted"})]}),o?i.jsxs("div",{role:"menu",className:"absolute right-0 mt-2 w-44 rounded-xl border border-border bg-white shadow-lg p-1 z-50",children:[i.jsxs("button",{type:"button",role:"menuitem",onClick:()=>{u(!1),T("/user")},className:"w-full flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-ink hover:bg-gray-100",children:[i.jsx(qy,{size:16}),"Profile"]}),i.jsxs("button",{type:"button",role:"menuitem",onClick:()=>{u(!1),T("/settings")},className:"w-full flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-ink hover:bg-gray-100",children:[i.jsx(Wd,{size:16}),"Settings"]}),i.jsx("div",{className:"my-1 h-px bg-border"}),i.jsxs("button",{type:"button",role:"menuitem",onClick:_,className:"w-full flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[i.jsx(Uy,{size:16}),"Logout"]})]}):null]})]})]})},sw=n=>{if(!n)return null;const a=new Date(n);return Number.isNaN(a.getTime())?n:a.toLocaleString([],{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},ci=n=>n&&n.trim()?n.trim():"",ui=n=>{const a=n?.base_info||{},r=n?.email_connection_status||n?.email_status||"",o=String(r).toLowerCase(),u=o==="active"||o==="connected",m=n?.email_address||a.email||"",f=n?.unread_count??a.unread_count??0,h=n?.next_interview??a.next_interview??null,x=ci(n?.assigned_bidder_display_name)||ci(n?.assigned_bidder_username)||ci(n?.assigned_bidder_email)||(n?.assigned_bidder_user_id?String(n.assigned_bidder_user_id):""),p=ci(n?.owner_username)||ci(n?.owner_display_name)||ci(n?.owner_email)||(n?.user_id?String(n.user_id):""),y=!!n?.is_owner,v=!!n?.is_assigned_to_current_user;return{id:n.id,name:n.name,subtitle:n.description||"No description yet",templateTitle:n.resume_template_title||"",templateId:n.resume_template_id,email:m,emailConnected:o?u:!!n.email_account_id,bidder:x,assignedBidderLabel:x,assignedBidderId:n.assigned_bidder_user_id||"",isOwner:y,isAssignedToCurrentUser:v,ownerUsername:p,unreadCount:Number(f||0),nextInterview:sw(h),status:a.status||"Draft",raw:n}},ef=(n={})=>{const[a,r]=b.useState([]),[o,u]=b.useState(!0),[m,f]=b.useState(null),h=n.scope,x=n.endpointPath||"/profiles",p=x.startsWith("/")?x:`/${x}`,y=qe?`${qe}${p}`:p,v=h?`${y}?scope=${encodeURIComponent(h)}`:y,j=b.useCallback(async({signal:E,showLoading:U}={})=>{const L=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!L){f("Missing token"),r([]),u(!1);return}try{U!==!1&&u(!0),f(null);const V=await fetch(v,{signal:E,headers:{Authorization:`Bearer ${L}`}});if(V.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!V.ok)throw new Error(`Failed to load profiles (${V.status})`);const J=await V.json(),se=Array.isArray(J)?J:Array.isArray(J?.items)?J.items:[];r(se.map(ui))}catch(V){V.name!=="AbortError"&&(f(V.message||"Unable to load profiles."),r([]),console.error("Error loading profiles",V))}finally{U!==!1&&u(!1)}},[v]);b.useEffect(()=>{const E=new AbortController;return j({signal:E.signal}),()=>E.abort()},[j]);const k=async E=>{const U=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!U)throw new Error("Missing token");const L=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify(E)});if(L.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!L.ok){const se=await L.text();throw new Error(se||"Unable to create profile.")}const V=await L.json(),J=ui(V);return r(se=>[J,...se]),J},T=async(E,U)=>{const L=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!L)throw new Error("Missing token");const V=await fetch(`${y}/${E}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify(U)});if(V.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!V.ok){const he=await V.text();throw new Error(he||"Unable to update profile.")}const J=await V.json(),se=ui(J);return r(he=>he.map(ce=>ce.id===E?se:ce)),se},_=async E=>{const U=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!U)throw new Error("Missing token");const L=await fetch(`${y}/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${U}`}});if(L.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!L.ok){const V=await L.text();throw new Error(V||"Unable to delete profile.")}r(V=>V.filter(J=>J.id!==E))},H=b.useCallback(async E=>{const U=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!U)throw new Error("Missing token");const L=await fetch(`${y}/${E}`,{headers:{Authorization:`Bearer ${U}`}});if(L.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!L.ok){const se=await L.text();throw new Error(se||"Unable to fetch profile.")}const V=await L.json(),J=ui(V);return r(se=>{const he=se.findIndex(te=>te.id===E);if(he===-1)return se;const ce=[...se];return ce[he]=J,ce}),J},[y]),$=b.useCallback(async E=>{const U=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!U)throw new Error("Missing token");const L=await fetch(`${y}/${E}/email/outlook/authorize`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`}});if(L.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!L.ok){const J=await L.text();throw new Error(J||"Unable to start Outlook connection.")}const V=await L.json();if(!V?.url)throw new Error("Missing authorization URL.");return V.url},[y]),G=b.useCallback(async()=>{await j({showLoading:!1})},[j]);return{profiles:a,loading:o,error:m,createProfile:k,updateProfile:T,deleteProfile:_,fetchProfile:H,startOutlookConnect:$,refreshProfiles:G,assignBidder:async(E,U)=>{const L=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!L)throw new Error("Missing token");const V=await fetch(`${y}/${E}/assign-bidder`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({bidder_user_id:U})});if(V.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!V.ok){const he=await V.text();throw new Error(he||"Unable to assign employee.")}const J=await V.json(),se=ui(J);return r(he=>he.map(ce=>ce.id===E?se:ce)),se},unassignBidder:async E=>{const U=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!U)throw new Error("Missing token");const L=await fetch(`${y}/${E}/unassign-bidder`,{method:"POST",headers:{Authorization:`Bearer ${U}`}});if(L.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!L.ok){const se=await L.text();throw new Error(se||"Unable to unassign employee.")}const V=await L.json(),J=ui(V);return r(se=>se.map(he=>he.id===E?J:he)),J}}},aw=qe?`${qe}/templates`:"/templates",iw=()=>{const[n,a]=b.useState([]),[r,o]=b.useState(!0),[u,m]=b.useState(null),f=async h=>{const x=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!x){m("Missing token"),a([]),o(!1);return}try{o(!0),m(null);const p=await fetch(aw,{signal:h,headers:{Authorization:`Bearer ${x}`}});if(p.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!p.ok)throw new Error(`Failed to load templates (${p.status})`);const y=await p.json(),v=Array.isArray(y)?y:Array.isArray(y?.items)?y.items:[];a(v)}catch(p){p.name!=="AbortError"&&(m(p.message||"Unable to load templates."),a([]))}finally{o(!1)}};return b.useEffect(()=>{const h=new AbortController;return f(h.signal),()=>h.abort()},[]),{templates:n,loading:r,error:u,reload:()=>f()}},lw=({profile:n,onOpen:a,onTemplateClick:r,onEmailOpen:o,onDelete:u,onBidderRequest:m,onTemplatesOpen:f,allowBidderAssign:h,showOwner:x,gridTemplate:p})=>{const{name:y,subtitle:v,ownerUsername:j,templateTitle:k,email:T,emailConnected:_,bidder:H,unreadCount:$,nextInterview:G,isOwner:D,isAssignedToCurrentUser:S}=n,E="h-full px-2 border-r border-border flex items-center box-border min-w-0",U=!!(_&&T&&o),L=se=>{se.stopPropagation(),U&&o()},V=_?i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-medium text-ink",children:T??""}),i.jsx("span",{className:"text-[12px] text-green-600 font-semibold",children:"Connected"})]}):i.jsx("span",{className:"text-[12px] px-2 py-1 rounded-md bg-gray-100 text-ink-muted border border-border-soft",children:"Not connected"}),J=!!(m&&(D||S||h));return i.jsx("div",{className:"group w-full text-left",children:i.jsxs("div",{className:"relative grid items-stretch gap-0 px-4 py-3 bg-white hover:bg-[#F7FAFF] transition-colors border-b border-border",style:{gridTemplateColumns:p},children:[i.jsx("div",{className:`${E} gap-3`,children:i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx("span",{className:"font-semibold text-ink",children:y}),i.jsx("span",{className:"text-sm text-ink-muted",children:v})]})}),x?i.jsx("div",{className:`${E} text-sm text-ink`,children:i.jsx("span",{className:"truncate",title:j||"-",children:j||"-"})}):null,i.jsx("div",{className:`${E} justify-start gap-2`,children:U?i.jsx("button",{type:"button","aria-label":`Open inbox for ${T}`,onClick:L,className:"w-full text-left rounded-md px-2 py-1 -mx-2 -my-1 transition-colors hover:bg-gray-50 cursor-pointer",children:V}):i.jsx("div",{className:"w-full",children:V})}),i.jsx("div",{className:`${E} text-sm text-ink`,children:i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),r?.(se.currentTarget.getBoundingClientRect())},className:"text-left font-medium text-accent-primary hover:underline truncate",title:k||"Select template",children:k||""}),f?i.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),f()},className:"inline-flex h-7 w-7 items-center justify-center rounded-md border border-border text-ink-muted hover:text-ink hover:bg-gray-50","aria-label":"Open resume templates",title:"Open resume templates",children:i.jsx(Ry,{size:14})}):null]})}),i.jsx("div",{className:`${E} text-sm text-ink`,children:J?i.jsx("button",{type:"button",onClick:se=>{se.stopPropagation(),m()},className:"w-full text-left rounded-md px-2 py-1 -mx-2 -my-1 transition-colors hover:bg-gray-50",children:H?i.jsx("span",{className:"font-medium",children:H}):i.jsx("span",{className:"text-ink-muted",children:"Unassigned"})}):H?i.jsx("span",{className:"font-medium",children:H}):i.jsx("span",{className:"text-ink-muted",children:"Unassigned"})}),i.jsx("div",{className:`${E} text-sm text-ink justify-start`,children:$>0?i.jsxs("span",{className:"px-2 py-1 rounded-full bg-accent-primary/10 text-accent-primary font-semibold text-[12px]",children:[$," unread"]}):""}),i.jsx("div",{className:`${E} text-sm text-ink justify-start`,children:G??""}),i.jsx("div",{className:"flex justify-end px-2 h-full items-center box-border min-w-0",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button","aria-label":"Open profile",onClick:se=>{se.stopPropagation(),a()},className:"p-1.5 rounded-md text-ink-muted hover:text-ink hover:bg-gray-100",children:i.jsx(Fd,{size:18})}),D?i.jsx("button",{type:"button","aria-label":"Delete profile",onClick:se=>{se.stopPropagation(),u?.()},className:"p-1.5 rounded-md text-ink-muted hover:text-red-600 hover:bg-red-50",children:i.jsx($l,{size:18})}):null]})})]})})},rw=n=>n?"minmax(0, 1.5fr) minmax(0, 1fr) minmax(0, 1.5fr) minmax(0, 1.1fr) minmax(0, 1fr) minmax(0, 0.9fr) minmax(0, 1.05fr) minmax(0, 0.85fr)":"minmax(0, 1.5fr) minmax(0, 1.5fr) minmax(0, 1.1fr) minmax(0, 1fr) minmax(0, 0.9fr) minmax(0, 1.05fr) minmax(0, 0.85fr)",ow=({profiles:n,loading:a,error:r,onTemplateClick:o,onEmailOpen:u,onOpen:m,onDelete:f,onBidderRequest:h,onTemplatesOpen:x,allowBidderAssign:p,showOwner:y})=>{if(a)return i.jsx("div",{className:"border border-border rounded-2xl bg-white p-6 text-sm text-ink-muted",children:"Loading profiles"});if(r)return i.jsx("div",{className:"border border-border rounded-2xl bg-white p-6 text-sm text-red-600",children:"Couldn't load profiles. Please try again."});if(!n||n.length===0)return i.jsx("div",{className:"border border-border rounded-2xl bg-white p-6 text-sm text-ink-muted",children:"There is no profiles."});const v=[{label:"Profile",align:"text-left"},...y?[{label:"Username",align:"text-left"}]:[],{label:"Email",align:"text-left"},{label:"Template",align:"text-left"},{label:"Bidder",align:"text-left"},{label:"Inbox",align:"text-left"},{label:"Next Interview",align:"text-left"},{label:"Actions",align:"text-right"}],j=rw(y);return i.jsxs("div",{className:"border border-border rounded-2xl overflow-hidden bg-white",children:[i.jsx("div",{className:"grid items-stretch gap-0 px-4 py-3 text-xs font-semibold uppercase tracking-[0.04em] text-ink-muted bg-[#F5F7FA] border-b border-border",style:{gridTemplateColumns:j},children:v.map((k,T)=>i.jsx("div",{className:`${k.align} px-2 flex items-center h-full box-border min-w-0 ${T===v.length-1?"":"border-r border-border"}`,children:k.label},k.label))}),i.jsx("div",{className:"divide-y divide-border",children:n.map(k=>i.jsx(lw,{profile:k,onOpen:()=>m?.(k),onTemplateClick:T=>o?.(k,T),onEmailOpen:()=>u?.(k),onDelete:()=>f?.(k),onBidderRequest:()=>h?.(k),onTemplatesOpen:x,allowBidderAssign:p,showOwner:y,gridTemplate:j},k.id))})]})},tf=({open:n,onClose:a,title:r,children:o,footer:u})=>n?i.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/40 backdrop-blur-sm p-6 overflow-y-auto",children:i.jsxs("div",{className:"relative w-full max-w-xl rounded-2xl bg-white shadow-2xl ring-1 ring-black/5",children:[i.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-border",children:[i.jsx("div",{children:i.jsx("h3",{className:"text-lg font-semibold text-ink",children:r})}),i.jsx("button",{type:"button",onClick:a,className:"p-1 rounded-md text-ink-muted hover:text-ink hover:bg-gray-100","aria-label":"Close",children:i.jsx(Si,{size:18})})]}),i.jsx("div",{className:"px-5 py-4",children:o}),u?i.jsx("div",{className:"px-5 py-4 border-t border-border bg-gray-50",children:u}):null]})}):null,oo={name:"",description:"",templateId:""},cw=({open:n,onClose:a,onCreate:r,templates:o,templatesLoading:u,templatesError:m})=>{const[f,h]=b.useState(oo),[x,p]=b.useState(!1),[y,v]=b.useState(""),j=(T,_)=>h(H=>({...H,[T]:_})),k=async T=>{if(T.preventDefault(),!f.name){v("Name is required");return}if(!f.templateId){v("Template is required");return}try{p(!0),v(""),await r?.(f),h(oo),a?.()}catch(_){v(_?.message||"Unable to create profile")}finally{p(!1)}};return i.jsx(tf,{open:n,onClose:()=>{x||(h(oo),a?.())},title:"Create Profile",footer:i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:()=>{x||(h(oo),a?.())},className:"px-4 py-2 rounded-lg border border-border text-sm font-semibold text-ink-muted hover:text-ink",children:"Cancel"}),i.jsx("button",{type:"submit",form:"create-profile-form",disabled:x,className:"px-4 py-2 rounded-lg bg-accent-primary text-white text-sm font-semibold disabled:opacity-60",children:x?"Creating":"Create"})]}),children:i.jsxs("form",{id:"create-profile-form",className:"space-y-4",onSubmit:k,children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Profile name *"}),i.jsx("input",{type:"text",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:f.name,onChange:T=>j("name",T.target.value),required:!0})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Template *"}),i.jsxs("select",{className:"w-full rounded-lg border border-border px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:f.templateId,onChange:T=>j("templateId",T.target.value),required:!0,children:[i.jsx("option",{value:"",children:"Select a template"}),o?.map(T=>i.jsx("option",{value:T.id,children:T.title},T.id))]}),u?i.jsx("span",{className:"text-xs text-ink-muted",children:"Loading templates..."}):null,m?i.jsx("span",{className:"text-xs text-red-600",children:m}):null]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Description"}),i.jsx("textarea",{className:"w-full rounded-lg border border-border px-3 py-2 text-sm min-h-[100px] focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:f.description,onChange:T=>j("description",T.target.value)})]}),y?i.jsx("p",{className:"text-sm text-red-600",children:y}):null]})})},uw=({open:n,onClose:a,templates:r,loading:o,error:u,profile:m,anchor:f,onConfirm:h})=>{const[x,p]=b.useState(null),y=b.useRef(null),v=b.useMemo(()=>r||[],[r]);if(b.useEffect(()=>{if(!n)return;const _=H=>{y.current?.contains(H.target)||(p(null),a?.())};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[n,a]),!n)return null;const j=()=>{p(null),a?.()},k=f?.bottom??120,T=f?.left??120;return i.jsx("div",{className:"fixed inset-0 z-50 pointer-events-none",children:i.jsxs("div",{ref:y,className:"pointer-events-auto absolute w-[280px] rounded-xl bg-white shadow-xl ring-1 ring-black/10",style:{top:`${k+6}px`,left:`${T}px`},children:[i.jsx("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border",children:i.jsx("button",{type:"button",onClick:j,className:"p-1 rounded-md text-ink-muted hover:text-ink hover:bg-gray-100 text-[10px]","aria-label":"Close",children:""})}),i.jsxs("div",{className:"px-3 py-2 space-y-2 max-h-[320px] overflow-auto",children:[o?i.jsx("p",{className:"text-[10px] text-ink-muted",children:"Loading templates..."}):null,u?i.jsx("p",{className:"text-[10px] text-red-600",children:u}):null,!o&&!u&&v.length===0?i.jsx("p",{className:"text-[10px] text-ink-muted",children:"No templates available."}):null,i.jsx("div",{className:"space-y-1",children:v.map(_=>i.jsx("button",{type:"button",onClick:()=>p(_),className:"w-full text-left rounded-lg px-1.5 py-1 hover:border-accent-primary/50 hover:bg-[#F7FAFF] transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{className:"text-[10px] font-semibold text-ink truncate",children:_.title}),i.jsxs("span",{className:"text-[10px] text-ink-muted whitespace-nowrap",children:[_.profile_count??0," using"]})]})},_.id))})]}),x?i.jsx("div",{className:"absolute inset-0 bg-white/95 flex items-center justify-center p-3",children:i.jsxs("div",{className:"bg-white rounded-lg shadow border border-border w-full p-3",children:[i.jsxs("p",{className:"text-xs text-ink",children:["Change template to ",i.jsx("span",{className:"font-semibold",children:x.title}),"?"]}),i.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>p(null),className:"px-3 h-8 rounded-md border border-border text-xs font-semibold text-ink-muted hover:text-ink",children:"No"}),i.jsx("button",{type:"button",onClick:async()=>{await h?.(x),p(null),j()},className:"px-3 h-8 rounded-md bg-accent-primary text-white text-xs font-semibold",children:"Yes"})]})]})}):null]})})};var dw=Cy();const fw=({visible:n,profileForm:a,updateProfileForm:r,assignedBidderLabel:o,emailStatusLabel:u,emailActionLabel:m,onConnectEmail:f,emailConnecting:h=!1})=>i.jsxs("section",{className:"space-y-4",style:{display:n?"block":"none"},children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Profile Name"}),i.jsx("input",{type:"text",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.name,onChange:x=>r("name",x.target.value)})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Profile Description"}),i.jsx("textarea",{rows:2,className:"w-full resize-none rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.description,onChange:x=>r("description",x.target.value)})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Assigned Employee"}),i.jsx("div",{className:"rounded-lg border border-border bg-gray-50 px-3 py-2 text-sm text-ink",children:o||"Unassigned"})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Email Address"}),i.jsx("input",{type:"email",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.email,onChange:x=>r("email",x.target.value)})]}),i.jsx("div",{className:"rounded-xl border border-border px-4 py-3 bg-gray-50",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-ink",children:"Email Connection Status"}),i.jsx("span",{className:`mt-1 inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${a.emailStatus==="connected"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:u})]}),m?i.jsx("button",{type:"button",onClick:f,disabled:!f||h,className:"px-3 py-1.5 rounded-lg border border-border text-sm font-semibold text-ink hover:text-ink disabled:opacity-60 disabled:cursor-not-allowed",children:h?"Connecting...":m}):null]})})]}),mw=({visible:n,baseInfoForm:a,updateBaseInfoForm:r,onImportJson:o,onExportJson:u})=>{const m=b.useRef(null),[f,h]=b.useState(""),x=()=>{h(""),m.current?.click()},p=async y=>{const v=y.target.files?.[0];if(v)try{const j=await v.text(),k=JSON.parse(j);if(!k||typeof k!="object"||Array.isArray(k))throw new Error("Invalid JSON");o?.(k),h("")}catch{h("Invalid JSON file.")}finally{y.target.value=""}};return i.jsxs("section",{className:"space-y-6",style:{display:n?"block":"none"},children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[i.jsx("input",{ref:m,type:"file",accept:"application/json",className:"hidden",onChange:p}),i.jsx("button",{type:"button",onClick:x,className:"px-3 py-1.5 rounded-lg border border-border text-xs font-semibold text-ink-muted hover:text-ink",children:"Import JSON"}),i.jsx("button",{type:"button",onClick:u,className:"px-3 py-1.5 rounded-lg border border-border text-xs font-semibold text-ink-muted hover:text-ink",children:"Export JSON"})]}),f?i.jsx("div",{className:"text-xs text-red-600",children:f}):null,i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Name"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Prefix",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.prefix,onChange:y=>r("prefix",y.target.value)}),i.jsx("input",{type:"text",placeholder:"First name",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.firstName,onChange:y=>r("firstName",y.target.value)}),i.jsx("input",{type:"text",placeholder:"Last name",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.lastName,onChange:y=>r("lastName",y.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Compensation"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx("input",{type:"number",placeholder:"Desired annual salary",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.desiredSalary,onChange:y=>r("desiredSalary",y.target.value)}),i.jsx("input",{type:"number",placeholder:"Current salary",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.currentSalary,onChange:y=>r("currentSalary",y.target.value)}),i.jsxs("select",{className:"w-full rounded-lg border border-border px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.currency,onChange:y=>r("currency",y.target.value),children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"}),i.jsx("option",{value:"GBP",children:"GBP"}),i.jsx("option",{value:"CAD",children:"CAD"}),i.jsx("option",{value:"INR",children:"INR"})]}),i.jsx("input",{type:"text",placeholder:"Notice period",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.noticePeriod,onChange:y=>r("noticePeriod",y.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Contact"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx("input",{type:"email",readOnly:!0,className:"w-full rounded-lg border border-border px-3 py-2 text-sm bg-gray-50 text-ink-muted",value:a.email}),i.jsx("input",{type:"text",placeholder:"Phone country code",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.phoneCountryCode,onChange:y=>r("phoneCountryCode",y.target.value)}),i.jsx("input",{type:"text",placeholder:"Phone number",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.phoneNumber,onChange:y=>r("phoneNumber",y.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Credentials"}),i.jsx("input",{type:"password",placeholder:"Password",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.password,onChange:y=>r("password",y.target.value)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Location"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx("input",{type:"text",placeholder:"City",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.city,onChange:y=>r("city",y.target.value)}),i.jsx("input",{type:"text",placeholder:"State",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.state,onChange:y=>r("state",y.target.value)}),i.jsx("input",{type:"text",placeholder:"Country",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.country,onChange:y=>r("country",y.target.value)}),i.jsx("input",{type:"text",placeholder:"Nationality",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.nationality,onChange:y=>r("nationality",y.target.value)}),i.jsx("input",{type:"text",placeholder:"Postal code",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.postalCode,onChange:y=>r("postalCode",y.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Identity"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Gender",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.gender,onChange:y=>r("gender",y.target.value)}),i.jsx("input",{type:"text",placeholder:"Race / ethnicity",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.raceEthnicity,onChange:y=>r("raceEthnicity",y.target.value)}),i.jsx("input",{type:"text",placeholder:"Sexual orientation",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.sexualOrientation,onChange:y=>r("sexualOrientation",y.target.value)}),i.jsx("input",{type:"text",placeholder:"Disability status",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.disabilityStatus,onChange:y=>r("disabilityStatus",y.target.value)}),i.jsx("input",{type:"text",placeholder:"Veteran status",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.veteranStatus,onChange:y=>r("veteranStatus",y.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Links"}),i.jsx("input",{type:"url",placeholder:"LinkedIn URL",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.linkedInUrl,onChange:y=>r("linkedInUrl",y.target.value)})]})]})},hw=({visible:n,resumeForm:a,skillsInput:r,setSkillsInput:o,handleSkillKeyDown:u,removeSkill:m,addExperience:f,removeExperience:h,updateExperience:x,updateResumeForm:p,onImportJson:y,onExportJson:v})=>{const j=b.useRef(null),[k,T]=b.useState(""),_=()=>{const S=te=>String(te??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),E=[a.location,a.email,a.phone,a.linkedin].filter(Boolean).map(S),U=E.length?E.join(" | "):"Contact info not set.",L=a.headline?`<p>${S(a.headline)}</p>`:"",V=a.summary?`<p>${S(a.summary).replace(/\n/g,"<br />")}</p>`:"",J=Array.isArray(a.skills)?a.skills.filter(Boolean).map(te=>`<span class="chip">${S(te)}</span>`).join(""):"",se=Array.isArray(a.experience)?a.experience:[],he=se.length?se.map(te=>{const ee=te?.isPresent?"Present":te?.endDate||"",K=[te?.startDate,ee].filter(Boolean).join(" - "),A=te?.bullets?`<p class="muted">${S(te.bullets).replace(/\n/g,"<br />")}</p>`:"",O=te?.companyName?` | ${S(te.companyName)}`:"";return`
              <div class="card">
                <div class="title">${S(te?.roleTitle||"Role Title")}${O}</div>
                ${K?`<div class="muted">${S(K)}</div>`:""}
                ${A}
              </div>
            `}).join(""):'<p class="muted">No experience added yet.</p>',ce=S(a.name||"Resume Preview");return`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>${ce}</title>
    <style>
      body { font-family: "Segoe UI", system-ui, sans-serif; background: #f8fafc; color: #0f172a; margin: 0; }
      .wrap { max-width: 900px; margin: 32px auto; padding: 0 24px; }
      .panel { background: #fff; border: 1px solid #e2e8f0; border-radius: 16px; padding: 24px; box-shadow: 0 10px 30px rgba(15, 23, 42, 0.06); }
      h1 { margin: 0 0 4px; font-size: 24px; }
      h2 { margin: 20px 0 6px; font-size: 12px; letter-spacing: 0.18em; text-transform: uppercase; color: #64748b; }
      p { margin: 6px 0; font-size: 14px; line-height: 1.6; }
      .muted { color: #64748b; font-size: 12px; }
      .chips { display: flex; flex-wrap: wrap; gap: 8px; }
      .chip { display: inline-flex; padding: 4px 10px; border-radius: 999px; background: #e0e7ff; color: #1d4ed8; font-weight: 600; font-size: 12px; }
      .card { margin-top: 10px; padding: 12px; border-radius: 12px; border: 1px solid #e2e8f0; background: #f8fafc; }
      .title { font-weight: 600; font-size: 14px; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="panel">
        <h1>${ce}</h1>
        <p class="muted">${U}</p>
        ${L?"<h2>Headline</h2>"+L:""}
        ${V?"<h2>Summary</h2>"+V:""}
        <h2>Skills</h2>
        ${J?`<div class="chips">${J}</div>`:'<p class="muted">No skills added yet.</p>'}
        <h2>Experience</h2>
        ${he}
      </div>
    </div>
  </body>
</html>`},H=()=>{T(""),j.current?.click()},$=async S=>{const E=S.target.files?.[0];if(E)try{const U=await E.text(),L=JSON.parse(U);if(!L||typeof L!="object"||Array.isArray(L))throw new Error("Invalid JSON");y?.(L),T("")}catch{T("Invalid JSON file.")}finally{S.target.value=""}},G=Array.isArray(a.skills)?a.skills:[],D=Array.isArray(a.experience)?a.experience:[];return i.jsxs("section",{className:"space-y-6",style:{display:n?"block":"none"},children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[i.jsx("input",{ref:j,type:"file",accept:"application/json",className:"hidden",onChange:$}),i.jsx("button",{type:"button",onClick:()=>{const S=_(),E=new Blob([S],{type:"text/html"}),U=URL.createObjectURL(E);if(!window.open(U,"_blank","noopener,noreferrer")){URL.revokeObjectURL(U);return}window.setTimeout(()=>URL.revokeObjectURL(U),5e3)},className:"px-3 py-1.5 rounded-lg border border-border text-xs font-semibold transition-colors text-ink-muted hover:text-ink",children:i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Fd,{size:14}),"Preview"]})}),i.jsx("button",{type:"button",onClick:H,className:"px-3 py-1.5 rounded-lg border border-border text-xs font-semibold text-ink-muted hover:text-ink",children:"Import JSON"}),i.jsx("button",{type:"button",onClick:v,className:"px-3 py-1.5 rounded-lg border border-border text-xs font-semibold text-ink-muted hover:text-ink",children:"Export JSON"})]}),k?i.jsx("div",{className:"text-xs text-red-600",children:k}):null,i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Contact"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Name",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.name,onChange:S=>p("name",S.target.value)}),i.jsx("input",{type:"text",placeholder:"Location",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.location,onChange:S=>p("location",S.target.value)}),i.jsx("input",{type:"email",placeholder:"Email",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.email,onChange:S=>p("email",S.target.value)}),i.jsx("input",{type:"text",placeholder:"Phone",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.phone,onChange:S=>p("phone",S.target.value)}),i.jsx("input",{type:"url",placeholder:"LinkedIn",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.linkedin,onChange:S=>p("linkedin",S.target.value)})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Header"}),i.jsx("input",{type:"text",placeholder:"Headline",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.headline,onChange:S=>p("headline",S.target.value)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Summary"}),i.jsx("textarea",{rows:4,placeholder:"Summary",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:a.summary,onChange:S=>p("summary",S.target.value)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Skills"}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-lg border border-border px-3 py-2",children:[G.map(S=>i.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-accent-primary/10 px-2 py-1 text-xs font-semibold text-accent-primary",children:[S,i.jsx("button",{type:"button",onClick:()=>m(S),className:"text-accent-primary/70 hover:text-accent-primary",children:"x"})]},S)),i.jsx("input",{type:"text",className:"flex-1 min-w-[120px] border-none p-1 text-sm focus:outline-none",placeholder:"Add a skill",value:r,onChange:S=>o(S.target.value),onKeyDown:u})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Work Experience"}),i.jsx("button",{type:"button",onClick:f,className:"text-sm font-semibold text-accent-primary hover:underline",children:"Add Experience"})]}),i.jsxs("div",{className:"space-y-4",children:[D.length===0?i.jsx("div",{className:"rounded-xl border border-dashed border-border px-4 py-6 text-sm text-ink-muted",children:"No experience added yet."}):null,D.map(S=>i.jsxs("div",{className:"rounded-xl border border-border p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-sm font-semibold text-ink",children:"Role"}),i.jsx("button",{type:"button",onClick:()=>h(S.id),className:"text-xs font-semibold text-red-600 hover:text-red-700",children:"Remove Role"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsx("input",{type:"text",placeholder:"Company Name",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:S.companyName,onChange:E=>x(S.id,"companyName",E.target.value)}),i.jsx("input",{type:"text",placeholder:"Role Title",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:S.roleTitle,onChange:E=>x(S.id,"roleTitle",E.target.value)}),i.jsxs("select",{className:"w-full rounded-lg border border-border px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:S.employmentType,onChange:E=>x(S.id,"employmentType",E.target.value),children:[i.jsx("option",{value:"",children:"Employment Type"}),i.jsx("option",{value:"Full-time",children:"Full-time"}),i.jsx("option",{value:"Part-time",children:"Part-time"}),i.jsx("option",{value:"Contract",children:"Contract"}),i.jsx("option",{value:"Freelance",children:"Freelance"}),i.jsx("option",{value:"Internship",children:"Internship"})]}),i.jsx("input",{type:"date",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:S.startDate,onChange:E=>x(S.id,"startDate",E.target.value)}),i.jsx("input",{type:"date",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:S.isPresent?"":S.endDate,onChange:E=>x(S.id,"endDate",E.target.value),disabled:S.isPresent}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-ink",children:[i.jsx("input",{type:"checkbox",checked:S.isPresent,onChange:E=>{const U=E.target.checked;x(S.id,"isPresent",U),x(S.id,"endDate",U?"Present":"")}}),"Present"]})]}),i.jsx("textarea",{rows:3,placeholder:"Bullets",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:S.bullets,onChange:E=>x(S.id,"bullets",E.target.value)})]},S.id))]})]})]})},pw=[{id:"profile",label:"Profile"},{id:"baseInfo",label:"Base Info"},{id:"baseResume",label:"Base Resume"}],xw=(n,a)=>{if(!n)return a?"connected":"not_connected";const r=String(n).toLowerCase();return r==="active"||r==="connected"?"connected":r==="expired"||r==="revoked"||r==="error"?"expired":"not_connected"},gw=n=>n?.name||n?.display_name||n?.displayName||n?.username||n?.email||n?.id||"",Hx=n=>{const a=n?.raw||{},r=a.base_info||a.baseInfo||{};return{name:n?.name||a.name||"",description:a.description||a.profile_description||n?.subtitle||"",assignedBidderId:a.assigned_bidder_user_id||"",email:n?.email||r.email||"",emailStatus:xw(a.email_status||a.email_connection_status,n?.emailConnected)}},ed=n=>{const a=n?.raw||{},r=a.base_info||a.baseInfo||{};return{prefix:r.prefix||r.name_prefix||"",firstName:r.first_name||r.firstName||"",lastName:r.last_name||r.lastName||"",desiredSalary:r.desired_annual_salary||r.desiredAnnualSalary||r.desiredSalary||"",currentSalary:r.current_salary||r.currentSalary||"",noticePeriod:r.notice_period||r.noticePeriod||"",currency:r.currency||"USD",email:r.email||n?.email||"",password:r.password||r.profile_password||"",phoneCountryCode:r.phone_country_code||r.phoneCountryCode||"",phoneNumber:r.phone_number||r.phoneNumber||"",city:r.city||"",state:r.state||"",country:r.country||"",nationality:r.nationality||"",gender:r.gender||"",postalCode:r.postal_code||r.postalCode||"",linkedInUrl:r.linkedin_url||r.linkedinUrl||"",raceEthnicity:r.race_ethnicity||r.raceEthnicity||"",sexualOrientation:r.sexual_orientation||r.sexualOrientation||"",disabilityStatus:r.disability_status||r.disabilityStatus||"",veteranStatus:r.veteran_status||r.veteranStatus||""}},Gy=n=>{const a=n?.end_date||n?.endDate||"",r=n?.isPresent||String(a).toLowerCase()==="present",o=n?.bullets??n?.bullet_points??n?.bulletPoints??"",u=Array.isArray(o)?o.filter(Boolean).join(`
`):o||"";return{id:n?.id||`exp-${Date.now()}-${Math.random().toString(16).slice(2)}`,companyName:n?.companyTitle||n?.company_name||n?.companyName||"",roleTitle:n?.roleTitle||n?.role_title||"",employmentType:n?.employmentType||n?.employment_type||"",location:n?.location||n?.location_text||n?.locationText||"",startDate:n?.startDate||n?.start_date||"",endDate:r?"Present":a,isPresent:r,bullets:u}},td=n=>{const a=n?.raw||{},r=a.base_resume||a.baseResume||{},o=r.Profile||r.profile||{},u=o.contact||r.contact||{},m=r.summary?.text||r.summary?.summary||r.summary||"",f=r.skills?.raw||r.skills?.skills||r.skills||r.skill||[],h=Array.isArray(f)?f.filter(Boolean):typeof f=="string"?f.split(",").map(y=>y.trim()).filter(Boolean):[],x=r.workExperience||r.work_experience||r.workExperience||r.experience||[],p=Array.isArray(x)?x:[];return{name:o.name||r.name||r.full_name||r.fullName||"",location:u.location||r.location||r.location_text||r.locationText||"",email:u.email||r.email||"",phone:u.phone||r.phone||r.phone_number||r.phoneNumber||"",linkedin:u.linkedin||r.linkedin||r.linkedin_url||r.linkedinUrl||"",headline:o.headline||r.headline||"",summary:m,skills:h,experience:p.map(Gy)}},yw=n=>{const a=Array.isArray(n.skills)?n.skills.filter(Boolean):[],o=(Array.isArray(n.experience)?n.experience:[]).map(u=>{const m=typeof u.bullets=="string"?u.bullets.split(`
`).map(f=>f.trim()).filter(f=>f.length>0):Array.isArray(u.bullets)?u.bullets.filter(Boolean):[];return{companyTitle:u.companyName||"",roleTitle:u.roleTitle||"",employmentType:u.employmentType||"",location:u.location||"",startDate:u.startDate||"",endDate:u.isPresent?"Present":u.endDate||"",bullets:m.length?m:[""]}});return{Profile:{name:n.name||"",headline:n.headline||"",contact:{location:n.location||"",email:n.email||"",phone:n.phone||"",linkedin:n.linkedin||""}},summary:{text:n.summary||""},workExperience:o.length?o:[{companyTitle:"",roleTitle:"",employmentType:"",location:"",startDate:"",endDate:"",bullets:[""]}],education:[{institution:"",degree:"",field:"",date:"",coursework:[""]}],skills:{raw:a.length?a:[""]}}},$x=(n,a)=>{if(typeof document>"u")return;const r=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),o=URL.createObjectURL(r),u=document.createElement("a");u.href=o,u.download=n,document.body.appendChild(u),u.click(),u.remove(),URL.revokeObjectURL(o)},bw=({open:n,onClose:a,profile:r,onSaveProfile:o,onSaveBaseInfo:u,onSaveBaseResume:m,onConnectEmail:f,emailConnecting:h=!1})=>{const[x,p]=b.useState("profile"),[y,v]=b.useState({profile:!1,baseInfo:!1,baseResume:!1}),[j,k]=b.useState(null),[T,_]=b.useState(()=>Hx(r)),[H,$]=b.useState(()=>ed(r)),[G,D]=b.useState(()=>td(r)),[S,E]=b.useState("");b.useEffect(()=>{_(Hx(r)),$(ed(r)),D(td(r)),v({profile:!1,baseInfo:!1,baseResume:!1}),p("profile"),E("")},[r]);const U=ne=>{v(me=>me[ne]?me:{...me,[ne]:!0})},L=(ne,me)=>{_(fe=>({...fe,[ne]:me})),U("profile")},V=(ne,me)=>{$(fe=>({...fe,[ne]:me})),U("baseInfo")},J=(ne,me)=>{D(fe=>({...fe,[ne]:me})),U("baseResume")},se=(ne,me,fe)=>{D(Se=>({...Se,experience:Se.experience.map(Ce=>Ce.id===ne?{...Ce,[me]:fe}:Ce)})),U("baseResume")},he=()=>{D(ne=>({...ne,experience:[...ne.experience,Gy({id:`exp-${Date.now()}-${Math.random().toString(16).slice(2)}`,isPresent:!1})]})),U("baseResume")},ce=ne=>{D(me=>({...me,experience:me.experience.filter(fe=>fe.id!==ne)})),U("baseResume")},te=ne=>{const me=ne.trim().replace(/,$/,"");me&&(D(fe=>fe.skills.some(Ce=>Ce.toLowerCase()===me.toLowerCase())?fe:{...fe,skills:[...fe.skills,me]}),E(""),U("baseResume"))},ee=ne=>{D(me=>({...me,skills:me.skills.filter(fe=>fe!==ne)})),U("baseResume")},K=ne=>{(ne.key==="Enter"||ne.key===",")&&(ne.preventDefault(),te(S)),ne.key==="Backspace"&&!S&&G.skills.length&&ee(G.skills[G.skills.length-1])},A=async()=>{if(!(!y[x]||j)){k(x);try{x==="profile"?await o?.(T):x==="baseInfo"?await u?.(H):x==="baseResume"&&await m?.(G),v(ne=>({...ne,[x]:!1}))}finally{k(null)}}},O=T.emailStatus==="connected"?"Connected":"Not Connected",W=T.emailStatus==="expired"?"Reconnect":T.emailStatus==="not_connected"?"Connect":null,re=r?.assignedBidderLabel||gw({name:r?.raw?.assigned_bidder_display_name,username:r?.raw?.assigned_bidder_username,email:r?.raw?.assigned_bidder_email,id:r?.raw?.assigned_bidder_user_id})||"",z=()=>{r?.id&&f?.(r.id)},N=ne=>{const me=ed({raw:{base_info:ne,baseInfo:ne}});$(me),U("baseInfo")},B=()=>{$x(`base-info-${r?.id||"profile"}.json`,H)},ae=ne=>{const me=td({raw:{base_resume:ne,baseResume:ne}});D(me),E(""),U("baseResume")},de=()=>{$x(`base-resume-${r?.id||"profile"}.json`,yw(G))},ye=i.jsx(i.Fragment,{children:i.jsx("aside",{"aria-hidden":!n,style:{right:0,top:0,bottom:0,height:"100vh"},className:`fixed z-50 w-[460px] max-w-[calc(100vw-1rem)] rounded-l-2xl rounded-r-none bg-white shadow-[-12px_0_24px_rgba(15,23,42,0.12)] ring-1 ring-black/5 transition-all duration-300 ease-out ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0 pointer-events-none"}`,children:i.jsx("div",{className:"flex h-full flex-col overflow-hidden",children:i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 z-20 bg-white",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 px-5 py-4 border-b border-border",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-ink",children:"Profile Details"}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Manage profile data and base records."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:A,disabled:!y[x]||!!j,className:"px-3 py-1.5 rounded-lg bg-accent-primary text-white text-sm font-semibold disabled:opacity-60 disabled:cursor-not-allowed",children:j===x?"Saving...":"Save"}),i.jsx("button",{type:"button",onClick:a,className:"p-2 rounded-md text-ink-muted hover:text-ink hover:bg-gray-100","aria-label":"Close",children:i.jsx(Si,{size:18})})]})]}),i.jsx("div",{className:"flex flex-wrap items-center gap-2 px-5 py-3 border-b border-border bg-white",children:pw.map(ne=>{const me=x===ne.id;return i.jsxs("button",{type:"button",role:"tab","aria-selected":me,onClick:()=>p(ne.id),className:`flex items-center gap-1.5 rounded-full px-3 py-1.5 text-sm font-semibold transition-colors ${me?"bg-accent-primary/10 text-accent-primary":"text-ink-muted hover:text-ink hover:bg-gray-100"}`,children:[i.jsx("span",{children:ne.label}),y[ne.id]?i.jsx("span",{className:"inline-block h-1.5 w-1.5 rounded-full bg-amber-500"}):null]},ne.id)})})]}),i.jsxs("div",{className:"px-5 py-5 space-y-6",children:[i.jsx(fw,{visible:x==="profile",profileForm:T,updateProfileForm:L,assignedBidderLabel:re,emailStatusLabel:O,emailActionLabel:W,onConnectEmail:z,emailConnecting:h}),i.jsx(mw,{visible:x==="baseInfo",baseInfoForm:H,updateBaseInfoForm:V,onImportJson:N,onExportJson:B}),i.jsx(hw,{visible:x==="baseResume",resumeForm:G,skillsInput:S,setSkillsInput:E,handleSkillKeyDown:K,removeSkill:ee,addExperience:he,removeExperience:ce,updateExperience:se,updateResumeForm:J,onImportJson:ae,onExportJson:de})]})]})})})});return typeof document>"u"?null:dw.createPortal(ye,document.body)},Yy=n=>Array.isArray(n)?n.map(a=>String(a||"").toLowerCase()):[],vw=n=>Yy(n).includes("admin"),ww=n=>Yy(n).includes("manager"),jw=n=>!n||n==="/"?"/":(n.startsWith("/")?n:`/${n}`).replace(/\/+$/,""),In=(n,a)=>{const r=jw(n);return vw(a)?`/admin${r}`:ww(a)?`/manager${r}`:r},ql=n=>In("/profiles",n),nf=n=>In("/profiles",n),Xy=n=>In("/applications",n),Nw=n=>In("/applications",n),sf=n=>In("/inbox",n),Sw=n=>In("/email",n),Zy=n=>In("/calendar",n),kw=n=>In("/calendar",n),Qy=n=>In("/requests",n),Aw=n=>In("/hire",n),Tw=()=>typeof window<"u"?window.localStorage.getItem(Xe):null,Ew=n=>{const a=Aw(n);return qe?`${qe}${a}`:a},xa=async(n,a={},r)=>{const o=Tw();if(!o)throw new Error("Missing token");const u=await fetch(`${Ew(r)}${n}`,{...a,headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json",...a.headers||{}}});if(u.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!u.ok){const m=await u.text();throw new Error(m||`Request failed (${u.status})`)}return u.status===204?null:u.json()},Ft={async listTalents(n,a){const r=await xa(`/talents?role=${encodeURIComponent(n)}`,{method:"GET"},a?.roles);return Array.isArray(r?.items)?r.items:[]},async listRequests(n){const a=new URLSearchParams;n?.status&&a.set("status",n.status);const r=a.toString(),o=await xa(`/requests${r?`?${r}`:""}`,{method:"GET"},n?.roles);return Array.isArray(o?.items)?o.items:[]},async createRequest(n,a){return xa("/requests",{method:"POST",body:JSON.stringify(n)},a?.roles)},async updateRequest(n,a,r){return xa(`/requests/${n}`,{method:"PATCH",body:JSON.stringify(a)},r?.roles)},async deleteRequest(n,a){return xa(`/requests/${n}`,{method:"DELETE"},a?.roles)},async createTalent(n,a){return xa("/talents",{method:"POST",body:JSON.stringify(n)},a?.roles)},async searchUsers(n,a){const r=encodeURIComponent(n),o=await xa(`/users?q=${r}`,{method:"GET"},a?.roles);return Array.isArray(o?.items)?o.items:[]}},Cw=n=>n?.display_name||n?.name||n?.username||n?.email||n?.id||"Unknown",_w=n=>{if(n==null||n==="")return"-";const a=Number(n);return Number.isNaN(a)?String(n):`$${a.toFixed(2)}`},nd=n=>n?.user_id??n?.userId??n?.id??"",af=({open:n,title:a,roleLabel:r,rateLabel:o="Rate",submitLabel:u="Send request",submittingLabel:m="Sending...",people:f=[],loading:h=!1,submitting:x=!1,requireAssignee:p=!0,showAssignee:y=!0,showWhen:v=!0,showDetail:j=!0,showJobUrl:k=!1,showMeetingUrl:T=!1,showOtherNotes:_=!1,initialDetail:H="",initialWhen:$="",initialAssigneeId:G="",initialJobUrl:D="",initialMeetingUrl:S="",initialOtherNotes:E="",error:U="",onClose:L,onSubmit:V})=>{const[J,se]=b.useState(G),[he,ce]=b.useState($),[te,ee]=b.useState(H),[K,A]=b.useState(D),[O,W]=b.useState(S),[re,z]=b.useState(E);b.useEffect(()=>{n&&(se(G||""),ce($||""),ee(H||""),A(D||""),W(S||""),z(E||""))},[n,G,H,$,D,S,E]);const N=f.find(ne=>String(nd(ne))===String(J)),B=N?.rate??N?.hourly_rate??N?.hourlyRate??null,ae=()=>{p&&y&&!J||k&&!K||T&&!O||V?.({assigneeId:J||null,hourlyRate:B,whenAt:v&&he||null,detail:te||"",jobUrl:K||"",meetingUrl:O||"",otherNotes:re||""})},de=p&&y&&!J||k&&!K||T&&!O,ye=i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:L,className:"rounded-lg border border-border px-3 py-2 text-sm font-semibold text-ink-muted hover:text-ink",children:"Cancel"}),i.jsx("button",{type:"button",onClick:ae,disabled:x||de,className:"rounded-lg bg-accent-primary px-3 py-2 text-sm font-semibold text-white disabled:opacity-60 disabled:cursor-not-allowed",children:x?m:u})]});return i.jsx(tf,{open:n,onClose:L,title:a,footer:ye,children:i.jsxs("div",{className:"space-y-4",children:[y?i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"text-sm font-medium text-ink",children:["Who (",r,")"]}),i.jsxs("select",{className:"w-full rounded-lg border border-border px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:J,onChange:ne=>se(ne.target.value),disabled:h||x,children:[i.jsx("option",{value:"",children:h?"Loading...":`Select ${r.toLowerCase()}`}),f.map(ne=>i.jsx("option",{value:nd(ne),children:Cw(ne)},ne.id??nd(ne)))]})]}):null,i.jsxs("div",{className:`grid grid-cols-1 gap-3 ${v?"md:grid-cols-2":""}`,children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:o}),i.jsx("div",{className:"w-full rounded-lg border border-border bg-gray-50 px-3 py-2 text-sm text-ink",children:_w(B)})]}),v?i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"When"}),i.jsx("input",{type:"datetime-local",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:he,onChange:ne=>ce(ne.target.value)})]}):null]}),j?i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Detail"}),i.jsx("textarea",{rows:3,className:"w-full resize-none rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:te,onChange:ne=>ee(ne.target.value),placeholder:"Add detail for this request"})]}):null,k?i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Job URL"}),i.jsx("input",{type:"url",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:K,onChange:ne=>A(ne.target.value),placeholder:"https://...",required:!0})]}):null,T?i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Meeting URL"}),i.jsx("input",{type:"url",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:O,onChange:ne=>W(ne.target.value),placeholder:"https://...",required:!0})]}):null,_?i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-sm font-medium text-ink",children:"Other"}),i.jsx("textarea",{rows:3,className:"w-full resize-none rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/40",value:re,onChange:ne=>z(ne.target.value),placeholder:"Add anything to focus or prepare"})]}):null,U?i.jsx("p",{className:"text-sm text-red-600",children:U}):null]})})},sd=({profileMode:n="user"})=>{const{user:a}=Wt(),r=Array.isArray(a?.roles)?a.roles:void 0,o=r||[],u=sf(o),m=o.includes("admin")||o.includes("manager"),f=n==="admin"?"/admin/profiles":n==="manager"?"/manager/profiles":"/profiles",{profiles:h,loading:x,error:p,createProfile:y,updateProfile:v,deleteProfile:j,fetchProfile:k,startOutlookConnect:T,refreshProfiles:_,assignBidder:H}=ef({endpointPath:f}),{templates:$,loading:G,error:D}=iw(),[S,E]=b.useState(!1),[U,L]=b.useState(!1),[V,J]=b.useState(null),[se,he]=b.useState(null),[ce,te]=b.useState(!1),[ee,K]=b.useState(null),[A,O]=b.useState(""),[W,re]=b.useState("success"),[z,N]=b.useState(!1),[B,ae]=b.useState(!1),[de,ye]=b.useState(null),[ne,me]=b.useState("assign"),[fe,Se]=b.useState(""),[Ce,ze]=b.useState(!1),[Oe,P]=b.useState(""),[le,ge]=b.useState(!1),[Ae,we]=b.useState(null),[it,ot]=b.useState([]),[vt,tn]=b.useState(!1),[Ut,Xt]=b.useState(!1),[mt,Ot]=b.useState("");b.useEffect(()=>{const be=async Me=>{if(Me.origin!==Ro)return;const Ue=Me.data||{};if(Ue.type==="email_connected"&&Ue.profileId)try{const Vt=await k(Ue.profileId);ee?.id===Ue.profileId&&Vt&&K(Vt),await _(),re("success"),O("Email connected successfully.")}catch(Vt){re("error"),O(Vt?.message||"Email connected, but failed to refresh profile.")}Ue.type==="email_connect_error"&&(re("error"),O(Ue.message||"Email connection failed."))};return window.addEventListener("message",be),()=>window.removeEventListener("message",be)},[ee,k,_]);const Ne=be=>{if(m){we(be),Ot(""),ge(!0);return}ye(be);const Me=!!be?.assignedBidderId;me(Me?"reassign":"assign"),Se(""),P(""),ae(!0)};b.useEffect(()=>{if(!le)return;(async()=>{try{tn(!0),Ot("");const Me=await Ft.listTalents("bidder",{roles:r});ot(Me)}catch(Me){Ot(Me?.message||"Unable to load bidders.")}finally{tn(!1)}})()},[le,r]);const $e=()=>{Ce||(ae(!1),ye(null),Se(""),me("assign"),P(""))},Ge=()=>{Ut||(ge(!1),we(null),Ot(""))},We=async()=>{if(de)try{ze(!0),P("");const be=!!de?.assignedBidderId;if((ne==="unassign"||ne==="reassign")&&!be){P("This profile is not assigned yet.");return}await Ft.createRequest({role:"bidder",detail:{profile_id:de.id,profile_name:de.name,action:ne,note:fe||""}},{roles:r}),re("success"),O("Bidder request sent."),ae(!1),ye(null)}catch(be){const Me="Unable to send request.";P(be?.message||Me),re("error"),O(be?.message||Me)}finally{ze(!1)}},yt=be=>be?.user_id??be?.userId??be?.id??"",Et=async({assigneeId:be})=>{if(!Ae?.id||!be)return;const Me=it.find(nn=>String(yt(nn))===String(be)),Ue=Me?.name||Me?.display_name||Me?.username||Me?.email||"this bidder";if(window.confirm(`Assign ${Ue} to "${Ae.name}"?`))try{Xt(!0),Ot(""),await H(Ae.id,be),re("success"),O("Bidder assigned."),ge(!1),we(null)}catch(nn){Ot(nn?.message||"Unable to assign bidder.")}finally{Xt(!1)}},F=async be=>{try{O(""),await y({name:be.name,description:be.description,resume_template_id:be.templateId}),re("success"),O("Profile created successfully.")}catch(Me){throw re("error"),O(Me?.message||"Unable to create profile."),Me}},ve=async be=>{if(be)try{O(""),N(!0);const Me=await T(be);if(!Me)return;const Ue=600,Vt=720,nn=window.screenX+Math.max(0,(window.outerWidth-Ue)/2),ws=window.screenY+Math.max(0,(window.outerHeight-Vt)/2);if(!window.open(Me,"outlook-connect",`width=${Ue},height=${Vt},left=${nn},top=${ws}`))throw new Error("Popup blocked. Please allow popups and try again.")}catch(Me){re("error"),O(Me?.message||"Unable to start email connection.")}finally{N(!1)}},je=be=>{if(typeof window>"u")return;const Me=new URLSearchParams;be?.raw?.email_account_id?Me.set("account_id",be.raw.email_account_id):be?.id&&Me.set("profile_id",be.id);const Ue=Me.toString();window.history.pushState({},"",`${u}${Ue?`?${Ue}`:""}`),window.dispatchEvent(new PopStateEvent("popstate"))},ke=()=>{typeof window>"u"||(window.history.pushState({},"","/resume-templates"),window.dispatchEvent(new PopStateEvent("popstate")))};return i.jsxs("main",{className:"bg-main min-h-[calc(100vh-64px)] border-t border-border px-8 py-8",children:[i.jsxs("div",{className:"mx-auto flex max-w-[1440px] flex-col gap-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-ink",children:"Profiles"}),i.jsx("p",{className:"text-sm text-ink-muted",children:"Control & overview of profile activity."})]}),i.jsx("button",{className:"px-4 py-2 rounded-lg bg-accent-primary text-white text-sm font-semibold",onClick:()=>E(!0),children:"Create Profile"})]}),i.jsx(ow,{profiles:h,loading:x,error:p,onTemplateClick:(be,Me)=>{J(be),he(Me),L(!0)},onEmailOpen:je,onDelete:async be=>{if(!(!be?.id||!window.confirm(`Delete profile "${be.name}"?`)))try{await j(be.id),ee?.id===be.id&&(te(!1),K(null)),re("success"),O("Profile deleted.")}catch(Ue){re("error"),O(Ue?.message||"Unable to delete profile.")}},onOpen:be=>{K(be),te(!0)},onBidderRequest:Ne,onTemplatesOpen:ke,allowBidderAssign:m,showOwner:m}),A?i.jsx("div",{className:`text-sm px-4 py-3 rounded-lg border ${W==="success"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:A}):null]}),i.jsx(cw,{open:S,onClose:()=>E(!1),onCreate:F,templates:$,templatesLoading:G,templatesError:D}),i.jsx(uw,{open:U,onClose:()=>L(!1),templates:$,loading:G,error:D,profile:V,anchor:se,onConfirm:async be=>{V&&(await v(V.id,{resume_template_id:be.id}),re("success"),O(`Template updated to ${be.title}.`))}}),i.jsx(tf,{open:B,onClose:$e,title:"Bidder request",footer:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:$e,className:"rounded-xl border border-border px-4 py-2 text-sm font-semibold text-ink",disabled:Ce,children:"Cancel"}),i.jsx("button",{type:"button",onClick:We,disabled:Ce,className:"rounded-xl bg-accent-primary px-4 py-2 text-sm font-semibold text-white disabled:opacity-60",children:Ce?"Sending...":"Send request"})]}),children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"rounded-xl border border-border bg-gray-50 px-4 py-3 text-sm",children:[i.jsx("div",{className:"text-xs uppercase tracking-wide text-ink-muted",children:"Profile"}),i.jsx("div",{className:"mt-1 font-semibold text-ink",children:de?.name||"-"}),i.jsx("div",{className:"mt-3 text-xs uppercase tracking-wide text-ink-muted",children:"Current bidder"}),i.jsx("div",{className:"mt-1 text-sm text-ink",children:de?.assignedBidderLabel||"Unassigned"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold text-ink",children:"Action"}),i.jsx("div",{className:"grid gap-2",children:de?.assignedBidderId?i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",onClick:()=>me("reassign"),className:`w-full rounded-xl border px-4 py-3 text-left text-sm font-semibold transition-colors ${ne==="reassign"?"border-accent-primary bg-accent-primary/10 text-accent-primary":"border-border text-ink hover:bg-gray-50"}`,children:["Reassign bidder",i.jsx("span",{className:"mt-1 block text-xs font-normal text-ink-muted",children:"Request a new bidder for this profile."})]}),i.jsxs("button",{type:"button",onClick:()=>me("unassign"),className:`w-full rounded-xl border px-4 py-3 text-left text-sm font-semibold transition-colors ${ne==="unassign"?"border-accent-primary bg-accent-primary/10 text-accent-primary":"border-border text-ink hover:bg-gray-50"}`,children:["Unassign bidder",i.jsx("span",{className:"mt-1 block text-xs font-normal text-ink-muted",children:"Remove the current bidder from this profile."})]})]}):i.jsxs("button",{type:"button",onClick:()=>me("assign"),className:`w-full rounded-xl border px-4 py-3 text-left text-sm font-semibold transition-colors ${ne==="assign"?"border-accent-primary bg-accent-primary/10 text-accent-primary":"border-border text-ink hover:bg-gray-50"}`,children:["Assign bidder",i.jsx("span",{className:"mt-1 block text-xs font-normal text-ink-muted",children:"Ask a manager to assign a bidder."})]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold text-ink",children:"Note (optional)"}),i.jsx("textarea",{className:"h-24 w-full resize-none rounded-xl border border-border px-3 py-2 text-sm text-ink",value:fe,onChange:be=>Se(be.target.value),placeholder:"Add any context for the manager..."})]}),Oe?i.jsx("p",{className:"text-sm text-red-600",children:Oe}):null]})}),le?i.jsx(af,{open:le,title:`Assign bidder to ${Ae?.name||"profile"}`,roleLabel:"Bidder",rateLabel:"Rate per application",showWhen:!1,showDetail:!1,people:it,loading:vt,submitting:Ut,initialAssigneeId:Ae?.assignedBidderId||"",error:mt,onClose:Ge,onSubmit:Et,submitLabel:"Assign bidder",submittingLabel:"Assigning..."}):null,i.jsx(bw,{open:ce,profile:ee,onClose:()=>te(!1),onSaveProfile:async be=>{if(!ee)return;const Me=await v(ee.id,{name:be.name,description:be.description});K(Me),re("success"),O("Profile details saved.")},onSaveBaseInfo:async be=>{if(!ee)return;const Me=await v(ee.id,{base_info:be});K(Me),re("success"),O("Base info saved.")},onSaveBaseResume:async be=>{if(!ee)return;const Me=await v(ee.id,{base_resume:be});K(Me),re("success"),O("Base resume saved.")},onConnectEmail:ve,emailConnecting:z})]})},Mw=()=>{const{user:n}=Wt(),a=Array.isArray(n?.roles)?n.roles:[],r=a.includes("admin"),o=a.includes("admin")||a.includes("manager"),u=a.some(v=>v==="admin"||v==="manager"||v==="worker"),m=ql(a),f=Xy(a),h=sf(a),x=Zy(a),p=Qy(a);return b.useMemo(()=>[{label:"Dashboard",icon:N2,href:"/dashboard"},{label:"Profiles",icon:$2,href:m},{label:"Applications",icon:kd,href:f},{label:"Resume Generator",icon:zy,href:"/resume-generator"},...o?[{label:"Resume Templates",icon:Ry,href:"/resume-templates"}]:[],{label:"Inbox",icon:Ad,href:h},{label:"Calendar",icon:No,href:x},...u?[{label:"Support",icon:C2,href:"/chat"}]:[],{label:"Requests",icon:Dy,href:p},{label:"Hire Talents",icon:Ul,href:"/hire-talents"},...r?[{label:"Admin",icon:Vy,href:"/admin"}]:[],{label:"VIP Services",icon:h2}],[f,x,h,r,u,o,m,p])},Dw=({icon:n,label:a,active:r,expanded:o,href:u,currentRoute:m,onNavigate:f})=>{const h="relative w-full h-11 rounded-xl text-[15px] font-medium transition duration-150 ease-out hover:bg-white/5",p=r??(u?u==="/"?m==="/":m===u||m.startsWith(`${u}/`):!1)?"bg-white/10 text-sidebar-text":"text-sidebar-muted",y=()=>{u&&f&&f(u)};return i.jsx("button",{type:"button",onClick:y,className:[h,p].join(" "),children:i.jsxs("div",{className:`flex items-center h-full ${o?"justify-start gap-3 px-4":"justify-center px-0"}`,children:[i.jsx(n,{size:18,strokeWidth:1.7}),i.jsx("span",{className:`text-left whitespace-nowrap overflow-hidden transition-all duration-150 ${o?"opacity-100 max-w-[160px] visible":"opacity-0 max-w-0 invisible"}`,children:a})]})})},Rw=72,zw=240,Uw=({expanded:n,onExpand:a,onCollapse:r,currentRoute:o,onNavigate:u})=>{const m=Mw(),f=n?zw:Rw;return i.jsx("aside",{onMouseEnter:a,onMouseLeave:r,className:"relative min-h-screen bg-sidebar-bg text-sidebar-text px-3.5 pt-6 pb-5 transition-[width] duration-200 ease-out overflow-hidden",style:{width:f},children:i.jsx("div",{className:"flex flex-col gap-3",children:m.map(h=>i.jsx(Dw,{expanded:n,currentRoute:o,onNavigate:u,...h},h.label))})})},Ow=()=>{const n=["Profiles with synced email","Apply Assist + tailored resumes","Hire employees & callers with credits"];return i.jsxs("aside",{className:"w-[520px] min-h-screen bg-sidebar-bg text-sidebar-text px-12 py-14 flex flex-col gap-10",children:[i.jsx("div",{className:"inline-flex items-center gap-3 px-4 py-2 rounded-xl bg-[#11182759] text-sm font-semibold",children:"JobDesk365"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-3xl font-extrabold leading-tight",children:"Apply smarter."}),i.jsx("h1",{className:"text-3xl font-extrabold leading-tight",children:"Hire help when needed."})]}),i.jsx("ul",{className:"space-y-3 text-[15px] text-sidebar-text",children:n.map(a=>i.jsxs("li",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-primary"}),i.jsx("span",{children:a})]},a))})]})},qx=({title:n,subtitle:a,children:r,footer:o})=>i.jsxs("div",{className:"w-[460px] rounded-2xl border border-border bg-white px-10 py-10 shadow-sm",children:[i.jsxs("div",{className:"space-y-1 mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-ink",children:n}),a?i.jsx("p",{className:"text-sm text-ink-muted",children:a}):null]}),i.jsx("div",{className:"space-y-4",children:r}),o?i.jsx("div",{className:"mt-6 text-sm text-ink-muted",children:o}):null]}),di=({label:n,type:a="text",placeholder:r,value:o,onChange:u,error:m})=>i.jsxs("label",{className:"flex flex-col gap-2 text-sm text-ink",children:[i.jsx("span",{className:"font-semibold",children:n}),i.jsx("input",{type:a,placeholder:r,value:o,onChange:u,className:`h-11 w-full rounded-xl border bg-[#F9FAFB] px-3 text-sm text-ink focus:outline focus:outline-2 focus:outline-accent-primary ${m?"border-red-400 focus:outline-red-400":"border-border"}`}),m?i.jsx("span",{className:"text-[12px] text-red-500",children:m}):null]}),Px=()=>{const[n,a]=b.useState("signin"),[r,o]=b.useState(""),[u,m]=b.useState(""),[f,h]=b.useState(""),[x,p]=b.useState(""),[y,v]=b.useState(!1),[j,k]=b.useState(""),[T,_]=b.useState(""),[H,$]=b.useState(!1),G=n==="signin",D=qe||"",S=()=>{k(""),_("")},E=V=>{V&&(window.localStorage.setItem(Xe,V),window.location.href="/dashboard")},U=async()=>{if(S(),!r||!f){_("Email and password are required.");return}$(!0);try{const V=await fetch(`${D}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:f})});if(!V.ok){const se=await V.text()||"Unable to sign in.";throw new Error(se)}const J=await V.json();E(J.token)}catch(V){_(V.message||"Unable to sign in.")}finally{$(!1)}},L=()=>{if(S(),!/^[a-z0-9]+$/.test(u)){k("Lowercase letters and numbers only.");return}if(!r||!f||!x){_("All fields are required.");return}if(f!==x){_("Passwords do not match.");return}if(!y){_("Please accept Terms and Privacy Policy.");return}(async()=>{$(!0);try{const se=await fetch(`${D}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,username:u,password:f})});if(!se.ok){const ce=await se.text()||"Unable to create account.";throw new Error(ce)}const he=await se.json();E(he.token)}catch(se){_(se.message||"Unable to create account.")}finally{$(!1)}})()};return i.jsxs("div",{className:"min-h-screen bg-page text-ink grid grid-cols-[520px_1fr]",children:[i.jsx(Ow,{}),i.jsx("div",{className:"flex items-start justify-center pt-16",children:G?i.jsxs(qx,{title:"Sign in",subtitle:"Welcome back  sign in to continue.",footer:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"New here?"}),i.jsx("button",{type:"button",onClick:()=>{S(),a("signup")},className:"text-accent-primary font-semibold",children:"Create an account"})]}),children:[i.jsx(di,{label:"Email",type:"email",placeholder:"you@example.com",value:r,onChange:V=>o(V.target.value),error:T&&!r?"Email is required":""}),i.jsx(di,{label:"Password",type:"password",placeholder:"",value:f,onChange:V=>h(V.target.value),error:T&&!f?"Password is required":""}),i.jsx("div",{className:"flex justify-end text-sm",children:i.jsx("button",{type:"button",className:"text-accent-primary font-semibold",children:"Forgot password?"})}),T?i.jsx("p",{className:"text-sm text-red-500",children:T}):null,i.jsx("button",{className:"w-full h-12 rounded-xl bg-accent-primary text-white font-bold disabled:opacity-60",type:"button",onClick:U,disabled:H,children:"Sign in"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"flex-1 h-px bg-border"}),i.jsx("span",{className:"text-[12px] text-ink-muted",children:"OR"}),i.jsx("span",{className:"flex-1 h-px bg-border"})]}),i.jsx("button",{className:"w-full h-12 rounded-xl border border-border bg-white font-semibold text-ink",children:"Continue with Google"})]}):i.jsxs(qx,{title:"Create account",subtitle:"Start using JobDesk365 in minutes.",footer:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"Already have an account?"}),i.jsx("button",{type:"button",onClick:()=>{S(),a("signin")},className:"text-accent-primary font-semibold",children:"Sign in"})]}),children:[i.jsx(di,{label:"Email",type:"email",placeholder:"you@example.com",value:r,onChange:V=>o(V.target.value)}),i.jsx(di,{label:"Username",placeholder:"yourname",value:u,onChange:V=>m(V.target.value),error:j}),i.jsx(di,{label:"Password",type:"password",placeholder:"",value:f,onChange:V=>h(V.target.value)}),i.jsx(di,{label:"Confirm password",type:"password",placeholder:"",value:x,onChange:V=>p(V.target.value)}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-ink-muted",children:[i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-border",checked:y,onChange:V=>v(V.target.checked)}),"I agree to the Terms and Privacy Policy"]}),T?i.jsx("p",{className:"text-sm text-red-500",children:T}):null,i.jsx("button",{className:"w-full h-12 rounded-xl bg-accent-primary text-white font-bold disabled:opacity-60",type:"button",onClick:L,disabled:H,children:"Create account"})]})})]})},fi="text-sm font-semibold text-ink",mi="h-11 w-full rounded-xl border border-border bg-[#F9FAFB] px-3 text-sm text-ink focus:outline focus:outline-2 focus:outline-accent-primary",Lw=[{id:"profile",label:"Profile"},{id:"security",label:"Security"},{id:"billing",label:"Billing/Payment"},{id:"plan",label:"Plan"}],Gx={profile:{title:"Your Profile",subtitle:"View or update your information."},security:{title:"Security",subtitle:"Manage password and security preferences."},billing:{title:"Billing & Payment",subtitle:"Manage billing details and payment methods."},plan:{title:"Plan",subtitle:"Review your subscription and plan details."}},dn=320,Bw=220,ga=512,Yx=1,Xx=3,Zx=n=>{if(!n)return"";const a=n.trim();if(!a)return"";if(/^https?:\/\//i.test(a))return a;const r=Ro||(typeof window<"u"?window.location.origin:"");return r?a.startsWith("/")?`${r}${a}`:`${r}/${a}`:a.startsWith("/")?a:`/${a}`},Vw={name:"",email:"",role:"",location:"",bio:"",phone:""},Hw=()=>{const{user:n,updateUser:a,loading:r,error:o,saving:u}=Wt(),[m,f]=b.useState(Vw),[h,x]=b.useState(!1),[p,y]=b.useState("profile"),[v,j]=b.useState(!1),[k,T]=b.useState(""),[_,H]=b.useState(""),[$,G]=b.useState(!1),[D,S]=b.useState(null),[E,U]=b.useState(""),[L,V]=b.useState(1),[J,se]=b.useState({x:dn/2,y:dn/2}),[he,ce]=b.useState({width:0,height:0}),[te,ee]=b.useState(""),[K,A]=b.useState(""),[O,W]=b.useState(""),[re,z]=b.useState(""),[N,B]=b.useState(""),[ae,de]=b.useState(!1);b.useEffect(()=>{if(!n)return;const Ne=n.display_name||n.name||n.username||(n.email?n.email.split("@")[0]:"User");f({name:n.name||Ne,email:n.email||"",role:n.role||n.plan||"",location:n.location||"",bio:n.bio||"",phone:n.phone||""})},[n]);const ye=n?.photo_link||"";b.useEffect(()=>{H(Zx(ye))},[ye]),b.useEffect(()=>{if(!E)return;const Ne=new Image;Ne.onload=()=>{ce({width:Ne.naturalWidth,height:Ne.naturalHeight})},Ne.src=E},[E]),b.useEffect(()=>{if(E)return()=>{URL.revokeObjectURL(E)}},[E]);const ne=()=>!he.width||!he.height?1:Math.min(dn/he.width,dn/he.height),me=()=>Bw/L,fe=()=>{if(!he.width||!he.height)return{scale:1,width:0,height:0,left:0,top:0};const Ne=ne(),$e=he.width*Ne,Ge=he.height*Ne,We=(dn-$e)/2,yt=(dn-Ge)/2;return{scale:Ne,width:$e,height:Ge,left:We,top:yt}},Se=Ne=>{if(!he.width||!he.height)return Ne;const $e=fe(),Ge=me()/2,We=$e.left+Ge,yt=$e.left+$e.width-Ge,Et=$e.top+Ge,F=$e.top+$e.height-Ge,ve=(je,ke,be)=>ke>be?(ke+be)/2:Math.max(ke,Math.min(be,je));return{x:ve(Ne.x,We,yt),y:ve(Ne.y,Et,F)}};if(b.useEffect(()=>{se(Ne=>Se(Ne))},[L,he.width,he.height]),r)return i.jsx("main",{className:"bg-main min-h-[calc(100vh-64px)] border-t border-border px-8 py-8 grid place-items-center",children:i.jsx("p",{className:"text-ink-muted",children:"Loading your profile..."})});if(o)return i.jsx("main",{className:"bg-main min-h-[calc(100vh-64px)] border-t border-border px-8 py-8 grid place-items-center",children:i.jsx("p",{className:"text-red-500",children:o})});if(!n)return null;const Ce=n.display_name||n.name||n.username||(n.email?n.email.split("@")[0]:"User"),ze=n?.balance??null,Oe=ze==null||Number.isNaN(Number(ze))?null:Number(ze),P=Oe===null?"--":`$${Oe.toFixed(2)}`;n.plan,n.email;const le=Ne=>$e=>{f(Ge=>({...Ge,[Ne]:$e.target.value}))},ge=()=>{p==="profile"&&(a({display_name:m.name,bio:m.bio}),x(!0),window.setTimeout(()=>x(!1),2e3))},Ae=async()=>{if(z(""),B(""),!te||!K||!O){z("Please fill in all password fields.");return}if(K!==O){z("Passwords do not match.");return}if(K.length<8){z("Password must be at least 8 characters.");return}const Ne=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!Ne){z("Missing token.");return}de(!0);try{const $e=qe?`${qe}/auth/password`:"/auth/password",Ge=await fetch($e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`},body:JSON.stringify({old_password:te,new_password:K})});if(Ge.status===401){window.location.href="/auth";return}if(!Ge.ok){const We=await Ge.text()||"Unable to change password.";throw new Error(We)}B("Password updated."),ee(""),A(""),W("")}catch($e){z($e.message||"Unable to change password.")}finally{de(!1)}},we=Ne=>{const $e=URL.createObjectURL(Ne);S(Ne),U($e),V(1),se({x:dn/2,y:dn/2}),T(""),G(!0)},it=()=>{G(!1),S(null),U(""),V(1),se({x:dn/2,y:dn/2}),ce({width:0,height:0})},ot=Ne=>"touches"in Ne&&Ne.touches[0]?{x:Ne.touches[0].clientX,y:Ne.touches[0].clientY}:{x:Ne.clientX,y:Ne.clientY},vt=Ne=>{Ne.preventDefault();const $e=ot(Ne),Ge=J,We=Et=>{Et.preventDefault();const F=ot(Et),ve={x:Ge.x+(F.x-$e.x),y:Ge.y+(F.y-$e.y)};se(Se(ve))},yt=()=>{window.removeEventListener("mousemove",We),window.removeEventListener("mouseup",yt),window.removeEventListener("touchmove",We),window.removeEventListener("touchend",yt)};window.addEventListener("mousemove",We),window.addEventListener("mouseup",yt),window.addEventListener("touchmove",We,{passive:!1}),window.addEventListener("touchend",yt)},tn=async()=>{if(!E||!he.width||!he.height)throw new Error("Image not ready.");const Ne=new Image;Ne.src=E,await Ne.decode();const $e=document.createElement("canvas");$e.width=ga,$e.height=ga;const Ge=$e.getContext("2d");if(!Ge)throw new Error("Canvas not supported.");const We=fe(),yt=me()/2,Et=(J.x-yt-We.left)/We.scale,F=(J.y-yt-We.top)/We.scale,ve=me()/We.scale;return Ge.save(),Ge.beginPath(),Ge.arc(ga/2,ga/2,ga/2,0,Math.PI*2),Ge.closePath(),Ge.clip(),Ge.drawImage(Ne,Et,F,ve,ve,0,0,ga,ga),Ge.restore(),new Promise((je,ke)=>{$e.toBlob(be=>{be?je(be):ke(new Error("Unable to crop image."))},"image/png",.92)})},Ut=async()=>{if(!D)return;const Ne=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!Ne){T("Missing token.");return}j(!0);try{const $e=await tn(),Ge=`avatar-${Date.now()}.png`,We=new FormData;We.append("avatar",new File([$e],Ge,{type:"image/png"}));const yt=qe?`${qe}/auth/me/avatar`:"/auth/me/avatar",Et=await fetch(yt,{method:"POST",headers:{Authorization:`Bearer ${Ne}`},body:We});if(Et.status===401){window.location.href="/auth";return}if(!Et.ok){const ke=await Et.text()||"Upload failed.";throw new Error(ke)}const F=await Et.json(),ve=F?.photo_link||F?.url||"";if(!ve)throw new Error("Upload failed.");const je=await a({photo_link:ve});H(Zx(ve)),it(),je||T("Avatar uploaded, but profile sync is delayed. Refresh the page if needed.")}catch($e){T($e.message||"Unable to upload avatar.")}finally{j(!1)}},Xt=async Ne=>{const $e=Ne.target.files?.[0];if($e){if(T(""),!$e.type.startsWith("image/")){T("Please select an image file."),Ne.target.value="";return}if($e.size>5*1024*1024){T("Please upload an image smaller than 5MB."),Ne.target.value="";return}we($e),Ne.target.value=""}},mt=Gx[p]||Gx.profile,Ot=Ne=>{Ne.preventDefault();const $e=-Ne.deltaY,We=Math.max(Yx,Math.min(Xx,L+$e*.002));V(We)};return i.jsxs("main",{className:"bg-main min-h-[calc(100vh-64px)] border-t border-border px-8 py-8",children:[i.jsxs("div",{className:"max-w-[1440px] mx-auto grid grid-cols-[220px_1fr] gap-6",children:[i.jsx("aside",{className:"rounded-2xl border border-border bg-white p-4 h-fit",children:i.jsx("div",{className:"space-y-1",children:Lw.map(Ne=>{const $e=p===Ne.id;return i.jsx("button",{type:"button",onClick:()=>y(Ne.id),className:`w-full text-left rounded-xl px-3 py-2 text-sm font-semibold transition-colors ${$e?"bg-accent-primary/10 text-accent-primary":"text-ink-muted hover:text-ink hover:bg-gray-100"}`,children:Ne.label},Ne.id)})})}),i.jsxs("section",{className:"flex flex-col gap-6",children:[i.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[_?i.jsx("div",{className:"w-[72px] h-[72px] rounded-full overflow-hidden border border-border bg-white",children:i.jsx("img",{src:_,alt:Ce,className:"w-full h-full object-cover object-center",onError:()=>{H(""),T("Avatar image is not accessible.")}})}):i.jsx("div",{className:"w-[72px] h-[72px] rounded-full bg-accent-primary/15 text-accent-primary font-bold text-2xl grid place-items-center",children:Ce?.[0]??"U"}),i.jsxs("label",{className:"absolute -bottom-2 -right-2 cursor-pointer rounded-full bg-white border border-border px-2 py-1 text-[11px] font-semibold text-ink shadow-sm",children:[v?"Uploading...":"Change",i.jsx("input",{type:"file",accept:"image/*",onChange:Xt,className:"hidden",disabled:v})]})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-ink",children:mt.title}),i.jsx("p",{className:"text-sm text-ink-muted",children:mt.subtitle}),k?i.jsx("p",{className:"text-xs text-red-500 mt-1",children:k}):null]})]}),p==="billing"?null:i.jsxs("div",{className:"rounded-2xl border border-border bg-white px-4 py-3",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-ink-muted",children:"Balance"}),i.jsx("p",{className:"mt-1 text-lg font-semibold text-ink",children:P}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Available credits"})]})]}),p==="profile"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:fi,children:"Full name"}),i.jsx("input",{className:mi,value:m.name||"",onChange:le("name")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:fi,children:"Email"}),i.jsx("input",{className:`${mi} bg-gray-50`,value:m.email||"",onChange:le("email"),readOnly:!0})]}),i.jsxs("div",{className:"space-y-2 col-span-2",children:[i.jsx("label",{className:fi,children:"Bio"}),i.jsx("textarea",{className:`${mi} h-24 resize-none`,value:m.bio||"",onChange:le("bio")})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{type:"button",onClick:ge,disabled:u,className:"px-5 h-11 rounded-xl bg-accent-primary text-white font-semibold disabled:opacity-60",children:u?"Saving...":"Save changes"}),h?i.jsx("span",{className:"text-sm text-green-600",children:"Saved"}):null]})]}):p==="security"?i.jsxs("div",{className:"grid gap-6",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-white p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-ink",children:"Change password"}),i.jsx("p",{className:"text-sm text-ink-muted mt-1",children:"Update your password to keep your account secure."}),i.jsxs("div",{className:"mt-6 grid gap-4 max-w-md",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:fi,children:"Old password"}),i.jsx("input",{type:"password",className:mi,value:te,onChange:Ne=>ee(Ne.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:fi,children:"New password"}),i.jsx("input",{type:"password",className:mi,value:K,onChange:Ne=>A(Ne.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:fi,children:"Confirm new password"}),i.jsx("input",{type:"password",className:mi,value:O,onChange:Ne=>W(Ne.target.value)})]}),re?i.jsx("p",{className:"text-sm text-red-500",children:re}):null,N?i.jsx("p",{className:"text-sm text-green-600",children:N}):null,i.jsx("button",{type:"button",onClick:Ae,disabled:ae,className:"px-5 h-11 rounded-xl bg-accent-primary text-white font-semibold disabled:opacity-60",children:ae?"Updating...":"Update password"})]})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-white p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-ink",children:"Last login"}),i.jsxs("div",{className:"mt-4 grid gap-2 text-sm text-ink",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-2",children:[i.jsx("span",{className:"text-ink-muted",children:"Time"}),i.jsx("span",{children:n?.last_login_at?new Date(n.last_login_at).toLocaleString():"Not available"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-ink-muted",children:"Place"}),i.jsx("span",{children:n?.last_login_place||"Not available"})]})]})]})]}):p==="billing"?i.jsxs("div",{className:"rounded-2xl border border-border bg-white p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-ink",children:"Coming Soon."}),i.jsx("p",{className:"mt-3 text-base text-ink-muted",children:"currently plz contact us directly."})]}):i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-sm text-ink-muted",children:mt.subtitle})]})]}),$?i.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 w-[420px] max-w-[90vw]",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-ink",children:"Edit avatar"}),i.jsx("button",{type:"button",onClick:it,className:"text-sm text-ink-muted hover:text-ink",children:"Close"})]}),i.jsxs("div",{className:"mt-5 flex flex-col items-center gap-4",children:[i.jsxs("div",{className:"relative rounded-2xl border border-border bg-[#F7F7F7] overflow-hidden",style:{width:dn,height:dn},onWheel:Ot,children:[E?i.jsx("img",{src:E,alt:"Avatar preview",className:"absolute select-none pointer-events-none",style:{width:he.width?`${he.width*ne()}px`:"auto",height:he.height?`${he.height*ne()}px`:"auto",left:he.width?`${(dn-he.width*ne())/2}px`:"50%",top:he.height?`${(dn-he.height*ne())/2}px`:"50%",transform:he.width?"none":"translate(-50%, -50%)",transformOrigin:"center"},draggable:!1}):null,i.jsx("div",{className:"absolute rounded-full border-2 border-white shadow-[0_0_0_9999px_rgba(0,0,0,0.45)] cursor-grab",style:{width:me(),height:me(),left:J.x-me()/2,top:J.y-me()/2},onMouseDown:vt,onTouchStart:vt})]}),i.jsxs("div",{className:"w-full",children:[i.jsx("label",{className:"text-xs text-ink-muted",children:"Zoom"}),i.jsx("input",{type:"range",min:Yx,max:Xx,step:"0.01",value:L,onChange:Ne=>V(Number(Ne.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{type:"button",onClick:it,className:"px-4 h-10 rounded-xl border border-border text-sm font-semibold",children:"Cancel"}),i.jsx("button",{type:"button",onClick:Ut,disabled:v||!E,className:"px-4 h-10 rounded-xl bg-accent-primary text-white text-sm font-semibold disabled:opacity-60",children:v?"Uploading...":"Save"})]}),i.jsx("p",{className:"text-xs text-ink-muted text-center",children:"Drag the circle to select the area. Scroll or use zoom to resize the circle."})]})]})}):null]})},$w=n=>{if(!n||typeof n!="string")return null;const a=n.split(".");if(a.length!==3)return null;try{const r=a[1].replace(/-/g,"+").replace(/_/g,"/"),o=typeof window<"u"?window.atob(r):globalThis?.Buffer?globalThis.Buffer.from(r,"base64").toString("utf8"):"";return o?JSON.parse(o):null}catch{return null}},Ky=n=>{const a=$w(n);if(!a)return!1;if(a.exp&&Number.isFinite(a.exp)){const r=Math.floor(Date.now()/1e3);if(a.exp<r)return!1}return!0},qw=()=>{const[n,a]=b.useState(!1),[r,o]=b.useState(!1);return b.useEffect(()=>{const u=typeof window<"u"?window.localStorage.getItem(Xe):null,m=Ky(u);if(o(m),a(!0),!m&&typeof window<"u"){const f=window.location.pathname||"/";f==="/"||f.startsWith("/landing")||f.startsWith("/auth")||(window.location.href="/auth")}},[]),{isAuthed:r,authChecked:n}},Qx={Draft:"bg-gray-100 text-ink-muted",Applied:"bg-accent-primary/10 text-accent-primary",Applying:"bg-accent-primary/10 text-accent-primary",Interview:"bg-green-50 text-green-600",Interviewing:"bg-green-50 text-green-600",Offer:"bg-amber-50 text-amber-700",Closed:"bg-gray-100 text-ink-muted",Idle:"bg-gray-100 text-ink-muted"},Pw={Draft:"bg-gray-400/70",Applied:"bg-accent-primary",Applying:"bg-accent-primary",Interview:"bg-green-500",Interviewing:"bg-green-500",Offer:"bg-amber-500",Closed:"bg-gray-300",Idle:"bg-gray-300"},co=n=>{const a=String(n||"").toLowerCase();return a?a==="applying"?"Applying":a==="applied"?"Applied":a==="interview"?"Interview":a==="interviewing"?"Interviewing":a==="offer"?"Offer":a==="closed"?"Closed":a==="idle"?"Idle":a.charAt(0).toUpperCase()+a.slice(1):"Draft"},Kx=n=>{if(!n)return"-";const a=new Date(n);return Number.isNaN(a.getTime())?String(n):a.toLocaleString([],{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},ad=n=>{const a=n?.raw||{},r=a.updated_at||a.created_at||null,o=r?new Date(r):null;return!o||Number.isNaN(o.getTime())?null:o},Jx=n=>{const a=n?.raw||{},r=a.next_interview||a.nextInterview||a.base_info?.next_interview||null,o=r?new Date(r):null;return!o||Number.isNaN(o.getTime())?null:o},Xs=(n,{duration:a=900,enabled:r=!0}={})=>{const[o,u]=b.useState(n),m=b.useRef(0),f=b.useRef(n);return b.useEffect(()=>{if(!r){f.current=n,u(n);return}const h=f.current,x=n-h;if(x===0)return;const p=performance.now(),y=v=>{const j=Math.min((v-p)/a,1),k=1-Math.pow(1-j,3),T=h+x*k;f.current=T,u(T),j<1&&(m.current=requestAnimationFrame(y))};return m.current=requestAnimationFrame(y),()=>cancelAnimationFrame(m.current)},[n,a,r]),Math.round(o)},Fx=()=>{const{user:n}=Wt(),a=Array.isArray(n?.roles)?n.roles:[],r=nf(a),{profiles:o,loading:u,error:m,refreshProfiles:f}=ef({endpointPath:r}),h=b.useMemo(()=>{const D=Array.isArray(o)?o:[],S=D.length,E={};let U=0,L=0,V=0,J=0,se=0;const he=new Date,ce=new Date(he.getTime()+10080*60*1e3);D.forEach(z=>{const N=co(z?.status);E[N]=(E[N]||0)+1,String(N||"").toLowerCase()!=="closed"&&(U+=1);const ae=Jx(z);ae&&ae>=he&&ae<=ce&&(L+=1);const de=Number(z?.unreadCount||0);V+=Number.isNaN(de)?0:de,z?.assignedBidderId&&(J+=1),z?.emailConnected&&(se+=1)});const te=Math.max(S-J,0),ee=S?Math.round(J/S*100):0,K=["Draft","Applying","Applied","Interviewing","Interview","Offer","Closed","Idle"],A=[...K.filter(z=>E[z]),...Object.keys(E).filter(z=>!K.includes(z))].map(z=>{const N=E[z]||0,B=S?Math.round(N/S*100):0;return{status:z,count:N,percent:B}}),O=[...D].sort((z,N)=>{const B=ad(z),ae=ad(N);return!B&&!ae?0:B?ae?ae.getTime()-B.getTime():-1:1}).slice(0,6),W=[...D].map(z=>({profile:z,date:Jx(z)})).filter(z=>z.date).sort((z,N)=>z.date.getTime()-N.date.getTime()).slice(0,5),re=[...D].filter(z=>{const N=Number(z?.unreadCount||0),B=co(z?.status).toLowerCase();return!z?.assignedBidderId||N>0||B==="draft"}).sort((z,N)=>{const B=Number(z?.unreadCount||0),ae=Number(N?.unreadCount||0);if(B!==ae)return ae-B;const de=z?.assignedBidderId?1:0,ye=N?.assignedBidderId?1:0;return de-ye}).slice(0,6);return{total:S,activeCount:U,interviewCount:L,unreadTotal:V,assignedCount:J,unassignedCount:te,connectedCount:se,coverage:ee,statusItems:A,recentProjects:O,upcomingInterviews:W,attentionList:re}},[o]),x=h.attentionList.length,p=u?"Gathering activity across your projects...":x>0?`${x} project${x===1?"":"s"} need attention today.`:"Everything looks calm across projects.",y=!u,v=Xs(u?0:h.total,{enabled:y}),j=Xs(u?0:h.activeCount,{enabled:y}),k=Xs(u?0:h.unreadTotal,{enabled:y}),T=Xs(u?0:h.interviewCount,{enabled:y}),_=Xs(u?0:h.unassignedCount,{enabled:y}),H=Xs(u?0:h.assignedCount,{enabled:y}),$=Xs(u?0:h.connectedCount,{enabled:y}),G=Xs(u?0:h.coverage,{enabled:y});return i.jsxs("main",{className:"relative min-h-[calc(100vh-64px)] overflow-hidden border-t border-border bg-page px-6 py-6",children:[i.jsx("style",{children:`
        @keyframes dashRise {
          from { opacity: 0; transform: translateY(12px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .dash-rise { animation: dashRise 600ms ease-out both; }
        .dash-rise-1 { animation-delay: 80ms; }
        .dash-rise-2 { animation-delay: 160ms; }
        .dash-rise-3 { animation-delay: 240ms; }
      `}),i.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[i.jsx("div",{className:"absolute -top-32 right-[-120px] h-80 w-80 rounded-full bg-gradient-to-br from-sky-200 via-white to-amber-100 opacity-70 blur-3xl"}),i.jsx("div",{className:"absolute bottom-[-140px] left-[-80px] h-72 w-72 rounded-full bg-gradient-to-tr from-emerald-100 via-white to-sky-100 opacity-70 blur-3xl"}),i.jsx("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(15, 23, 42, 0.08) 1px, transparent 0)",backgroundSize:"24px 24px"}})]}),i.jsxs("div",{className:"relative mx-auto flex max-w-[1440px] flex-col gap-6",children:[i.jsxs("header",{className:"grid gap-6 lg:grid-cols-[1.1fr_0.9fr]",children:[i.jsxs("div",{className:"dash-rise dash-rise-1 rounded-3xl border border-border/70 bg-white/90 p-6 shadow-soft backdrop-blur",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-ink-muted",children:"Workspace Pulse"}),i.jsx("h1",{className:"mt-2 text-3xl font-semibold text-ink md:text-4xl",children:"Dashboard"}),i.jsx("p",{className:"mt-2 text-sm text-ink-muted",children:"A clean view of projects, assignments, and interview momentum."})]}),i.jsxs("button",{type:"button",onClick:f,className:"inline-flex items-center gap-2 rounded-full border border-border bg-white/80 px-4 py-2 text-xs font-semibold text-ink-muted shadow-sm transition hover:text-ink",children:[i.jsx(ka,{size:14}),"Refresh"]})]}),i.jsx("div",{className:"mt-5 text-sm text-ink-muted",children:p}),i.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-sky-100 bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-500"}),"Active ",u?"-":j]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-amber-100 bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-500"}),"Unread ",u?"-":k]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-emerald-100 bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Interviews ",u?"-":T]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-semibold text-slate-700",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-400"}),"Unassigned ",u?"-":_]})]}),i.jsxs("div",{className:"mt-6 grid gap-3 sm:grid-cols-3",children:[i.jsxs("div",{className:"rounded-2xl border border-border bg-white/70 px-4 py-3",children:[i.jsx("p",{className:"text-xs text-ink-muted",children:"Total projects"}),i.jsx("p",{className:"text-lg font-semibold text-ink",children:u?"-":v})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-white/70 px-4 py-3",children:[i.jsx("p",{className:"text-xs text-ink-muted",children:"Email connected"}),i.jsx("p",{className:"text-lg font-semibold text-ink",children:u?"-":$})]}),i.jsxs("div",{className:"rounded-2xl border border-border bg-white/70 px-4 py-3",children:[i.jsx("p",{className:"text-xs text-ink-muted",children:"Assignments"}),i.jsx("p",{className:"text-lg font-semibold text-ink",children:u?"-":`${H}/${v}`})]})]})]}),i.jsxs("div",{className:"dash-rise dash-rise-2 rounded-3xl bg-gradient-to-br from-sky-600 via-sky-700 to-emerald-600 p-6 text-white shadow-soft",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] uppercase tracking-[0.25em] text-white/70",children:"Assignment Coverage"}),i.jsx("p",{className:"mt-2 text-4xl font-semibold",children:u?"--":`${G}%`}),i.jsx("p",{className:"text-xs text-white/70",children:u?"--":`${H} assigned / ${_} open`})]}),i.jsxs("div",{className:"relative flex h-20 w-20 items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#ffffff ${G}%, rgba(255,255,255,0.2) 0)`}}),i.jsx("div",{className:"absolute inset-2 rounded-full bg-sky-700/80 backdrop-blur"}),i.jsx("span",{className:"relative text-sm font-semibold",children:u?"--":`${G}%`})]})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-3 text-xs",children:[i.jsxs("div",{className:"rounded-xl bg-white/20 px-3 py-2",children:[i.jsx("p",{className:"text-white/70",children:"Unread"}),i.jsx("p",{className:"text-lg font-semibold",children:u?"-":k})]}),i.jsxs("div",{className:"rounded-xl bg-white/20 px-3 py-2",children:[i.jsx("p",{className:"text-white/70",children:"Interviews"}),i.jsx("p",{className:"text-lg font-semibold",children:u?"-":T})]}),i.jsxs("div",{className:"rounded-xl bg-white/20 px-3 py-2",children:[i.jsx("p",{className:"text-white/70",children:"Active"}),i.jsx("p",{className:"text-lg font-semibold",children:u?"-":j})]})]})]})]}),m?i.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m}):null,i.jsxs("section",{className:"dash-rise dash-rise-3 grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[i.jsx("div",{className:"rounded-2xl border border-border bg-white/90 p-5 shadow-soft",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-ink-muted",children:"Total projects"}),i.jsx("p",{className:"text-2xl font-semibold text-ink",children:u?"-":v}),i.jsx("p",{className:"text-xs text-ink-muted",children:u?"-":`${j} active`})]}),i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-accent-primary/10 text-accent-primary",children:i.jsx(kd,{size:18})})]})}),i.jsx("div",{className:"rounded-2xl border border-border bg-white/90 p-5 shadow-soft",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-ink-muted",children:"Interviews in 7 days"}),i.jsx("p",{className:"text-2xl font-semibold text-ink",children:u?"-":T}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Upcoming schedule"})]}),i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-green-50 text-green-600",children:i.jsx(No,{size:18})})]})}),i.jsx("div",{className:"rounded-2xl border border-border bg-white/90 p-5 shadow-soft",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-ink-muted",children:"Unread inbox"}),i.jsx("p",{className:"text-2xl font-semibold text-ink",children:u?"-":k}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Across all projects"})]}),i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-amber-50 text-amber-600",children:i.jsx(Ad,{size:18})})]})}),i.jsx("div",{className:"rounded-2xl border border-border bg-white/90 p-5 shadow-soft",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-ink-muted",children:"Unassigned projects"}),i.jsx("p",{className:"text-2xl font-semibold text-ink",children:u?"-":_}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Needs coverage"})]}),i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500",children:i.jsx(Ul,{size:18})})]})})]}),i.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-white/90 p-5 shadow-soft",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-ink",children:"Pipeline status"}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Where projects sit today"})]}),i.jsx(Dy,{size:18,className:"text-ink-muted"})]}),i.jsx("div",{className:"mt-4 space-y-3",children:u?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading pipeline..."}):h.statusItems.length===0?i.jsx("div",{className:"text-sm text-ink-muted",children:"No projects yet."}):h.statusItems.map(D=>i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-ink-muted",children:[i.jsx("span",{children:D.status}),i.jsx("span",{children:D.count})]}),i.jsx("div",{className:"h-2 w-full rounded-full bg-gray-100",children:i.jsx("div",{className:`h-2 rounded-full transition-[width] duration-700 ${Pw[D.status]||"bg-gray-300"}`,style:{width:`${D.percent}%`}})})]},D.status))})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-white/90 p-5 shadow-soft",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-ink",children:"Upcoming interviews"}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Next scheduled slots"})]}),i.jsx(No,{size:18,className:"text-ink-muted"})]}),i.jsx("div",{className:"mt-4 space-y-3",children:u?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading interviews..."}):h.upcomingInterviews.length===0?i.jsx("div",{className:"text-sm text-ink-muted",children:"No interviews scheduled."}):h.upcomingInterviews.map(D=>i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:D.profile.name}),i.jsx("p",{className:"text-xs text-ink-muted",children:D.profile.ownerUsername||D.profile.ownerEmail||"Unknown owner"})]}),i.jsx("span",{className:"text-xs text-ink-muted",children:Kx(D.date)})]},D.profile.id))})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-white/90 p-5 shadow-soft",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-ink",children:"Assignment overview"}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Coverage and connectivity"})]}),i.jsx(Ul,{size:18,className:"text-ink-muted"})]}),i.jsxs("div",{className:"mt-4 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-ink-muted",children:[i.jsx("span",{children:"Assigned"}),i.jsx("span",{children:u?"-":`${H} / ${v}`})]}),i.jsx("div",{className:"mt-2 h-2 rounded-full bg-gray-100",children:i.jsx("div",{className:"h-2 rounded-full bg-accent-primary transition-[width] duration-700",style:{width:`${G}%`}})})]}),i.jsxs("div",{className:"grid gap-3 text-sm text-ink",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-ink-muted",children:"Unassigned projects"}),i.jsx("span",{className:"font-semibold",children:u?"-":_})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-ink-muted",children:"Email connected"}),i.jsx("span",{className:"font-semibold",children:u?"-":$})]})]})]})]})]}),i.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-white/90 p-5 shadow-soft",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-ink",children:"Recent projects"}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Latest activity across your workspace"})]}),i.jsx(kd,{size:18,className:"text-ink-muted"})]}),i.jsx("div",{className:"mt-4 space-y-3",children:u?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading projects..."}):h.recentProjects.length===0?i.jsx("div",{className:"text-sm text-ink-muted",children:"No projects yet."}):h.recentProjects.map(D=>{const S=co(D.status),E=ad(D);return i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:D.name}),i.jsx("p",{className:"text-xs text-ink-muted",children:D.ownerUsername||D.ownerEmail||"Unknown owner"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs font-semibold ${Qx[S]||"bg-gray-100 text-ink-muted"}`,children:S}),i.jsx("p",{className:"text-xs text-ink-muted",children:Kx(E)})]})]},D.id)})})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-white/90 p-5 shadow-soft",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-ink",children:"Needs attention"}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Unassigned or high-unread projects"})]}),i.jsx(Ad,{size:18,className:"text-ink-muted"})]}),i.jsx("div",{className:"mt-4 space-y-3",children:u?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading queue..."}):h.attentionList.length===0?i.jsx("div",{className:"text-sm text-ink-muted",children:"Everything looks calm."}):h.attentionList.map(D=>{const S=Number(D?.unreadCount||0),E=co(D.status);return i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:D.name}),i.jsx("p",{className:"text-xs text-ink-muted",children:D.assignedBidderId?`Assigned to ${D.bidder}`:"Unassigned"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[S>0?i.jsxs("span",{className:"rounded-full bg-accent-primary/10 px-2 py-0.5 text-xs font-semibold text-accent-primary",children:[S," unread"]}):null,i.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs font-semibold ${Qx[E]||"bg-gray-100 text-ink-muted"}`,children:E})]})]},D.id)})})]})]})]})]})},Gw=n=>{if(!n)return"";const a=new Date(n);if(Number.isNaN(a.getTime()))return"";const r=new Date,o=r.getTime()-a.getTime();return o<6e4?"Just now":o<36e5?`${Math.floor(o/6e4)}m ago`:a.toDateString()===r.toDateString()?a.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):a.toLocaleDateString()},Yw=n=>{if(!n)return"";const a=new Date(n);return Number.isNaN(a.getTime())?"":a.toLocaleString()},Xw=(n,a)=>n?String(a||"").toLowerCase()==="html"&&typeof window<"u"?new DOMParser().parseFromString(n,"text/html").body?.textContent||"":n:"",Zw=n=>({id:n.email_account_id,email:n.email_address||"Unknown",unread:Number(n.unread_count||0),status:n.status||"",profileId:n.profile_id,profileName:n.profile_name||""}),Qw=n=>({id:n.id,accountId:n.email_account_id,from:n.from_email||"Unknown sender",subject:n.subject||n.snippet||"(No subject)",time:Gw(n.received_at),unread:!!n.is_unread}),Kw=()=>{const{user:n}=Wt(),a=Array.isArray(n?.roles)?n.roles:[],r=ql(a),o=Sw(a),u=qe?`${qe}${o}`:o,[m,f]=b.useState([]),[h,x]=b.useState(!0),[p,y]=b.useState(null),[v,j]=b.useState(null),[k,T]=b.useState("All"),[_,H]=b.useState([]),[$,G]=b.useState(!1),[D,S]=b.useState(null),[E,U]=b.useState(!1),[L,V]=b.useState(null),[J,se]=b.useState(!1),[he,ce]=b.useState(null),[te,ee]=b.useState(null),[K,A]=b.useState(()=>{if(typeof window>"u")return{accountId:null,profileId:null};const P=new URLSearchParams(window.location.search);return{accountId:P.get("account_id"),profileId:P.get("profile_id")}}),[O,W]=b.useState(!1),re=b.useCallback(async P=>{const le=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!le){y("Missing token"),f([]),x(!1);return}try{x(!0),y(null);const ge=await fetch(`${u}/accounts`,{signal:P,headers:{Authorization:`Bearer ${le}`}});if(ge.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!ge.ok)throw new Error(`Failed to load accounts (${ge.status})`);const Ae=await ge.json(),we=Array.isArray(Ae?.items)?Ae.items:[];f(we.map(Zw).filter(it=>it.id))}catch(ge){ge.name!=="AbortError"&&(y(ge.message||"Unable to load accounts."),f([]))}finally{x(!1)}},[u]),z=b.useCallback(async(P,le)=>{if(!P){H([]);return}const ge=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!ge){S("Missing token"),H([]),G(!1);return}try{G(!0),S(null);const Ae=await fetch(`${u}/messages?account_id=${encodeURIComponent(P)}`,{signal:le,headers:{Authorization:`Bearer ${ge}`}});if(Ae.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!Ae.ok)throw new Error(`Failed to load emails (${Ae.status})`);const we=await Ae.json(),it=Array.isArray(we?.items)?we.items:[];H(it.map(Qw))}catch(Ae){Ae.name!=="AbortError"&&(S(Ae.message||"Unable to load emails."),H([]))}finally{G(!1)}},[u]),N=b.useCallback(async P=>{if(!P)return null;const le=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!le)return S("Missing token"),null;const ge=await fetch(`${u}/sync?account_id=${encodeURIComponent(P)}`,{method:"POST",headers:{Authorization:`Bearer ${le}`}});if(ge.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!ge.ok)throw new Error(`Failed to sync emails (${ge.status})`);return ge.json()},[u]);b.useEffect(()=>{const P=new AbortController;return re(P.signal),()=>P.abort()},[re]),b.useEffect(()=>{if(!m.length){j(null);return}if(!O){let P=null;if(K.accountId&&m.some(le=>le.id===K.accountId))P=K.accountId;else if(K.profileId){const le=m.find(ge=>String(ge.profileId)===String(K.profileId));le&&(P=le.id)}if(W(!0),P){j(P);return}}(!v||!m.some(P=>P.id===v))&&j(m[0].id)},[m,v,O,K]),b.useEffect(()=>{if(typeof window>"u")return;const P=()=>{const ge=new URLSearchParams(window.location.search);return{accountId:ge.get("account_id"),profileId:ge.get("profile_id")}},le=()=>{A(P()),W(!1)};return window.addEventListener("popstate",le),()=>window.removeEventListener("popstate",le)},[]),b.useEffect(()=>{if(!v){H([]);return}const P=new AbortController;return z(v,P.signal),()=>P.abort()},[v,z]);const B=m.find(P=>P.id===v)||m[0],ae=_.length>0?_.filter(P=>P.accountId===B?.id&&P.unread).length:B?.unread??0,de=_.filter(P=>P.accountId===B?.id),ye=k==="Unread"?de.filter(P=>P.unread):de,ne=["All","Unread","Important","Interview"],me=()=>{typeof window<"u"&&(window.history.pushState({},"",r),window.dispatchEvent(new PopStateEvent("popstate")))},fe=async()=>{if(v)try{S(null),G(!0),await N(v),await re(),await z(v)}catch(P){S(P.message||"Unable to sync emails.")}finally{G(!1)}},Se=async P=>{const le=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!(!le||!P))try{(await fetch(`${u}/messages/${P}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${le}`}})).status===401&&typeof window<"u"&&(window.location.href="/auth")}catch{}},Ce=P=>{P?.unread&&(H(le=>le.map(ge=>ge.id===P.id?{...ge,unread:!1}:ge)),f(le=>le.map(ge=>ge.id===P.accountId?{...ge,unread:Math.max(0,(ge.unread??0)-1)}:ge)),Se(P.id)),V(P?.unread?{...P,unread:!1}:P),U(!0),ce(null),ee(null)},ze=()=>{U(!1),ce(null),ee(null),V(null)};b.useEffect(()=>{if(!E||!L?.id)return;const P=new AbortController;return(async()=>{const ge=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!ge){ce("Missing token"),se(!1);return}try{se(!0),ce(null);const Ae=await fetch(`${u}/messages/${L.id}`,{signal:P.signal,headers:{Authorization:`Bearer ${ge}`}});if(Ae.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!Ae.ok){const it=await Ae.json().catch(()=>({}));throw new Error(it?.message||`Failed to load email (${Ae.status})`)}const we=await Ae.json();ee(we)}catch(Ae){Ae.name!=="AbortError"&&ce(Ae.message||"Unable to load email.")}finally{se(!1)}})(),()=>P.abort()},[E,L?.id]);const Oe=B?$?i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-center",children:i.jsx("p",{className:"text-sm text-ink-muted",children:"Loading emails..."})}):D?i.jsxs("div",{className:"rounded-2xl border border-border bg-white p-6 text-center",children:[i.jsx("p",{className:"text-sm text-red-600",children:"Couldn't load emails."}),i.jsx("button",{type:"button",onClick:fe,className:"mt-4 rounded-xl border border-border px-4 py-2 text-sm font-semibold text-ink-muted hover:text-ink",children:"Try again"})]}):ye.length===0?i.jsxs("div",{className:"rounded-2xl border border-border bg-white p-6 text-center",children:[i.jsx("p",{className:"text-sm text-ink-muted",children:"No emails in this inbox."}),i.jsx("button",{type:"button",onClick:fe,className:"mt-4 rounded-xl bg-accent-primary px-4 py-2 text-sm font-semibold text-white",children:"Sync now"})]}):i.jsx("div",{className:"max-h-[520px] overflow-y-auto pr-2",children:i.jsx("div",{className:"space-y-3",children:ye.map(P=>i.jsx("div",{role:"button",tabIndex:0,"aria-label":`Open email from ${P.from}`,onClick:()=>Ce(P),onKeyDown:le=>{(le.key==="Enter"||le.key===" ")&&(le.preventDefault(),Ce(P))},className:"rounded-2xl border border-border bg-white px-5 py-4 shadow-sm cursor-pointer transition-colors hover:bg-gray-50",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 rounded border-border","aria-label":`Select email from ${P.from}`,onClick:le=>le.stopPropagation()}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-sm ${P.unread?"font-semibold text-ink":"text-ink"}`,children:P.from}),P.unread?i.jsx("span",{className:"h-2 w-2 rounded-full bg-accent-primary"}):null]}),i.jsx("p",{className:`text-sm ${P.unread?"font-semibold text-ink":"text-ink"}`,children:P.subject}),i.jsxs("p",{className:"text-xs text-ink-muted",children:[B?.email," - ",P.time]})]})]})},P.id))})}):i.jsxs("div",{className:"rounded-2xl border border-border bg-white p-6 text-center",children:[i.jsx("p",{className:"text-sm text-ink-muted",children:"Connect an email account to view your inbox."}),i.jsx("button",{type:"button",onClick:me,className:"mt-4 rounded-xl bg-accent-primary px-4 py-2 text-sm font-semibold text-white",children:"Go to profiles"})]});return i.jsx("main",{className:" min-h-[calc(100vh-64px)] px-6 py-6",children:i.jsx("div",{className:"mx-auto flex flex-col gap-6",children:i.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-6",children:[i.jsxs("aside",{className:"border border-border bg-white p-4 shadow-sm",children:[i.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Email Accounts"}),i.jsx("div",{className:"mt-4 space-y-2",children:h?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading accounts..."}):p?i.jsx("div",{className:"text-sm text-red-600",children:"Couldn't load accounts."}):m.length===0?i.jsx("div",{className:"text-sm text-ink-muted",children:"No connected accounts yet."}):m.map(P=>{const le=P.id===v;return i.jsxs("button",{type:"button",onClick:()=>j(P.id),className:`w-full min-w-0 flex items-center justify-between rounded-xl px-3 py-2 text-sm font-semibold transition-colors ${le?"bg-accent-primary/10 text-accent-primary":"text-ink-muted hover:text-ink hover:bg-gray-100"}`,children:[i.jsxs("span",{className:"flex min-w-0 items-center gap-2",children:[i.jsx("span",{className:`h-2.5 w-2.5 flex-shrink-0 rounded-full ${le?"bg-accent-primary":"bg-gray-300"}`}),i.jsx("span",{className:"min-w-0 truncate text-left",children:P.email})]}),i.jsxs("span",{className:"text-xs text-ink-muted",children:["(",P.unread,")"]})]},P.id)})}),i.jsx("button",{type:"button",onClick:me,className:"mt-4 w-full rounded-xl border border-border bg-gray-50 px-3 py-2 text-sm font-semibold text-accent-primary hover:bg-white",children:"+ Connect email"})]}),i.jsxs("section",{className:"border border-border bg-white p-4 shadow-sm flex flex-col gap-4",children:[i.jsxs("header",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-ink",children:"Inbox"}),i.jsxs("p",{className:"text-sm text-ink-muted",children:[B?.email||"No account selected"," - ",ae," unread"]})]}),i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:ne.map(P=>{const le=k===P;return i.jsx("button",{type:"button",onClick:()=>T(P),className:`rounded-full px-4 py-1.5 text-sm font-semibold transition-colors ${le?"bg-accent-primary text-white":"bg-gray-100 text-ink-muted hover:text-ink"}`,children:P},P)})}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-border bg-white px-4 py-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1.5 text-sm font-semibold text-ink-muted hover:text-ink",children:[i.jsx(z2,{size:16}),"Select",i.jsx(Mo,{size:14})]}),i.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1.5 text-sm font-semibold text-ink-muted hover:text-ink",children:[i.jsx(i2,{size:16}),"Archive"]}),i.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1.5 text-sm font-semibold text-ink-muted hover:text-ink",children:[i.jsx($l,{size:16}),"Delete"]}),i.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1.5 text-sm font-semibold text-ink-muted hover:text-ink",children:[i.jsx(Oy,{size:16}),"Mark read"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{type:"button",onClick:fe,className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1.5 text-sm font-semibold text-ink-muted hover:text-ink",children:[i.jsx(ka,{size:16}),"Sync"]}),i.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1.5 text-sm font-semibold text-ink-muted hover:text-ink",children:[i.jsx(Wd,{size:16}),"Settings"]})]})]}),i.jsxs("div",{className:`grid gap-4 ${E?"grid-cols-1 lg:grid-cols-[minmax(0,1fr)_360px] xl:grid-cols-[minmax(0,1fr)_420px]":""}`,children:[i.jsx("div",{children:Oe}),E?i.jsxs("aside",{className:"rounded-2xl border border-border bg-white shadow-sm",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 border-b border-border px-5 py-4",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("h2",{className:"text-lg font-semibold text-ink truncate",children:te?.subject||L?.subject||"(No subject)"}),i.jsx("p",{className:"text-xs text-ink-muted truncate",children:te?.fromName&&te?.from?`${te.fromName} <${te.from}>`:te?.from||L?.from||"Unknown sender"})]}),i.jsx("button",{type:"button",onClick:ze,className:"p-2 rounded-md text-ink-muted hover:text-ink hover:bg-gray-100","aria-label":"Close email",children:i.jsx(Si,{size:18})})]}),i.jsx("div",{className:"max-h-[calc(100vh-220px)] overflow-y-auto px-5 py-4 space-y-4",children:J?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading email..."}):he?i.jsx("div",{className:"text-sm text-red-600",children:he}):te?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-1 text-xs text-ink-muted",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-ink",children:"To:"})," ",te.to?.length?te.to.map(P=>P.name||P.email).join(", "):""]}),te.cc?.length?i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-ink",children:"Cc:"})," ",te.cc.map(P=>P.name||P.email).join(", ")]}):null,i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-ink",children:"Date:"})," ",te.receivedAt?Yw(te.receivedAt):L?.time||""]}),te.accountEmail?i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-ink",children:"Account:"})," ",te.accountEmail]}):null]}),i.jsx("div",{className:"border-t border-border pt-4",children:i.jsx("div",{className:"text-sm text-ink whitespace-pre-wrap",children:Xw(te.body,te.bodyType)||te.snippet||"No email content available."})})]}):i.jsx("div",{className:"text-sm text-ink-muted",children:"Select an email to view details."})})]}):null]})]})]})})})},Ix=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Jy=["January","February","March","April","May","June","July","August","September","October","November","December"],Jw=Jy.map(n=>n.slice(0,3)),Wx=[{dot:"bg-blue-500",tone:"bg-blue-100 text-blue-700",text:"text-blue-500"},{dot:"bg-teal-500",tone:"bg-teal-100 text-teal-700",text:"text-teal-500"},{dot:"bg-purple-500",tone:"bg-purple-100 text-purple-700",text:"text-purple-500"},{dot:"bg-amber-500",tone:"bg-amber-100 text-amber-700",text:"text-amber-500"},{dot:"bg-rose-500",tone:"bg-rose-100 text-rose-700",text:"text-rose-500"}],Fw="that caller already scheduled in that time. If u can't select other caller or u can't reschedule that meeting, plz contact support team",Iw=n=>n.toLocaleDateString("en-US",{month:"long",year:"numeric"}),Fy=n=>new Date(n.getFullYear(),n.getMonth(),n.getDate()),ja=(n,a)=>{const r=new Date(n);return r.setDate(r.getDate()+a),r},Td=n=>{const a=Fy(n),o=(a.getDay()+6)%7;return ja(a,-o)},Ww=(n,a)=>{if(a==="Week"){const u=Td(n);return{start:u,end:ja(u,7)}}if(a==="Day"){const u=Fy(n);return{start:u,end:ja(u,1)}}const r=new Date(n.getFullYear(),n.getMonth(),1),o=new Date(n.getFullYear(),n.getMonth()+1,1);return{start:r,end:o}},Nl=n=>{const a=n.getFullYear(),r=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0");return`${a}-${r}-${o}`},id=(n,a)=>{if(!n&&!a)return"";const r=n?new Date(n):null,o=a?new Date(a):null,u=r?r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",m=o?o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return u&&m?`${u} - ${m}`:u||m},ej=(n,a,r,o)=>{if(!a||!r)return!1;const u=new Date(r).getTime();if(Number.isNaN(u))return!1;const m=o?new Date(o).getTime():u,f=u-900*1e3,h=m+900*1e3;return n.some(x=>{if(x?.role!=="caller"||x?.status==="closed"||String(x?.assignee_user_id)!==String(a)||!x?.when_at)return!1;const p=new Date(x.when_at).getTime();return Number.isNaN(p)?!1:p>=f&&p<=h})},tj=n=>{if(!n)return"";const a=new Date(n);if(Number.isNaN(a.getTime()))return"";const r=o=>String(o).padStart(2,"0");return`${a.getFullYear()}-${r(a.getMonth()+1)}-${r(a.getDate())}T${r(a.getHours())}:${r(a.getMinutes())}`},nj=(n,a)=>{const r=Wx[a%Wx.length],o=n.owner_username||n.owner_display_name||n.owner_email||"";return{id:n.email_account_id,email:n.email_address||"Unknown",status:n.status||"",profileId:n.profile_id,profileName:n.profile_name||"",ownerUsername:o,dot:r.dot,tone:r.tone,text:r.text}},sj=n=>({id:n.id,accountId:n.email_account_id,title:n.title||"Untitled",start:n.start_at,end:n.end_at}),aj=()=>{const{user:n}=Wt(),a=Array.isArray(n?.roles)?n.roles:void 0,r=a||[],o=r.includes("admin")||r.includes("manager"),u=ql(r),m=kw(r),f=qe?`${qe}${m}`:m,h=b.useRef(null),x=b.useRef(null),[p,y]=b.useState([]),[v,j]=b.useState(!0),[k,T]=b.useState(null),[_,H]=b.useState(null),[$,G]=b.useState([]),[D,S]=b.useState(!1),[E,U]=b.useState(null),[L,V]=b.useState("Month"),[J,se]=b.useState(()=>new Date),[he,ce]=b.useState(!1),[te,ee]=b.useState(()=>new Date().getFullYear()),[K,A]=b.useState(!1),[O,W]=b.useState([]),[re,z]=b.useState(!1),[N,B]=b.useState(!1),[ae,de]=b.useState(""),[ye,ne]=b.useState(null),[me,fe]=b.useState("request"),Se=b.useMemo(()=>new Date(J.getFullYear(),J.getMonth(),1),[J]),{start:Ce,end:ze}=b.useMemo(()=>Ww(J,L),[J,L]),Oe=b.useMemo(()=>{const F=new Date(J.getFullYear(),J.getMonth(),1),ve=new Date(J.getFullYear(),J.getMonth()+1,0).getDate(),je=(F.getDay()+6)%7,ke=Math.ceil((je+ve)/7)*7;return Array.from({length:ke},(be,Me)=>{const Ue=Me-je+1;return Ue>0&&Ue<=ve?Ue:null})},[J]),P=b.useCallback(async F=>{const ve=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!ve){T("Missing token"),y([]),j(!1);return}try{j(!0),T(null);const je=await fetch(`${f}/accounts`,{signal:F,headers:{Authorization:`Bearer ${ve}`}});if(je.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!je.ok)throw new Error(`Failed to load calendars (${je.status})`);const ke=await je.json(),be=Array.isArray(ke?.items)?ke.items:[];y(be.map((Me,Ue)=>nj(Me,Ue)).filter(Me=>Me.id))}catch(je){je.name!=="AbortError"&&(T(je.message||"Unable to load calendars."),y([]))}finally{j(!1)}},[f]),le=b.useCallback(async(F,ve)=>{if(!F){G([]);return}const je=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!je){U("Missing token"),G([]),S(!1);return}try{S(!0),U(null);const ke=await fetch(`${f}/events?account_id=${encodeURIComponent(F)}&start=${encodeURIComponent(Ce.toISOString())}&end=${encodeURIComponent(ze.toISOString())}`,{signal:ve,headers:{Authorization:`Bearer ${je}`}});if(ke.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!ke.ok)throw new Error(`Failed to load events (${ke.status})`);const be=await ke.json(),Me=Array.isArray(be?.items)?be.items:[];G(Me.map(sj))}catch(ke){ke.name!=="AbortError"&&(U(ke.message||"Unable to load events."),G([]))}finally{S(!1)}},[f,ze,Ce]),ge=b.useCallback(async()=>{try{z(!0),de("");const F=await Ft.listTalents("caller",{roles:a});W(F)}catch(F){de(F?.message||"Unable to load callers.")}finally{z(!1)}},[a]),Ae=b.useCallback(async F=>{if(!F)return null;const ve=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!ve)return U("Missing token"),null;const je=await fetch(`${f}/sync?account_id=${encodeURIComponent(F)}&start=${encodeURIComponent(Ce.toISOString())}&end=${encodeURIComponent(ze.toISOString())}`,{method:"POST",headers:{Authorization:`Bearer ${ve}`}});if(je.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!je.ok)throw new Error(`Failed to sync calendar (${je.status})`);return je.json()},[f,ze,Ce]);b.useEffect(()=>{const F=new AbortController;return P(F.signal),()=>F.abort()},[P]),b.useEffect(()=>{if(!p.length){H(null);return}(!_||!p.some(F=>F.id===_))&&H(p[0].id)},[p,_]),b.useEffect(()=>{if(!_){G([]);return}const F=new AbortController;return le(_,F.signal),()=>F.abort()},[_,le]),b.useEffect(()=>{K&&ge()},[K,ge]);const we=p.find(F=>F.id===_)||p[0],it=we?[we.profileName,we.ownerUsername].filter(Boolean).join("  "):"",ot=$.filter(F=>F.accountId===we?.id),vt=b.useMemo(()=>{const F=new Map;return ot.forEach(ve=>{if(!ve.start)return;const je=new Date(ve.start);if(Number.isNaN(je.getTime())||je.getMonth()!==Se.getMonth()||je.getFullYear()!==Se.getFullYear())return;const ke=je.getDate();F.has(ke)||F.set(ke,[]),F.get(ke).push(ve)}),F},[ot,Se]),tn=b.useMemo(()=>{const F=new Map;return ot.forEach(ve=>{if(!ve.start)return;const je=new Date(ve.start);if(Number.isNaN(je.getTime()))return;const ke=Nl(je);F.has(ke)||F.set(ke,[]),F.get(ke).push(ve)}),F},[ot]),Ut=b.useMemo(()=>{if(L==="Week"){const F=Td(J),ve=ja(F,6),je=F.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ke=ve.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${je} - ${ke}`}return L==="Day"?J.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):Iw(J)},[L,J]),Xt=F=>{const ve=F==="next"?1:-1;if(L==="Week"){se(je=>ja(je,ve*7));return}if(L==="Day"){se(je=>ja(je,ve));return}se(je=>new Date(je.getFullYear(),je.getMonth()+ve,1))},mt=F=>{se(new Date(te,F,1)),ce(!1)};b.useEffect(()=>{ee(J.getFullYear())},[J]),b.useEffect(()=>{if(!he)return;const F=je=>{const ke=je.target;ke&&(h.current?.contains(ke)||x.current?.contains(ke)||ce(!1))},ve=je=>{je.key==="Escape"&&ce(!1)};return document.addEventListener("mousedown",F),document.addEventListener("keydown",ve),()=>{document.removeEventListener("mousedown",F),document.removeEventListener("keydown",ve)}},[he]);const Ot=b.useMemo(()=>{if(L!=="Week")return[];const F=Td(J);return Array.from({length:7},(ve,je)=>ja(F,je))},[L,J]),Ne=["Month","Week","Day"],$e=()=>{typeof window<"u"&&(window.history.pushState({},"",u),window.dispatchEvent(new PopStateEvent("popstate")))},Ge=async()=>{if(_)try{U(null),S(!0),await Ae(_),await P(),await le(_)}catch(F){U(F.message||"Unable to sync calendar.")}finally{S(!1)}},We=F=>{ne(F),de(""),fe(o?"assign":"request"),A(!0)},yt=()=>{N||(A(!1),de(""),ne(null),fe("request"))},Et=async({assigneeId:F,whenAt:ve,jobUrl:je,meetingUrl:ke,otherNotes:be})=>{try{if(B(!0),de(""),me==="assign"){if(!ye?.id||!window.confirm(`Assign this caller to "${ye.title||"event"}"?`))return;const Ue=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!Ue)throw new Error("Missing token");const Vt=await fetch(`${f}/events/${ye.id}/assign`,{method:"POST",headers:{Authorization:`Bearer ${Ue}`,"Content-Type":"application/json"},body:JSON.stringify({assignee_user_id:F})});if(Vt.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!Vt.ok){const nn=await Vt.text();throw new Error(nn||"Unable to assign caller.")}A(!1),ne(null)}else{const Me=await Ft.listRequests({roles:a})||[];if(ej(Me,F,ye?.start,ye?.end)){window.alert(Fw);return}await Ft.createRequest({role:"caller",detail:{job_url:je||"",meeting_url:ke||"",other:be||""},assignee_user_id:F,when_at:ve},{roles:a}),A(!1),ne(null)}}catch(Me){const Ue=me==="assign"?"Unable to assign caller.":"Unable to send request.";de(Me?.message||Ue)}finally{B(!1)}};return i.jsxs("main",{className:" min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:[i.jsx("div",{className:"mx-auto flex flex-col gap-6",children:i.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-6",children:[i.jsxs("aside",{className:"border border-border bg-white p-4 shadow-sm",children:[i.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Calendars"}),i.jsx("div",{className:"mt-4 space-y-2",children:v?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading calendars..."}):k?i.jsx("div",{className:"text-sm text-red-600",children:"Couldn't load calendars."}):p.length===0?i.jsx("div",{className:"text-sm text-ink-muted",children:"No calendars connected yet."}):p.map(F=>{const ve=F.id===_;return i.jsxs("button",{type:"button",onClick:()=>H(F.id),className:`w-full min-w-0 flex items-start gap-3 rounded-xl px-3 py-2 text-left text-sm font-semibold transition-colors ${ve?"bg-accent-primary/10 text-accent-primary":"text-ink-muted hover:text-ink hover:bg-gray-100"}`,children:[i.jsx("span",{className:`mt-1 h-2.5 w-2.5 flex-shrink-0 rounded-full ${F.dot}`,"aria-hidden":"true"}),i.jsxs("span",{className:"min-w-0",children:[i.jsx("span",{className:`block truncate ${F.text}`,children:F.email}),F.profileName||F.ownerUsername?i.jsx("span",{className:"mt-1 block truncate text-xs font-medium text-ink-muted",children:[F.profileName,F.ownerUsername].filter(Boolean).join("  ")}):null]})]},F.id)})}),i.jsx("button",{type:"button",onClick:$e,className:"mt-4 w-full rounded-xl border border-border bg-gray-50 px-3 py-2 text-sm font-semibold text-accent-primary hover:bg-white",children:"+ Connect calendar"})]}),i.jsxs("section",{className:"flex flex-col gap-4 border border-border bg-white p-4 ",children:[i.jsxs("header",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-ink",children:"Calendar"}),i.jsx("p",{className:"text-sm text-ink-muted",children:we?.email||"No calendar selected"}),it?i.jsx("p",{className:"text-xs text-ink-muted",children:it}):null]}),i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Ne.map(F=>{const ve=L===F;return i.jsx("button",{type:"button",onClick:()=>V(F),className:`rounded-full px-4 py-1.5 text-sm font-semibold transition-colors ${ve?"bg-accent-primary text-white":"bg-gray-100 text-ink-muted hover:text-ink"}`,children:F},F)})}),i.jsxs("div",{className:"rounded-2xl border border-border bg-white p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 text-xs text-ink-muted",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(No,{size:14}),Ut]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>Xt("prev"),className:"flex items-center justify-center rounded-lg border border-border px-2 py-1.5 text-xs text-ink-muted hover:text-ink","aria-label":"Previous",children:i.jsx(Ux,{size:14})}),i.jsx("button",{type:"button",onClick:()=>Xt("next"),className:"flex items-center justify-center rounded-lg border border-border px-2 py-1.5 text-xs text-ink-muted hover:text-ink","aria-label":"Next",children:i.jsx(Ox,{size:14})}),i.jsxs("button",{type:"button",onClick:Ge,className:"flex items-center gap-2 rounded-lg border border-border px-3 py-1.5 text-xs font-semibold text-ink-muted hover:text-ink",children:[i.jsx(ka,{size:14}),"Sync"]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{ref:x,type:"button",onClick:()=>ce(F=>!F),className:"flex items-center gap-1 text-sm text-ink-muted hover:text-ink","aria-haspopup":"dialog","aria-expanded":he,children:["Select month",i.jsx(Mo,{size:14})]}),he?i.jsxs("div",{ref:h,className:"absolute right-0 top-full z-20 mt-2 w-64 rounded-xl border border-border bg-white shadow-lg",role:"dialog","aria-label":"Select month",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border px-3 py-2",children:[i.jsx("button",{type:"button",onClick:()=>ee(F=>F-1),className:"rounded-md border border-border px-2 py-1 text-xs text-ink-muted hover:text-ink","aria-label":"Previous year",children:i.jsx(Ux,{size:14})}),i.jsx("span",{className:"text-sm font-semibold text-ink",children:te}),i.jsx("button",{type:"button",onClick:()=>ee(F=>F+1),className:"rounded-md border border-border px-2 py-1 text-xs text-ink-muted hover:text-ink","aria-label":"Next year",children:i.jsx(Ox,{size:14})})]}),i.jsx("div",{className:"grid grid-cols-3 gap-2 p-3",children:Jw.map((F,ve)=>{const je=te===J.getFullYear()&&ve===J.getMonth();return i.jsx("button",{type:"button",onClick:()=>mt(ve),className:`rounded-lg px-2 py-2 text-xs font-semibold transition-colors ${je?"bg-accent-primary text-white":"bg-gray-50 text-ink-muted hover:text-ink hover:bg-gray-100"}`,"aria-label":Jy[ve],children:F},F)})}),i.jsxs("div",{className:"flex items-center justify-between border-t border-border px-3 py-2 text-xs",children:[i.jsx("button",{type:"button",onClick:()=>{const F=new Date;ee(F.getFullYear()),se(new Date(F.getFullYear(),F.getMonth(),1)),ce(!1)},className:"text-ink-muted hover:text-ink",children:"This month"}),i.jsx("button",{type:"button",onClick:()=>ce(!1),className:"text-ink-muted hover:text-ink",children:"Close"})]})]}):null]})]})]}),D?i.jsx("div",{className:"rounded-xl border border-border bg-gray-50 p-4 text-sm text-ink-muted",children:"Loading events..."}):E?i.jsx("div",{className:"rounded-xl border border-border bg-white p-4 text-sm text-red-600",children:"Couldn't load events."}):i.jsx(i.Fragment,{children:L==="Month"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-7 text-xs text-ink-muted mb-3",children:Ix.map(F=>i.jsx("div",{className:"px-2 py-1",children:F},F))}),i.jsx("div",{className:"grid grid-cols-7 gap-3",children:Oe.map((F,ve)=>{const je=F?vt.get(F)||[]:[];return i.jsxs("div",{role:F?"button":void 0,tabIndex:F?0:-1,onClick:()=>{F&&se(new Date(J.getFullYear(),J.getMonth(),F))},onKeyDown:ke=>{F&&(ke.key==="Enter"||ke.key===" ")&&(ke.preventDefault(),se(new Date(J.getFullYear(),J.getMonth(),F)))},className:`min-h-[90px] rounded-xl border border-border/60 px-2 py-2 text-left transition-colors ${F?"bg-gray-50/40 hover:bg-gray-50 cursor-pointer":"bg-transparent"}`,children:[i.jsx("div",{className:"text-xs text-ink-muted",children:F??""}),i.jsx("div",{className:"mt-2 space-y-2",children:je.map(ke=>i.jsxs("button",{type:"button",onClick:be=>{be.stopPropagation(),We(ke)},className:`w-full rounded-lg px-2 py-1.5 text-left text-xs font-semibold ${we?.tone||"bg-gray-100 text-ink"}`,children:[i.jsx("div",{children:ke.title}),i.jsx("div",{className:"text-[11px] font-medium",children:id(ke.start,ke.end)})]},ke.id))})]},`${F??"empty"}-${ve}`)})})]}):L==="Week"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-7 text-xs text-ink-muted mb-3",children:Ot.map(F=>i.jsxs("div",{className:"px-2 py-1",children:[Ix[F.getDay()===0?6:F.getDay()-1]," ",F.getDate()]},Nl(F)))}),i.jsx("div",{className:"grid grid-cols-7 gap-3",children:Ot.map(F=>{const ve=Nl(F),je=tn.get(ve)||[];return i.jsxs("div",{className:"min-h-[120px] rounded-xl border border-border/60 bg-gray-50/40 px-2 py-2",children:[i.jsx("div",{className:"text-xs text-ink-muted",children:F.getDate()}),i.jsx("div",{className:"mt-2 space-y-2",children:je.map(ke=>i.jsxs("button",{type:"button",onClick:()=>We(ke),className:`w-full rounded-lg px-2 py-1.5 text-left text-xs font-semibold ${we?.tone||"bg-gray-100 text-ink"}`,children:[i.jsx("div",{children:ke.title}),i.jsx("div",{className:"text-[11px] font-medium",children:id(ke.start,ke.end)})]},ke.id))})]},ve)})})]}):i.jsx("div",{className:"space-y-3",children:(tn.get(Nl(J))||[]).length===0?i.jsx("div",{className:"rounded-xl border border-border bg-gray-50 p-4 text-sm text-ink-muted",children:"No events for this day."}):(tn.get(Nl(J))||[]).map(F=>i.jsxs("button",{type:"button",onClick:()=>We(F),className:`w-full rounded-lg px-3 py-2 text-left text-sm font-semibold ${we?.tone||"bg-gray-100 text-ink"}`,children:[i.jsx("div",{children:F.title}),i.jsx("div",{className:"text-xs font-medium",children:id(F.start,F.end)})]},F.id))})})]})]})]})}),i.jsx(af,{open:K,title:me==="assign"?"Assign caller":"Request caller",roleLabel:"Caller",rateLabel:"Hourly rate",showDetail:!1,showJobUrl:me!=="assign",showMeetingUrl:me!=="assign",showOtherNotes:me!=="assign",showWhen:me!=="assign",people:O,loading:re,submitting:N,initialWhen:tj(ye?.start),error:ae,onClose:yt,onSubmit:Et,submitLabel:me==="assign"?"Assign caller":"Send request",submittingLabel:me==="assign"?"Assigning...":"Sending..."})]})},ij=()=>i.jsx("main",{className:"bg-main min-h-[calc(100vh-64px)] border-t border-border px-8 py-8",children:i.jsxs("div",{className:"max-w-[1440px] mx-auto",children:[i.jsx("h1",{className:"text-2xl font-bold text-ink mb-2",children:"Settings"}),i.jsx("p",{className:"text-sm text-ink-muted",children:"Manage your account and preferences."})]})}),Iy=n=>{if(!Array.isArray(n)||n.length<2)return n;const a=[...n];for(let r=a.length-1;r>0;r-=1){const o=Math.floor(Math.random()*(r+1));[a[r],a[o]]=[a[o],a[r]]}return a},Ed=n=>n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),lj=(n,a)=>{if(!(!n||!a))return a.split(".").reduce((r,o)=>r?r[o]:void 0,n)},rj=(n,a)=>n?n.replace(/{{\s*([^}]+)\s*}}/g,(r,o)=>{const u=lj(a,o.trim());if(u==null)return"";if(typeof u=="object")try{return JSON.stringify(u)}catch{return""}return String(u)}):"",oj=(n,a)=>{if(!n)return a;if(n.includes("</head>"))return n.replace("</head>",`${a}</head>`);const r=n.match(/<body[^>]*>/i);return r?n.replace(r[0],`${r[0]}${a}`):`${a}${n}`},cj=n=>{const a=n||{},r=a.Profile||a.profile||{},o=r.contact||a.contact||{},u=a.summary?.text||a.summary?.summary||a.summary||"",m=Array.isArray(u)?u.filter(Boolean).join(`
`):String(u||""),f=a.skills?.raw||a.skills?.skills||a.skills||a.skill||[],h=Array.isArray(f)?f.filter(Boolean):typeof f=="string"?f.split(",").map(v=>v.trim()).filter(Boolean):[],x=a.workExperience||a.work_experience||a.workExperience||a.experience||[],y=(Array.isArray(x)?x:[]).map(v=>{const j=Wy(v?.bullets??v?.bullet_points??v?.bulletPoints??v?.bullet??""),k=v?.end_date||v?.endDate||"",T=v?.isPresent||String(k).toLowerCase()==="present";return{companyTitle:v?.companyTitle||v?.company_name||v?.companyName||"",roleTitle:v?.roleTitle||v?.role_title||"",employmentType:v?.employmentType||v?.employment_type||"",location:v?.location||v?.location_text||v?.locationText||"",startDate:v?.startDate||v?.start_date||"",endDate:T?"Present":k||"",bullets:j.length?j:[]}});return{Profile:{name:r.name||a.name||a.full_name||a.fullName||"",headline:r.headline||a.headline||"",contact:{location:o.location||a.location||a.location_text||a.locationText||"",email:o.email||a.email||"",phone:o.phone||a.phone||a.phone_number||a.phoneNumber||"",linkedin:o.linkedin||a.linkedin||a.linkedin_url||a.linkedinUrl||""}},summary:{text:m},workExperience:y,skills:{raw:h.length?h:[]}}},uj=(n,a)=>{const r=cj(n);if(!a)return r;a.headline_new&&(r.Profile={...r.Profile,headline:a.headline_new}),Array.isArray(a.summary_new)&&a.summary_new.length&&(r.summary={text:a.summary_new.filter(Boolean).join(`
`)});const o=Array.isArray(a.skills_to_add)?a.skills_to_add.map(m=>m?.skill).filter(Boolean):[];return r.skills={raw:eb(r.skills?.raw||[],o)},(Array.isArray(a.experience_bullets_to_add)?a.experience_bullets_to_add:[]).forEach(m=>{const f=Number(m?.company_index);if(!Number.isFinite(f)||!r.workExperience?.[f])return;(Array.isArray(m?.bullets)?m.bullets:[]).forEach(x=>{x?.text&&r.workExperience[f].bullets.push(x.text)})}),r},dj=(n,a,r)=>{const o=Ed(JSON.stringify(a||{},null,2)),u=JSON.stringify(n||"");return`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>${Ed(r)}</title>
    <style>
      body { font-family: "Inter", system-ui, sans-serif; margin: 0; background: #f5f7fb; }
      .toolbar { padding: 16px 24px; background: #fff; border-bottom: 1px solid #e5e7eb; }
      .layout { display: grid; grid-template-columns: 1fr 360px; gap: 16px; padding: 20px; }
      .panel { background: #fff; border: 1px solid #e5e7eb; border-radius: 12px; }
      .template { padding: 16px; min-height: 70vh; }
      .json { padding: 16px; font-size: 12px; white-space: pre-wrap; }
      iframe { width: 100%; min-height: 70vh; border: 0; }
      @media print { .toolbar, .json-panel { display: none; } .layout { grid-template-columns: 1fr; } }
    </style>
  </head>
  <body>
    <div class="toolbar"><strong>Resume Preview</strong></div>
    <div class="layout">
      <div class="panel template">
        <iframe id="templateFrame" title="Resume Template"></iframe>
      </div>
      <div class="panel json-panel">
        <div class="json">${o}</div>
      </div>
    </div>
    <script>
      const frame = document.getElementById("templateFrame");
      frame.srcdoc = ${u};
    <\/script>
  </body>
</html>`},fj=(n,a)=>/<html[\s>]/i.test(n)?n:`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>${Ed(a)}</title>
    <style>
      body { font-family: "Inter", system-ui, sans-serif; margin: 0; }
    </style>
  </head>
  <body>
    ${n}
  </body>
</html>`,mj=n=>{if(!n)return{};if(typeof n=="string")try{return JSON.parse(n)}catch{return{}}return n},eg=n=>{const a=n?.raw||{},r=a.base_resume??a.baseResume;return r?typeof r=="string"?r.trim().length>0:typeof r=="object"?Object.keys(r).length>0:!1:!1},Wy=n=>n?Array.isArray(n)?n.map(a=>String(a).trim()).filter(Boolean):typeof n=="string"?n.split(`
`).map(a=>a.trim()).filter(Boolean):[]:[],hj=n=>{const a=n?.end_date||n?.endDate||"",r=n?.isPresent||String(a).toLowerCase()==="present",m=[n?.startDate||n?.start_date||"",r?"Present":a].filter(Boolean).join(" - "),f=Wy(n?.bullets??n?.bullet_points??n?.bulletPoints??n?.bullet??"").map(h=>({text:h,needsInput:!1,isAdded:!1}));return{company:n?.companyTitle||n?.company_name||n?.companyName||"",role:n?.roleTitle||n?.role_title||"",dates:m,bullets:Iy(f)}},pj=n=>{const a=n?.raw||{},r=a.base_resume??a.baseResume??{},o=r.Profile||r.profile||{},u=r.summary?.text||r.summary?.summary||r.summary||"",m=Array.isArray(u)?u.filter(Boolean):typeof u=="string"?u.split(`
`).map(y=>y.trim()).filter(Boolean):[],f=r.skills?.raw||r.skills?.skills||r.skills||r.skill||[],h=Array.isArray(f)?f.filter(Boolean):typeof f=="string"?f.split(",").map(y=>y.trim()).filter(Boolean):[],x=r.workExperience||r.work_experience||r.workExperience||r.experience||[],p=Array.isArray(x)?x:[];return{name:o.name||r.name||r.full_name||r.fullName||n?.name||"",headline:o.headline||r.headline||n?.subtitle||"",summaryLines:m,skills:h,experience:p.map(hj)}},eb=(n,a)=>{const r=new Set,o=[],u=m=>{const f=m.toLowerCase();r.has(f)||(r.add(f),o.push(m))};return n.forEach(m=>{m&&u(m)}),a.forEach(m=>{m&&u(m)}),o},xj=(n,a)=>{if(!n)return null;const r=Array.isArray(a)?a:[],o=(n.experience||[]).map(u=>({...u,bullets:Array.isArray(u.bullets)?u.bullets.map(m=>({...m,isAdded:!!m.isAdded})):[]}));return r.forEach(u=>{const m=Number(u?.company_index);if(!Number.isFinite(m)||m<0||m>=o.length)return;(Array.isArray(u?.bullets)?u.bullets:[]).forEach(h=>{h?.text&&o[m].bullets.push({text:h.text,needsInput:!!h.needs_input,isAdded:!0})})}),o.forEach(u=>{Array.isArray(u?.bullets)&&(u.bullets=Iy(u.bullets))}),{...n,experience:o}},gj=(n,a)=>{if(!n||!a)return null;const r=Array.isArray(n?.summary_new)?n.summary_new.filter(Boolean):a.summaryLines,o=Array.isArray(n?.skills_to_add)?n.skills_to_add.map(h=>h?.skill).filter(Boolean):[],u=eb(a.skills||[],o),m=new Set(o.map(h=>h.toLowerCase())),f=xj(a,n?.experience_bullets_to_add);return{name:a.name||"",headline:n?.headline_new||a.headline||"",summaryLines:r,skills:u,experience:f?.experience||a.experience,addedSkills:m}},yj=n=>{if(!n)return null;if(typeof n=="string")try{return JSON.parse(n)}catch{return null}return n},bj=()=>{const{user:n}=Wt(),a=Array.isArray(n?.roles)?n.roles:[],r=nf(a),o=ql(a),{profiles:u,loading:m,error:f}=ef({endpointPath:r}),[h,x]=b.useState(""),[p,y]=b.useState(null),[v,j]=b.useState("manual"),[k,T]=b.useState(""),[_,H]=b.useState(""),[$,G]=b.useState(!1),[D,S]=b.useState(""),[E,U]=b.useState(null),[L,V]=b.useState(!1),[J,se]=b.useState(!1),[he,ce]=b.useState(!1),te=b.useRef(null),ee=b.useMemo(()=>u.find(fe=>fe.id===p)||null,[u,p]),K=b.useMemo(()=>ee?pj(ee):null,[ee]),A=b.useMemo(()=>E&&K?gj(E,K):null,[E,K]),O=b.useMemo(()=>{if(typeof E?.match_score=="number")return E.match_score;if(!E)return null;const fe=_.trim()?_.trim().split(/\s+/).length:0;return Math.min(92,70+Math.min(20,Math.floor(fe/10)))},[E,_]),W=b.useMemo(()=>{if(!h)return u;const fe=h.toLowerCase();return u.filter(Se=>Se.name?.toLowerCase().includes(fe)||Se.subtitle?.toLowerCase().includes(fe)||Se.templateTitle?.toLowerCase().includes(fe))},[u,h]),re=ee?eg(ee):!1,z=!!(ee?.templateId||ee?.raw?.resume_template_id),N=!!(E&&ee&&z),B=fe=>{fe?.raw?.locked||fe?.raw?.permission==="locked"||(y(fe.id),U(null),V(!1),S(""))},ae=async({regenerate:fe=!1}={})=>{if(!(!ee||!z||!_.trim()||$)){G(!0),S("");try{const Se=typeof window<"u"?window.localStorage.getItem(Xe):null,Ce=await fetch(J2,{method:"POST",headers:{"Content-Type":"application/json",...Se?{Authorization:`Bearer ${Se}`}:{}},body:JSON.stringify({job_description:_.trim(),profile_id:ee?.id,regenerate:fe})});if(!Ce.ok){const le=Ce.headers.get("content-type")||"",ge=await Ce.text();let Ae=ge;if(le.includes("application/json"))try{const we=JSON.parse(ge||"{}");Ae=we?.message||we?.error||ge}catch{Ae=ge}throw new Error(Ae||`Failed to generate resume (${Ce.status})`)}const Oe=(Ce.headers.get("content-type")||"").includes("application/json")?await Ce.json():await Ce.text(),P=yj(Oe);if(!P)throw new Error("AI response was empty.");U(P),V(!1),se(!0),window.setTimeout(()=>se(!1),1200),te.current?.scrollIntoView({behavior:"smooth",block:"start"})}catch(Se){S(Se?.message||"We couldn't generate this resume. Try adjusting the job description.")}finally{G(!1)}}},de=async fe=>{if(!qe)throw new Error("API base URL not configured.");const Se=typeof window<"u"?window.localStorage.getItem(Xe):null,Ce=await fetch(`${qe}/templates/${fe}`,{headers:{...Se?{Authorization:`Bearer ${Se}`}:{}}});if(Ce.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!Ce.ok){const ze=await Ce.text();throw new Error(ze||`Failed to load template (${Ce.status})`)}return Ce.json()},ye=async fe=>{if(!ee||!E)return;const Se=ee?.templateId||ee?.raw?.resume_template_id;if(!Se){S("Select a resume template to preview.");return}if(!he){ce(!0);try{const Ce=await de(String(Se));if(!Ce?.code)throw new Error("Template code not found.");const ze=mj(ee?.raw?.base_resume??ee?.raw?.baseResume??{}),Oe=uj(ze,E),P={resume:Oe,tailored:E},le=rj(String(Ce.code),P),ge=`<script>window.__RESUME__ = ${JSON.stringify(Oe)}; window.__TAILORED__ = ${JSON.stringify(E)};<\/script>`,Ae=oj(le,ge),we=window.open("","_blank");if(!we)throw new Error("Popup blocked. Please allow popups and try again.");if(fe){const ot=fj(Ae,Ce.title||"Resume");we.document.open(),we.document.write(ot),we.document.close(),we.focus(),we.onload=()=>{we.print()};return}const it=dj(Ae,E,Ce.title||"Resume Preview");we.document.open(),we.document.write(it),we.document.close()}catch(Ce){S(Ce?.message||"Unable to open preview.")}finally{ce(!1)}}},ne=()=>{typeof window>"u"||(window.history.pushState({},"",o),window.dispatchEvent(new PopStateEvent("popstate")))},me=(fe,Se)=>{if(!fe)return null;const Ce=Se?.highlightAdded??!1,ze=Se?.addedSkills??new Set;return i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-ink",children:fe.name||"Resume"}),i.jsx("p",{className:"text-sm text-ink-muted",children:fe.headline||"Headline not provided."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Summary"}),i.jsx("div",{className:"mt-2 space-y-2 text-sm text-ink",children:fe.summaryLines?.length?fe.summaryLines.map((Oe,P)=>i.jsx("p",{className:"leading-relaxed",children:Oe},`${fe.name}-summary-${P}`)):i.jsx("p",{className:"text-ink-muted",children:"No summary available."})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Skills"}),i.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:fe.skills?.length?fe.skills.map(Oe=>{const P=Ce&&ze.has(Oe.toLowerCase());return i.jsx("span",{className:`px-2 py-1 rounded-full border text-xs font-medium ${P?"bg-accent-primary/10 text-accent-primary border-accent-primary/30":"bg-white border-border text-ink"}`,children:Oe},`${fe.name}-skill-${Oe}`)}):i.jsx("p",{className:"text-sm text-ink-muted",children:"No skills listed."})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Experience"}),i.jsx("div",{className:"mt-3 space-y-4",children:fe.experience?.length?fe.experience.map((Oe,P)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:Oe.company||"Company"}),Oe.role?i.jsx("p",{className:"text-xs text-ink-muted",children:Oe.role}):null]}),Oe.dates?i.jsx("span",{className:"text-xs text-ink-muted",children:Oe.dates}):null]}),Oe.bullets?.length?i.jsx("ul",{className:"list-disc pl-5 space-y-2 text-sm text-ink",children:Oe.bullets.map((le,ge)=>i.jsxs("li",{className:"leading-relaxed",children:[Ce&&le.isAdded?i.jsx("span",{className:"inline rounded bg-amber-50 border border-amber-100 px-1.5 py-0.5",children:le.text}):le.text,le.needsInput?i.jsx("span",{className:"ml-2 rounded-full bg-amber-50 px-2 py-0.5 text-[11px] font-semibold text-amber-700",children:"Needs input"}):null]},`${fe.name}-exp-${P}-${ge}`))}):i.jsx("p",{className:"text-xs text-ink-muted",children:"No bullets provided."})]},`${fe.name}-exp-${P}`)):i.jsx("p",{className:"text-sm text-ink-muted",children:"No experience data."})})]})]})};return i.jsx("main",{className:"bg-[#F5F7FB] min-h-[calc(100vh-64px)] border-t border-border px-4 py-6",children:i.jsxs("div",{className:"mx-auto",children:[i.jsxs("div",{className:"hidden lg:grid grid-cols-[260px_420px_minmax(0,1fr)] gap-5",children:[i.jsxs("section",{className:"bg-white border border-border h-[calc(100vh-128px)] flex flex-col",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur px-5 pt-5 pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Profiles"}),i.jsx("h2",{className:"text-base font-semibold text-ink",children:"Who am I applying as?"})]}),i.jsx($y,{size:18,className:"text-accent-primary"})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 rounded-lg bg-page border border-border px-3 py-2",children:[i.jsx(Do,{size:16,className:"text-ink-muted"}),i.jsx("input",{value:h,onChange:fe=>x(fe.target.value),placeholder:"Search profiles...",className:"w-full bg-transparent text-sm text-ink placeholder:text-ink-muted focus:outline-none"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-4",children:m?i.jsx("div",{className:"space-y-3 pt-4",children:[1,2,3,4].map(fe=>i.jsx("div",{className:"h-20 rounded-lg bg-page border border-border animate-pulse"},fe))}):f?i.jsx("div",{className:"mt-4 text-sm text-red-500",children:f}):W.length===0?i.jsx("div",{className:"mt-4 text-sm text-ink-muted",children:"No profiles found."}):i.jsx("div",{className:"space-y-3 pt-3",children:W.map(fe=>{const Se=eg(fe),Ce=!!(fe?.raw?.locked||fe?.raw?.permission==="locked"),ze=fe.id===p;return i.jsx("button",{type:"button",title:"View profile",onClick:()=>B(fe),className:`w-full text-left rounded-lg px-3 py-3 transition duration-150 ${Ce?"opacity-60 cursor-not-allowed":"hover:bg-[#EEF2F7]"} ${ze?"bg-search ring-1 ring-accent-primary/40":"bg-search"}`,children:i.jsx("div",{className:"flex items-start gap-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:fe.name}),ze?i.jsx("span",{className:"text-xs font-semibold text-accent-primary",children:"Selected"}):null]}),i.jsx("p",{className:"text-xs text-ink-muted mt-0.5",children:fe.subtitle}),i.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs",children:Ce?i.jsxs(i.Fragment,{children:[i.jsx(T2,{size:14,className:"text-ink-muted"}),i.jsx("span",{className:"text-ink-muted",children:"Locked"})]}):Se?i.jsxs(i.Fragment,{children:[i.jsx(My,{size:14,className:"text-accent-success"}),i.jsx("span",{className:"text-ink",children:"Status: Ready"})]}):i.jsxs(i.Fragment,{children:[i.jsx(L2,{size:14,className:"text-accent-warning"}),i.jsx("span",{className:"text-ink",children:"Missing base resume"})]})})]})})},fe.id)})})}),i.jsx("div",{className:"px-5 pb-5 pt-2",children:i.jsxs("button",{type:"button",onClick:ne,className:"w-full flex items-center justify-center gap-2 rounded-lg bg-border py-2.5 text-sm font-semibold text-ink hover:bg-[#DDE3EA] transition",children:[i.jsx(Id,{size:16}),"Create New Profile"]})})]}),i.jsxs("section",{className:" bg-white border border-border h-[calc(100vh-128px)] flex flex-col",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur px-5 pt-5 pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Job Description"}),i.jsx("h2",{className:"text-base font-semibold text-ink",children:"What job are we applying for?"})]}),i.jsx(zy,{size:18,className:"text-accent-primary"})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-5",children:[ee?null:i.jsx("div",{className:"rounded-lg bg-page border border-border px-4 py-3 text-sm text-ink-muted mb-4",children:"Select a profile to begin generating resumes."}),ee&&!re?i.jsx("div",{className:"rounded-xl bg-amber-50 text-amber-700 text-sm px-4 py-3 mb-4",children:"This profile is missing a base resume. Results may be limited."}):null,ee&&!z?i.jsx("div",{className:"rounded-xl bg-slate-100 text-slate-700 text-sm px-4 py-3 mb-4",children:"Select a resume template for this profile to generate a tailored resume."}):null,i.jsxs("div",{className:`${ee&&z?"":"pointer-events-none opacity-60"}`,children:[i.jsxs("div",{className:"mb-5",children:[i.jsx("label",{className:"text-sm font-semibold text-ink",children:"Job Source (Optional)"}),i.jsxs("div",{className:"mt-2 grid grid-cols-[140px_1fr] gap-3",children:[i.jsxs("select",{value:v,onChange:fe=>j(fe.target.value),className:"rounded-lg bg-page border border-border px-3 py-2 text-sm text-ink focus:outline-none",children:[i.jsx("option",{value:"manual",children:"Manual Paste"}),i.jsx("option",{value:"linkedin",children:"LinkedIn"}),i.jsx("option",{value:"indeed",children:"Indeed"}),i.jsx("option",{value:"url",children:"URL"})]}),v==="url"?i.jsx("input",{value:k,onChange:fe=>T(fe.target.value),placeholder:"Paste the job posting URL",className:"rounded-lg bg-page border border-border px-3 py-2 text-sm text-ink focus:outline-none"}):i.jsx("div",{className:"rounded-lg bg-page border border-border px-3 py-2 text-sm text-ink-muted flex items-center",children:"Optional link will appear here."})]})]}),i.jsxs("div",{className:"mb-5",children:[i.jsx("label",{className:"text-sm font-semibold text-ink",children:"Job Description"}),i.jsx("textarea",{value:_,onChange:fe=>H(fe.target.value),className:"mt-2 w-full min-h-[240px] rounded-lg bg-page border border-border px-4 py-3 text-sm text-ink focus:outline-none",placeholder:"Paste the full job description here. Responsibilities, requirements, tech stack..."}),i.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-ink-muted",children:[i.jsxs("span",{children:[_.trim()?_.trim().split(/\s+/).length:0," words"]}),_?i.jsx("span",{className:"text-ink-muted",children:"Ready to generate"}):i.jsx("span",{className:"text-ink-muted",children:"Paste a job description to continue"})]})]}),i.jsx("button",{type:"button",onClick:()=>ae({regenerate:!0}),disabled:!ee||!z||!_.trim()||$,className:`mt-5 w-full flex items-center justify-center gap-2 rounded-lg py-3 text-sm font-semibold transition ${!ee||!z||!_.trim()||$?"bg-border text-ink-muted cursor-not-allowed":"bg-accent-primary text-white hover:shadow-soft"}`,children:$?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"h-4 w-4 border-2 border-white/60 border-t-white rounded-full animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(P2,{size:16}),"Generate Resume"]})})]})]})]}),i.jsxs("section",{className:" bg-white border border-border h-[calc(100vh-128px)] flex flex-col",children:[i.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur px-5 pt-5 pb-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Generated Resume"}),i.jsx("h2",{className:"text-base font-semibold text-ink",children:"Generated Resume"}),i.jsxs("p",{className:"text-sm text-ink-muted mt-1",children:["Score: ",O!==null?`${Math.round(O)}% Match`:"--"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>ae({regenerate:!1}),disabled:!ee||!z||!_.trim()||$,className:"px-3 py-2 rounded-lg bg-border text-xs font-semibold text-ink hover:bg-[#DDE3EA] disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ka,{size:14}),"Regenerate"]})}),i.jsx("button",{type:"button",onClick:()=>V(fe=>!fe),disabled:!A||!K,className:`px-3 py-2 rounded-lg text-xs font-semibold transition ${L?"bg-accent-primary text-white":"bg-border text-ink hover:bg-[#DDE3EA]"} disabled:opacity-50 disabled:cursor-not-allowed`,children:L?"Hide Compare":"Compare with Base"})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto px-5 pb-24",children:$?i.jsxs("div",{className:"mt-10 flex flex-col items-center gap-3 text-ink-muted",children:[i.jsx("span",{className:"h-8 w-8 border-2 border-accent-primary/60 border-t-accent-primary rounded-full animate-spin"}),"Generating tailored resume..."]}):D?i.jsx("div",{className:"mt-6 rounded-lg bg-red-50 text-red-600 px-4 py-3 text-sm",children:D}):ee?ee&&!z?i.jsx("div",{className:"mt-6 rounded-lg bg-page border border-border px-4 py-3 text-sm text-ink-muted",children:"Select a resume template for this profile to view generated results."}):_.trim()?A?i.jsxs("div",{ref:te,className:`mt-6 mx-auto w-full rounded-lg bg-page border border-border p-6 transition ${J?"ring-2 ring-accent-primary/40":""} ${L?"max-w-none":"max-w-[640px]"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-ink",children:ee?.name}),i.jsx("p",{className:"text-sm text-ink-muted",children:ee?.subtitle})]}),i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-accent-primary/10 text-accent-primary",children:"Tailored"})]}),i.jsxs("div",{className:"mt-5 space-y-4",children:[i.jsxs("div",{className:"rounded-lg bg-white border border-border px-4 py-3 text-sm text-ink",children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Match insights"}),i.jsx("p",{className:"mt-2 text-sm text-ink-muted",children:"Tailored summary and add-only bullets are aligned to the JD. Added bullets are highlighted in green; items that need your input are flagged."})]}),L?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 text-slate-700 px-2.5 py-1",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-slate-400"}),"Base Resume"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-100 text-emerald-700 px-2.5 py-1",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Tailored Resume"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-accent-primary/10 text-accent-primary px-2.5 py-1",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-accent-primary"}),"Added skill"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 text-amber-700 px-2.5 py-1",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-500"}),"Needs input"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"rounded-lg bg-slate-50 border border-slate-200 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-slate-400"}),i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-600",children:"Base Resume"})]}),i.jsx("div",{className:"mt-4",children:me(K)})]}),i.jsxs("div",{className:"rounded-lg bg-emerald-50 border border-emerald-200 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-500"}),i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-emerald-700",children:"Tailored Resume"})]}),i.jsx("div",{className:"mt-4",children:me(A,{highlightAdded:!0,addedSkills:A?.addedSkills})})]})]})]}):i.jsx("div",{className:"rounded-lg bg-white border border-border p-4",children:me(A,{highlightAdded:!0,addedSkills:A?.addedSkills})})]})]}):i.jsx("div",{className:"mt-6 rounded-lg bg-page border border-border px-4 py-3 text-sm text-ink-muted",children:'Ready to generate. Click "Generate Resume" to see results.'}):i.jsx("div",{className:"mt-6 rounded-lg bg-page border border-border px-4 py-3 text-sm text-ink-muted",children:"Paste a job description to tailor your resume."}):i.jsx("div",{className:"mt-6 rounded-lg bg-page border border-border px-4 py-3 text-sm text-ink-muted",children:"Select a profile to begin generating resumes."})}),i.jsx("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur px-5 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{type:"button",onClick:()=>ye(!1),disabled:!N||he,className:"flex-1 px-3 py-2 rounded-lg bg-border text-ink text-sm font-semibold hover:bg-[#DDE3EA] disabled:opacity-60 disabled:cursor-not-allowed",children:he?"Opening...":"Preview"}),i.jsx("button",{type:"button",onClick:()=>ye(!0),disabled:!N||he,className:"flex-1 px-3 py-2 rounded-lg bg-accent-primary text-white text-sm font-semibold hover:shadow-soft disabled:opacity-60 disabled:cursor-not-allowed",children:"Export PDF"}),i.jsx("button",{type:"button",className:"flex-1 px-3 py-2 rounded-lg bg-border text-ink text-sm font-semibold hover:bg-[#DDE3EA]",children:"Export DOCX"})]})})]})]}),i.jsxs("div",{className:"lg:hidden rounded-xl bg-white border border-border px-6 py-10 text-center text-ink",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Resume Generator is desktop-only."}),i.jsx("p",{className:"text-sm text-ink-muted mt-2",children:"Switch to a larger screen to build tailored resumes."})]})]})})},hi=qe?`${qe}/templates`:"/templates",vj=`<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Resume</title>
  <style>
    body { font-family: "Arial", sans-serif; margin: 32px; color: #0f172a; }
    h1 { font-size: 24px; margin: 0 0 4px; }
    h2 { font-size: 12px; margin: 20px 0 6px; text-transform: uppercase; letter-spacing: 2px; color: #475569; }
    p, li { font-size: 13px; line-height: 1.5; }
    .muted { color: #64748b; font-size: 12px; }
    .resume-item { margin-bottom: 12px; }
    .resume-meta { color: #64748b; font-size: 12px; }
    .section { margin-top: 16px; }
  </style>
</head>
<body>
  <header>
    <h1>{{profile.name}}</h1>
    <div class="muted">{{profile.headline}} | {{profile.contact.location}}</div>
    <div class="muted">
      {{profile.contact.email}} | {{profile.contact.phone}} | {{profile.contact.linkedin}}
    </div>
  </header>
  <section class="section">
    <h2>Summary</h2>
    <p>{{summary}}</p>
  </section>
  <section class="section">
    <h2>Experience</h2>
    {{work_experience}}
  </section>
  <section class="section">
    <h2>Education</h2>
    {{education}}
  </section>
  <section class="section">
    <h2>Skills</h2>
    <p>{{skills}}</p>
  </section>
</body>
</html>`,wj=`<!doctype html>
<html>
<body style="font-family: Arial, sans-serif; padding: 24px; color: #475569;">
  <p>No HTML to preview yet.</p>
</body>
</html>`,jj=()=>({title:"",description:"",code:""}),uo=n=>({title:n?.title||"",description:n?.description||"",code:n?.code||""}),Nj=n=>{if(!n)return"N/A";const a=new Date(n);return Number.isNaN(a.getTime())?"N/A":a.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})},tb=n=>!!(n&&typeof n=="object"&&"__html"in n),Dn=n=>n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),Bn=n=>n==null?"":String(n).trim(),Sj=n=>{const a=n??[];return a.length?a.map(r=>{const o=[r.roleTitle,r.companyTitle].map(Bn).filter(Boolean).join(" - "),u=[r.startDate,r.endDate].map(Bn).filter(Boolean).join(" - "),m=[r.location,r.employmentType].map(Bn).filter(Boolean).join(" | "),f=(r.bullets??[]).map(Bn).filter(Boolean),h=f.length?`<ul>${f.map(v=>`<li>${Dn(v)}</li>`).join("")}</ul>`:"",x=Dn(o||"Role"),p=u?`<div class="resume-meta">${Dn(u)}</div>`:"",y=m?`<div class="resume-meta">${Dn(m)}</div>`:"";return`<div class="resume-item"><div><strong>${x}</strong></div>${p}${y}${h}</div>`}).join(""):""},kj=n=>{const a=n??[];return a.length?a.map(r=>{const o=[r.degree,r.field].map(Bn).filter(Boolean).join(" - "),u=[r.institution,o].map(Bn).filter(Boolean).join(" | "),m=Bn(r.date),f=(r.coursework??[]).map(Bn).filter(Boolean),h=f.length?`Coursework: ${f.join(", ")}`:"",x=m?`<div class="resume-meta">${Dn(m)}</div>`:"",p=h?`<div class="resume-meta">${Dn(h)}</div>`:"";return`<div class="resume-item"><div><strong>${Dn(u||"Education")}</strong></div>${x}${p}</div>`}).join(""):""},Aj=n=>{const a=n.Profile??{},r=a.contact??{},o=n.summary??{},u=n.skills??{};return{profile:{name:a.name||"",headline:a.headline||"",contact:{location:r.location||"",email:r.email||"",phone:r.phone||"",linkedin:r.linkedin||""}},Profile:{name:a.name||"",headline:a.headline||"",contact:{location:r.location||"",email:r.email||"",phone:r.phone||"",linkedin:r.linkedin||""}},summary:{text:o.text||""},skills:{raw:u.raw??[]},work_experience:n.workExperience??[],education:n.education??[]}},tg=()=>({Profile:{name:"Alex Johnson",headline:"Senior Software Engineer",contact:{location:"Austin, TX",email:"alex.johnson@example.com",phone:"+1 (555) 123-4567",linkedin:"linkedin.com/in/alexjohnson"}},summary:{text:"Senior engineer focused on scalable backend systems, developer tooling, and clean UI."},workExperience:[{companyTitle:"Arcadia",roleTitle:"Senior Software Engineer",employmentType:"Full-time",location:"Remote",startDate:"2021",endDate:"Present",bullets:["Built scalable API platform with 99.9% uptime.","Led team of 4 engineers across core services."]},{companyTitle:"Horizon Labs",roleTitle:"Software Engineer",employmentType:"Full-time",location:"Austin, TX",startDate:"2018",endDate:"2021",bullets:["Shipped customer-facing features in React + Node."]}],education:[{institution:"State University",degree:"BSc Computer Science",field:"Computer Science",date:"2018"}],skills:{raw:["TypeScript","React","Node.js","PostgreSQL","AWS"]}}),ng=(n,a)=>{if(!n.trim())return"";const r=Aj(a);return Tj(n,r)},Tj=(n,a)=>yo(n,[a]),yo=(n,a)=>{let r="",o=0;for(;o<n.length;){const u=n.indexOf("{{",o);if(u==-1){r+=n.slice(o);break}r+=n.slice(o,u);const m=n.indexOf("}}",u+2);if(m==-1){r+=n.slice(u);break}const f=n.slice(u+2,m).trim();if(o=m+2,!f)continue;const h=f[0];if(h=="#"||h=="^"){const p=f.slice(1).trim();if(!p)continue;const y=Ej(n,o,p);if(!y)continue;const v=n.slice(o,y.start);o=y.end;const j=sg(p,a),k=Mj(j);h=="#"?Array.isArray(j)?j.length&&j.forEach(T=>{r+=yo(v,ag(a,T))}):k&&(r+=yo(v,ag(a,j))):k||(r+=yo(v,a));continue}if(h=="/")continue;const x=sg(f,a);r+=Dj(x,f)}return r},Ej=(n,a,r)=>{let o=a,u=1;for(;o<n.length;){const m=n.indexOf("{{",o);if(m==-1)return null;const f=n.indexOf("}}",m+2);if(f==-1)return null;const h=n.slice(m+2,f).trim();if(o=f+2,!h)continue;const x=h[0],p=x=="#"||x=="^"||x=="/"?h.slice(1).trim():"";if(p&&((x=="#"||x=="^")&&p==r&&(u+=1),x=="/"&&p==r&&(u-=1,u==0)))return{start:m,end:f+2}}return null},sg=(n,a)=>{if(n==".")return Cj(a);const r=n.split(".");for(let o=0;o<a.length;o+=1){const u=_j(a[o],r);if(u!==void 0)return u}},Cj=n=>{for(let a=0;a<n.length;a+=1){const r=n[a];if(r&&typeof r=="object"&&"."in r)return r["."];if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return r}},_j=(n,a)=>{if(!n||typeof n!="object")return;let r=n;for(const o of a){if(!r||typeof r!="object"||!(o in r))return;r=r[o]}return r},ag=(n,a)=>a==null?n:a&&typeof a=="object"?[a,...n]:[{".":a},...n],Mj=n=>Array.isArray(n)?n.length>0:tb(n)?!!n.__html:n==null?!1:typeof n=="boolean"?n:typeof n=="string"?n.trim().length>0:typeof n=="number"?n!==0:typeof n=="object"?!0:!!n,Dj=(n,a)=>{if(tb(n))return n.__html;if(n==null)return"";if(Array.isArray(n)){if(a=="workExperience"||a=="work_experience")return Sj(n);if(a=="education")return kj(n);if(a=="skills.raw"){const o=n.map(u=>Bn(u)).filter(Boolean).join(", ");return Dn(o)}const r=n.map(o=>Bn(o)).filter(Boolean).join(", ");return Dn(r)}if(typeof n=="object"){const r=n;if(typeof r.text=="string")return Dn(r.text);if(Array.isArray(r.raw)){const o=r.raw.map(u=>Bn(u)).filter(Boolean).join(", ");return Dn(o)}return""}return typeof n=="boolean"?n?"true":"":Dn(String(n))},ig=n=>{const a=n.trim().toLowerCase();return!a.startsWith("<!doctype")&&!a.startsWith("<html")?`<!doctype html><html><body>${n}</body></html>`:n},Rj=()=>{const{user:n}=Wt(),a=Array.isArray(n?.roles)?n.roles:[],r=a.includes("admin")||a.includes("manager"),[o,u]=b.useState([]),[m,f]=b.useState(null),[h,x]=b.useState("view"),[p,y]=b.useState(jj()),[v,j]=b.useState(!1),[k,T]=b.useState(!0),[_,H]=b.useState(!1),[$,G]=b.useState(!1),[D,S]=b.useState(""),E=r?`${hi}?scope=all`:hi,U=b.useMemo(()=>o.find(A=>A.id===m)||null,[o,m]);b.useEffect(()=>{(async()=>{const O=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!O){S("Missing token"),T(!1);return}try{T(!0),S("");const W=await fetch(E,{headers:{Authorization:`Bearer ${O}`}});if(W.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!W.ok){const N=await W.text();throw new Error(N||"Failed to load templates.")}const re=await W.json(),z=Array.isArray(re?.items)?re.items:[];u(z)}catch(W){S(W?.message||"Unable to load templates."),u([])}finally{T(!1)}})()},[E]),b.useEffect(()=>{if(!o.length){f(null);return}(!m||!o.some(A=>A.id===m))&&f(o[0].id)},[o,m]),b.useEffect(()=>{h==="view"&&U&&y(uo(U))},[h,U]);const L=b.useMemo(()=>{const A=h==="view"?U?.code||"":p.code;if(!A.trim())return wj;const O=ng(A,tg());return ig(O)},[h,U,p.code]),V=()=>{x("create"),f(null),y({title:"",description:"",code:vj}),j(!0),S("")},J=async A=>{const O=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!O)return S("Missing token"),null;try{H(!0);const W=await fetch(`${hi}/${A}`,{headers:{Authorization:`Bearer ${O}`}});if(W.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!W.ok){const z=await W.text();throw new Error(z||"Unable to load template.")}const re=await W.json();return u(z=>z.map(N=>N.id===A?{...N,...re}:N)),re}catch(W){return S(W?.message||"Unable to load template."),null}finally{H(!1)}},se=async A=>{x("view"),f(A),j(!0),S("");const O=await J(A);O&&y(uo(O))},he=async A=>{x("edit"),f(A),j(!0);const O=await J(A);y(uo(O)),S("")},ce=async A=>{if(typeof window>"u")return;const W=(await J(A))?.code||"";if(!W.trim()){S("Template HTML is empty.");return}const re=ng(W,tg()),z=ig(re),N=window.open("","_blank","noopener,noreferrer");if(!N){S("Popup blocked. Please allow popups and try again.");return}N.document.open(),N.document.write(z),N.document.close()},te=()=>{j(!1),x("view"),U&&y(uo(U))},ee=async()=>{const A=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!A){S("Missing token");return}const O=p.title.trim(),W=p.code.trim();if(!O||!W){S("Template name and HTML are required.");return}try{if(G(!0),S(""),h==="create"){const re=await fetch(hi,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({title:O,description:p.description.trim()||null,code:W})});if(!re.ok){const N=await re.text();throw new Error(N||"Unable to create template.")}const z=await re.json();u(N=>[z,...N]),f(z.id),x("view")}else if(h==="edit"&&U){const re=await fetch(`${hi}/${U.id}`,{method:"PATCH",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({title:O,description:p.description.trim()||null,code:W})});if(!re.ok){const N=await re.text();throw new Error(N||"Unable to update template.")}const z=await re.json();u(N=>N.map(B=>B.id===z.id?z:B)),x("view")}}catch(re){S(re?.message||"Unable to save template.")}finally{G(!1)}},K=async A=>{const O=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!O){S("Missing token");return}if(window.confirm("Delete this template?"))try{G(!0),S("");const re=await fetch(`${hi}/${A}`,{method:"DELETE",headers:{Authorization:`Bearer ${O}`}});if(!re.ok){const N=await re.text();throw new Error(N||"Unable to delete template.")}const z=o.filter(N=>N.id!==A);u(z),m===A&&f(z[0]?.id??null),j(!1)}catch(re){S(re?.message||"Unable to delete template.")}finally{G(!1)}};return i.jsxs("main",{className:"bg-main min-h-[calc(100vh-64px)] border-t border-border px-8 py-8",children:[i.jsxs("div",{className:"mx-auto max-w-[1440px] space-y-6",children:[i.jsx("header",{className:"flex items-start justify-between gap-4",children:r?i.jsxs("button",{type:"button",onClick:V,className:"inline-flex items-center gap-2 rounded-lg bg-accent-primary px-4 py-2 text-sm font-semibold text-white hover:brightness-105",children:[i.jsx(Id,{size:16}),"New Template"]}):null}),D?i.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:D}):null,i.jsxs("section",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-ink",children:"Templates"}),i.jsxs("p",{className:"text-xs text-ink-muted",children:[o.length," total"]})]})}),k?i.jsx("div",{className:"rounded-2xl border border-border bg-white px-4 py-6 text-sm text-ink-muted",children:"Loading templates..."}):o.length===0?i.jsx("div",{className:"rounded-2xl border border-border bg-white px-4 py-6 text-sm text-ink-muted",children:"No templates yet. Create one to get started."}):i.jsx("div",{className:`grid gap-4 sm:grid-cols-2 lg:grid-cols-4 transition ${v?"blur-sm pointer-events-none":""}`,children:o.map(A=>{const O=A.id===m;return i.jsxs("button",{type:"button",onClick:()=>{se(A.id)},className:`group rounded-2xl border border-border bg-white p-4 text-left shadow-sm transition hover:-translate-y-0.5 hover:shadow-md ${O?"ring-2 ring-accent-primary/40":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-ink-muted",children:"Template"}),i.jsx("h3",{className:"mt-1 text-base font-semibold text-ink truncate",children:A.title})]}),i.jsx("button",{type:"button",onClick:W=>{W.stopPropagation(),ce(A.id)},className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-border text-ink-muted hover:text-ink hover:bg-gray-50",title:"Open preview","aria-label":"Open preview",children:i.jsx(Fd,{size:16})})]}),i.jsx("div",{className:"mt-3 rounded-xl border border-dashed border-border bg-gray-50 px-3 py-3 text-xs text-ink-muted",children:A.description||"No description"}),i.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-ink-muted",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-ink",children:A.people_count??0})," people using"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-ink",children:A.profile_count??0})," profiles using"]})]}),i.jsxs("div",{className:"mt-3 text-[11px] uppercase tracking-[0.2em] text-ink-muted",children:["Updated ",Nj(A.updated_at||A.created_at)]})]},A.id)})})]})]}),i.jsx("aside",{"aria-hidden":!v,className:`fixed right-0 top-0 z-40 h-screen w-full max-w-3xl transform border-l border-border bg-white shadow-2xl transition-transform duration-300 ${v?"translate-x-0":"translate-x-full"}`,children:i.jsxs("div",{className:"flex h-full flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border px-6 py-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:h==="create"?"Create template":h==="edit"?"Edit template":"Template"}),i.jsx("h2",{className:"text-lg font-semibold text-ink",children:h==="view"?U?.title||"Template":p.title||"Untitled"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[h!=="view"?i.jsxs("button",{type:"button",onClick:ee,className:"inline-flex items-center gap-2 rounded-lg bg-accent-primary px-3 py-2 text-sm font-semibold text-white",disabled:$,children:[i.jsx(D2,{size:16}),$?"Saving...":"Save"]}):i.jsxs("button",{type:"button",onClick:()=>U&&he(U.id),className:"inline-flex items-center gap-2 rounded-lg border border-border px-3 py-2 text-sm font-semibold text-ink hover:bg-gray-50",children:[i.jsx(Ly,{size:16}),"Edit"]}),h==="view"&&U?i.jsx("button",{type:"button",onClick:()=>K(U.id),className:"inline-flex items-center justify-center rounded-md border border-red-200 p-2 text-red-600 hover:bg-red-50","aria-label":"Delete template",children:i.jsx($l,{size:18})}):null,i.jsx("button",{type:"button",onClick:te,className:"inline-flex items-center justify-center rounded-md border border-border p-2 text-ink-muted hover:text-ink hover:bg-gray-50","aria-label":"Close",children:i.jsx(Si,{size:18})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6",children:h==="view"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"rounded-xl border border-border bg-gray-50 px-4 py-3 text-sm text-ink",children:U?.description||"No description provided."}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Preview"}),i.jsx("div",{className:"mt-2 overflow-hidden rounded-xl border border-border bg-white",children:_?i.jsx("div",{className:"px-4 py-6 text-sm text-ink-muted",children:"Loading preview..."}):i.jsx("iframe",{title:"Resume template preview",srcDoc:L,className:"h-[520px] w-full"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("label",{className:"flex flex-col gap-1 text-sm text-ink",children:["Template name",i.jsx("input",{value:p.title,onChange:A=>y(O=>({...O,title:A.target.value})),className:"rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Template name"})]}),i.jsxs("label",{className:"flex flex-col gap-1 text-sm text-ink",children:["Description",i.jsx("textarea",{rows:2,value:p.description,onChange:A=>y(O=>({...O,description:A.target.value})),className:"rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Template description"})]}),i.jsxs("label",{className:"flex flex-col gap-1 text-sm text-ink",children:["HTML",i.jsx("textarea",{rows:12,value:p.code,onChange:A=>y(O=>({...O,code:A.target.value})),className:"rounded-lg border border-border px-3 py-2 font-mono text-xs focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Paste template HTML"})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Preview"}),i.jsx("div",{className:"mt-2 overflow-hidden rounded-xl border border-border bg-white",children:_?i.jsx("div",{className:"px-4 py-6 text-sm text-ink-muted",children:"Loading preview..."}):i.jsx("iframe",{title:"Resume template preview",srcDoc:L,className:"h-[520px] w-full"})})]})]})})]})})]})},nb=n=>{if(!n)return"";const a=new Date(n);return Number.isNaN(a.getTime())?n:a.toLocaleString()},Kn=n=>n.toISOString().slice(0,10),fo=n=>{if(!n)return null;const a=new Date(`${n}T00:00:00`);return Number.isNaN(a.getTime())?null:a},Al=(n,a)=>{const r=new Date(n);return r.setDate(r.getDate()+a),r},zj=(n,a)=>{const r=new Date(n);return r.setMonth(r.getMonth()+a),r},Uj=n=>{const a=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=(a.getDay()+6)%7;return a.setDate(a.getDate()-o),a},sb=n=>new Date(n.getFullYear(),n.getMonth()+1,0),lg=(n,a)=>{if(a==="Daily"){const u=new Date(n.getFullYear(),n.getMonth(),n.getDate());return{from:u,to:u}}if(a==="Monthly"){const u=new Date(n.getFullYear(),n.getMonth(),1),m=sb(u);return{from:u,to:m}}const r=Uj(n),o=Al(r,6);return{from:r,to:o}},Sl=n=>{const a=n??"";return a.includes(",")||a.includes('"')||a.includes(`
`)?`"${a.replace(/"/g,'""')}"`:a},Oj=n=>{const a=["User","Profile","Applied By","URL","Applied At"],r=n.flatMap(o=>(o.bids||[]).map(u=>[Sl(u.profile_owner_username||""),Sl(u.profile_name||u.profile_id||""),Sl(o.user_username||o.user_email||o.user_id||""),Sl(o.url||""),Sl(nb(u.timestamp||""))]));return[a.join(","),...r.map(o=>o.join(","))].join(`
`)},Lj=(n,a)=>{const r=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),u=document.createElement("a");u.href=o,u.download=n,document.body.appendChild(u),u.click(),u.remove(),URL.revokeObjectURL(o)},Bj=()=>{const{user:n}=Wt(),a=Array.isArray(n?.roles)?n.roles:[],r=Nw(a),o=qe?`${qe}${r}`:r,u="Weekly",m=lg(new Date,u),[f,h]=b.useState([]),[x,p]=b.useState(!0),[y,v]=b.useState(""),[j,k]=b.useState(""),[T,_]=b.useState(()=>Kn(m.from)),[H,$]=b.useState(()=>Kn(m.to)),[G,D]=b.useState(u),S=!!(j.trim()||T||H),E=async()=>{const te=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!te){v("Missing token"),h([]),p(!1);return}try{p(!0),v("");const ee=new URLSearchParams;j.trim()&&ee.set("q",j.trim()),T&&ee.set("from",T),H&&ee.set("to",H);const K=ee.toString()?`${o}?${ee.toString()}`:o,A=await fetch(K,{headers:{Authorization:`Bearer ${te}`}});if(A.status===401&&typeof window<"u"){window.location.href="/auth";return}if(!A.ok){const re=await A.text();throw new Error(re||"Failed to load applications.")}const O=await A.json(),W=Array.isArray(O)?O:Array.isArray(O?.items)?O.items:[];h(W)}catch(ee){v(ee.message||"Unable to load applications."),h([]),console.error("Error loading applications",ee)}finally{p(!1)}};b.useEffect(()=>{const te=window.setTimeout(()=>{E()},300);return()=>window.clearTimeout(te)},[o,j,T,H]);const U=()=>{k(""),_(""),$("")},L=te=>{D(te);const ee=fo(T)||fo(H)||new Date,K=lg(ee,te);_(Kn(K.from)),$(Kn(K.to))},V=te=>{const ee=te==="next"?1:-1,K=fo(T)||new Date,A=fo(H)||K;if(G==="Daily"){const re=Al(K,ee),z=Al(A,ee);_(Kn(re)),$(Kn(z));return}if(G==="Monthly"){const re=new Date(K.getFullYear(),K.getMonth(),1),z=zj(re,ee);_(Kn(z)),$(Kn(sb(z)));return}const O=Al(K,ee*7),W=Al(A,ee*7);_(Kn(O)),$(Kn(W))},J=te=>{console.warn("Report application",te),window.alert("Report submitted.")},se=async te=>{const ee=typeof window<"u"?window.localStorage.getItem(Xe):null;let K=te.url;if(ee)try{const A=await fetch(`${o}/${te.id}/open`,{headers:{Authorization:`Bearer ${ee}`}});if(A.ok){const O=await A.json();O?.url&&(K=O.url)}}catch{}K&&window.open(K,"_blank","noopener,noreferrer")},he=()=>{const te=Oj(f),ee=new Date().toISOString().slice(0,10);Lj(`applications-${ee}.csv`,te)},ce=b.useMemo(()=>{const te=f.flatMap(ee=>(ee.bids||[]).map(K=>({key:`${ee.id}-${K.profile_id||K.profileId||"profile"}-${K.timestamp||"time"}`,user:K.profile_owner_username||ee.user_username||ee.user_email||"-",profile:K.profile_name||K.profile_id||"-",appliedBy:ee.user_username||ee.user_email||ee.user_id||"-",url:ee.url||"",appliedAt:K.timestamp||"",canReport:!!(K.can_report||ee.is_owner||n?.id&&K.profile_owner_id===n.id||n?.username&&K.profile_owner_username===n.username||n?.email&&K.profile_owner_username===n.email||n?.id&&ee.user_id===n.id),profileId:K.profile_id||K.profileId,appId:ee.id})));return te.sort((ee,K)=>{const A=new Date(ee.appliedAt||0).getTime();return new Date(K.appliedAt||0).getTime()-A}),te},[f,n?.email,n?.id,n?.username]);return i.jsx("main",{className:"bg-main min-h-[calc(100vh-64px)] border-t border-border px-8 py-8",children:i.jsxs("div",{className:"mx-auto max-w-[1440px] space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-ink",children:"Applications"}),i.jsx("p",{className:"text-sm text-ink-muted",children:"Track application history captured by the extension."})]}),i.jsxs("button",{onClick:he,className:"inline-flex items-center gap-2 rounded-lg border border-border bg-white px-3 py-2 text-sm font-semibold text-ink hover:bg-gray-50",children:[i.jsx(p2,{size:16}),"Save as Excel"]})]}),i.jsxs("div",{className:"grid gap-4 rounded-xl border border-border bg-white p-4 md:grid-cols-[1fr_auto]",children:[i.jsxs("label",{className:"flex items-center gap-2 rounded-lg border border-border bg-white px-3 py-2 text-sm text-ink",children:[i.jsx(Do,{size:16,className:"text-ink-muted"}),i.jsx("input",{value:j,onChange:te=>k(te.target.value),placeholder:"Search profile or URL",className:"w-full bg-transparent focus:outline-none"})]}),i.jsx("button",{onClick:U,disabled:!S,className:`rounded-lg border px-3 py-2 text-sm font-semibold ${S?"border-border text-ink hover:bg-gray-50":"border-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Clear"})]}),y?i.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:y}):null,i.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-border bg-white px-4 py-2 text-xs text-ink-muted",children:[i.jsx("button",{type:"button",onClick:()=>V("prev"),className:"rounded-md border border-border px-2 py-1 text-xs font-semibold text-ink hover:bg-gray-50",children:"Prev"}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[11px] uppercase tracking-wide",children:"From"}),i.jsx("input",{type:"date",value:T,onChange:te=>_(te.target.value),className:"rounded-md border border-border px-2 py-1 text-xs text-ink focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[11px] uppercase tracking-wide",children:"To"}),i.jsx("input",{type:"date",value:H,onChange:te=>$(te.target.value),className:"rounded-md border border-border px-2 py-1 text-xs text-ink focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),i.jsx("button",{type:"button",onClick:()=>V("next"),className:"rounded-md border border-border px-2 py-1 text-xs font-semibold text-ink hover:bg-gray-50",children:"Next"}),i.jsxs("select",{value:G,onChange:te=>L(te.target.value),className:"rounded-md border border-border bg-white px-2 py-1 text-xs font-semibold text-ink focus:outline-none focus:ring-1 focus:ring-blue-500",children:[i.jsx("option",{value:"Weekly",children:"Weekly"}),i.jsx("option",{value:"Daily",children:"Daily"}),i.jsx("option",{value:"Monthly",children:"Monthly"})]})]}),i.jsx("div",{className:"overflow-hidden rounded-xl border border-border bg-white",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-xs uppercase tracking-wide text-ink-muted",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"No"}),i.jsx("th",{className:"px-4 py-3",children:"User"}),i.jsx("th",{className:"px-4 py-3",children:"Profile"}),i.jsx("th",{className:"px-4 py-3",children:"Applied By"}),i.jsx("th",{className:"px-4 py-3",children:"URL"}),i.jsx("th",{className:"px-4 py-3",children:"Applied At"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{children:x?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-ink-muted",children:"Loading applications..."})}):ce.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-ink-muted",children:"No applications found."})}):ce.map((te,ee)=>i.jsxs("tr",{className:"border-t border-border",children:[i.jsx("td",{className:"px-4 py-3 text-ink-muted",children:ee+1}),i.jsx("td",{className:"px-4 py-3",children:te.user}),i.jsx("td",{className:"px-4 py-3",children:te.profile}),i.jsx("td",{className:"px-4 py-3",children:te.appliedBy}),i.jsx("td",{className:"px-4 py-3",children:te.url?i.jsxs("button",{type:"button",onClick:()=>se({id:te.appId,url:te.url}),className:"inline-flex items-center gap-1 text-blue-600 hover:underline",children:[i.jsx(g2,{size:14}),te.url]}):"-"}),i.jsx("td",{className:"px-4 py-3",children:nb(te.appliedAt)}),i.jsx("td",{className:"px-4 py-3 text-right",children:te.canReport?i.jsxs("button",{type:"button",onClick:()=>J({url:te.url,profileId:te.profileId,appliedBy:te.appliedBy}),className:"inline-flex items-center gap-1 rounded-md border border-amber-200 px-2 py-1 text-xs font-semibold text-amber-700 hover:bg-amber-50",children:[i.jsx(y2,{size:14}),"Report"]}):i.jsx("span",{className:"text-xs text-ink-muted",children:"-"})})]},te.key))})]})})]})})},Vj=n=>{if(n==null||n==="")return"-";const a=Number(n);return Number.isNaN(a)?String(n):`$${a.toFixed(2)}`},Hj=(n,a)=>{const r=Vj(n);if(r==="-")return r;const u=String(a||"").toLowerCase()==="caller"?"/hr":"/app";return`${r}${u}`},$j=n=>{const a=String(n||"").toLowerCase();return a==="bidder"?"Bidder":a==="caller"?"Caller":a?a.charAt(0).toUpperCase()+a.slice(1):"-"},qj=n=>{if(!n)return"-";const a=new Date(n);return Number.isNaN(a.getTime())?String(n):a.toLocaleString()},Pj=n=>{const a=n.assignee_display_name||n.assignee_email||"-",r=n.assignee_username||"";return a==="-"?"-":r?`${a} (${r})`:a},Gj=n=>{if(!n)return"-";if(typeof n=="string")return n;if(typeof n!="object")return String(n);const a=n.profile_name||n.profileName||n.profile,r=n.job_url||n.jobUrl,o=n.meeting_url||n.meetingUrl,u=n.other||n.notes||n.text,m=n.action||n.request_action||n.type,f=n.note,h=[];return a&&h.push({label:"Profile",value:a}),m&&h.push({label:"Action",value:m}),r&&h.push({label:"Job URL",value:r}),o&&h.push({label:"Meeting URL",value:o}),u&&h.push({label:"Other",value:u}),f&&h.push({label:"Note",value:f}),h.length?i.jsx("div",{className:"space-y-1 text-xs text-ink",children:h.map(x=>i.jsxs("div",{children:[i.jsxs("span",{className:"font-semibold text-ink-muted",children:[x.label,": "]}),i.jsx("span",{children:x.value})]},x.label))}):"-"},Yj=n=>n==="pending"?"Pending":n==="working"?"Working":"Complete",Xj=n=>n.requester_username||n.requester_email||n.user_id||"-",Zj=n=>n?.user_id??n?.userId??n?.id??"",Qj=n=>{const a=n?.detail;if(!a||typeof a!="object")return"";const r=a.action||a.request_action||a.type;return r?String(r).toLowerCase():""},Kj=({title:n,items:a,isAdmin:r,onStatusChange:o,onEdit:u,onDelete:m,updatingId:f})=>i.jsxs("div",{className:"border border-border bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-ink",children:n}),i.jsxs("span",{className:"text-xs text-ink-muted",children:[a.length," items"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-xs uppercase tracking-wide text-ink-muted",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Request ID"}),i.jsx("th",{className:"px-4 py-3",children:"Requested by"}),i.jsx("th",{className:"px-4 py-3",children:"Type"}),i.jsx("th",{className:"px-4 py-3",children:"Detail"}),i.jsx("th",{className:"px-4 py-3",children:"Who"}),i.jsx("th",{className:"px-4 py-3",children:"Rate"}),i.jsx("th",{className:"px-4 py-3",children:"When"}),i.jsx("th",{className:"px-4 py-3",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{children:a.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"px-4 py-6 text-center text-ink-muted",children:"No requests yet."})}):a.map(h=>i.jsxs("tr",{className:"border-t border-border",children:[i.jsx("td",{className:"px-4 py-3 text-xs text-ink-muted",children:String(h.id).slice(0,8)}),i.jsx("td",{className:"px-4 py-3 text-sm text-ink",children:Xj(h)}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 py-0.5 text-xs font-semibold text-ink",children:$j(h.role)})}),i.jsx("td",{className:"px-4 py-3",children:Gj(h.detail)}),i.jsx("td",{className:"px-4 py-3",children:Pj(h)}),i.jsx("td",{className:"px-4 py-3",children:Hj(h.hourly_rate,h.role)}),i.jsx("td",{className:"px-4 py-3",children:qj(h.when_at)}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"inline-flex rounded-full bg-gray-100 px-2 py-0.5 text-xs font-semibold text-ink",children:Yj(h.status)})}),i.jsx("td",{className:"px-4 py-3 text-right",children:r?h.status==="pending"?i.jsxs("div",{className:"inline-flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>o?.(h,"working"),disabled:f===h.id,className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-border text-ink-muted hover:text-ink disabled:opacity-60","aria-label":"Accept request",title:"Accept",children:i.jsx(Jd,{size:14})}),i.jsx("button",{type:"button",onClick:()=>o?.(h,"closed"),disabled:f===h.id,className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-red-200 text-red-600 hover:bg-red-50 disabled:opacity-60","aria-label":"Reject request",title:"Reject",children:i.jsx(Si,{size:14})})]}):i.jsx("span",{className:"text-xs text-ink-muted",children:"-"}):h.status==="pending"?i.jsxs("div",{className:"inline-flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>u?.(h),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-border text-ink-muted hover:text-ink","aria-label":"Edit request",title:"Edit",children:i.jsx(Ly,{size:14})}),i.jsx("button",{type:"button",onClick:()=>m?.(h),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-red-200 text-red-600 hover:bg-red-50","aria-label":"Delete request",title:"Delete",children:i.jsx($l,{size:14})})]}):i.jsx("span",{className:"text-xs text-ink-muted",children:"-"})})]},h.id))})]})})]}),Jj=()=>{const{user:n}=Wt(),a=Array.isArray(n?.roles)?n.roles:void 0,r=a||[],o=r.includes("admin")||r.includes("manager"),u=nf(r),[m,f]=b.useState([]),[h,x]=b.useState(!0),[p,y]=b.useState(""),[v,j]=b.useState(""),[k,T]=b.useState(!1),[_,H]=b.useState(null),[$,G]=b.useState({job_url:"",meeting_url:"",other:"",text:""}),[D,S]=b.useState(""),[E,U]=b.useState(!1),[L,V]=b.useState(!1),[J,se]=b.useState(null),[he,ce]=b.useState([]),[te,ee]=b.useState(!1),[K,A]=b.useState(!1),[O,W]=b.useState(""),re=b.useCallback(async()=>{try{x(!0),y("");const P=await Ft.listRequests({roles:a});f(P)}catch(P){y(P?.message||"Unable to load requests.")}finally{x(!1)}},[a]);b.useEffect(()=>{re()},[re]);const z=P=>{const le=P?.detail;if(!le||typeof le!="object")return null;const ge=le.profile_id||le.profileId,Ae=le.profile_name||le.profileName||le.profile;return ge?{id:ge,name:Ae||ge}:null},N=b.useCallback(async()=>{try{ee(!0),W("");const P=await Ft.listTalents("bidder",{roles:a});ce(P)}catch(P){W(P?.message||"Unable to load bidders.")}finally{ee(!1)}},[a]);b.useEffect(()=>{L&&N()},[L,N]);const B=async(P,le)=>{const ge=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!ge)throw new Error("Missing token");const Ae=qe?`${qe}${u}/${P}/assign-bidder`:`${u}/${P}/assign-bidder`,we=await fetch(Ae,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`},body:JSON.stringify({bidder_user_id:le})});if(we.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!we.ok){const it=await we.text();throw new Error(it||"Unable to assign bidder.")}return we.json()},ae=async P=>{const le=typeof window<"u"?window.localStorage.getItem(Xe):null;if(!le)throw new Error("Missing token");const ge=qe?`${qe}${u}/${P}/unassign-bidder`:`${u}/${P}/unassign-bidder`,Ae=await fetch(ge,{method:"POST",headers:{Authorization:`Bearer ${le}`}});if(Ae.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!Ae.ok){const we=await Ae.text();throw new Error(we||"Unable to unassign bidder.")}return Ae.json()},de=P=>{const le=z(P);if(!le?.id){y("This request is missing the profile.");return}se({...P,profile:le}),W(""),V(!0)},ye=()=>{K||(V(!1),se(null),W(""))},ne=async({assigneeId:P})=>{if(!(!J?.profile?.id||!P))try{A(!0),W(""),await B(J.profile.id,P);const le=he.find(ot=>String(Zj(ot))===String(P)),ge=le?.name||le?.display_name||le?.username||le?.email||"",Ae=le?.username||"",we=le?.email||"",it=await Ft.updateRequest(J.id,{status:"working",assignee_user_id:P},{roles:a});f(ot=>it?.archived?ot.filter(vt=>vt.id!==J.id):ot.map(vt=>vt.id===J.id?{...vt,...it,assignee_display_name:ge||vt.assignee_display_name,assignee_username:Ae||vt.assignee_username,assignee_email:we||vt.assignee_email}:vt)),ye()}catch(le){W(le?.message||"Unable to assign bidder.")}finally{A(!1)}},me=b.useCallback(async(P,le)=>{if(!(!P?.id||!o)){if(le==="working"&&String(P.role).toLowerCase()==="bidder"){if(Qj(P)==="unassign"){const Ae=z(P);if(!Ae?.id){y("This request is missing the profile.");return}try{j(P.id),y(""),await ae(Ae.id);const we=await Ft.updateRequest(P.id,{status:"working",assignee_user_id:null},{roles:a});f(it=>we?.archived?it.filter(ot=>ot.id!==P.id):it.map(ot=>ot.id===P.id?{...ot,...we}:ot))}catch(we){y(we?.message||"Unable to update request.")}finally{j("")}return}de(P);return}try{j(P.id),y("");const ge=await Ft.updateRequest(P.id,{status:le},{roles:a});f(Ae=>ge?.archived?Ae.filter(we=>we.id!==P.id):Ae.map(we=>we.id===P.id?{...we,...ge}:we))}catch(ge){y(ge?.message||"Unable to update request.")}finally{j("")}}},[o,a]),fe=b.useMemo(()=>{const P=Array.isArray(m)?[...m]:[];return P.sort((le,ge)=>{const Ae=le.status==="pending",we=ge.status==="pending";return Ae&&!we?-1:!Ae&&we?1:0}),P},[m]),Se=P=>{if(!P)return;const le=P.detail||{};if(String(P.role).toLowerCase()==="caller")G({job_url:le.job_url||le.jobUrl||"",meeting_url:le.meeting_url||le.meetingUrl||"",other:le.other||le.notes||"",text:""});else{const ge=typeof le=="string"?le:le?.text||le?.notes||"";G({job_url:"",meeting_url:"",other:"",text:ge})}H(P),S(""),T(!0)},Ce=()=>{E||(T(!1),H(null),S(""))},ze=async()=>{if(!_?.id)return;const P=String(_.role).toLowerCase()==="caller",le=P?{job_url:String($.job_url||"").trim(),meeting_url:String($.meeting_url||"").trim(),other:String($.other||"").trim()}:String($.text||"").trim();if(P&&(!le.job_url||!le.meeting_url)){S("Job URL and Meeting URL are required.");return}try{U(!0),S("");const ge=await Ft.updateRequest(_.id,{detail:le||null},{roles:a});f(Ae=>Ae.map(we=>we.id===_.id?{...we,...ge}:we)),Ce()}catch(ge){S(ge?.message||"Unable to update request.")}finally{U(!1)}},Oe=async P=>{if(!(!P?.id||!window.confirm("Delete this request?")))try{y(""),await Ft.deleteRequest(P.id,{roles:a}),f(ge=>ge.filter(Ae=>Ae.id!==P.id))}catch(ge){y(ge?.message||"Unable to delete request.")}};return i.jsxs("main",{className:"min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:[i.jsxs("div",{className:"mx-auto flex max-w-[1440px] flex-col gap-6",children:[i.jsxs("header",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-ink",children:"Requests"}),i.jsx("p",{className:"text-sm text-ink-muted",children:"Manage bidder and caller requests."})]}),i.jsxs("button",{type:"button",onClick:re,className:"flex items-center gap-2 rounded-lg border border-border px-3 py-2 text-sm font-semibold text-ink-muted hover:text-ink",children:[i.jsx(ka,{size:16}),"Refresh"]})]}),h?i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-sm text-ink-muted",children:"Loading requests..."}):p?i.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-6 text-sm text-red-700",children:p}):i.jsx("div",{className:"grid gap-6",children:i.jsx(Kj,{title:"Requests",items:fe,isAdmin:o,onStatusChange:me,onEdit:Se,onDelete:Oe,updatingId:v})})]}),k?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:i.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-6 shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-ink",children:"Edit request"}),i.jsx("button",{type:"button",onClick:Ce,className:"text-sm text-ink-muted hover:text-ink",children:"Close"})]}),i.jsxs("div",{className:"mt-4 space-y-4",children:[String(_?.role||"").toLowerCase()==="caller"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold text-ink",children:"Job URL"}),i.jsx("input",{className:"h-11 w-full rounded-xl border border-border px-3 text-sm text-ink",value:$.job_url,onChange:P=>G(le=>({...le,job_url:P.target.value}))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold text-ink",children:"Meeting URL"}),i.jsx("input",{className:"h-11 w-full rounded-xl border border-border px-3 text-sm text-ink",value:$.meeting_url,onChange:P=>G(le=>({...le,meeting_url:P.target.value}))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold text-ink",children:"Other"}),i.jsx("textarea",{className:"h-24 w-full resize-none rounded-xl border border-border px-3 py-2 text-sm text-ink",value:$.other,onChange:P=>G(le=>({...le,other:P.target.value}))})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold text-ink",children:"Detail"}),i.jsx("textarea",{className:"h-24 w-full resize-none rounded-xl border border-border px-3 py-2 text-sm text-ink",value:$.text,onChange:P=>G(le=>({...le,text:P.target.value}))})]}),D?i.jsx("p",{className:"text-sm text-red-600",children:D}):null,i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:Ce,className:"rounded-xl border border-border px-4 py-2 text-sm font-semibold text-ink",children:"Cancel"}),i.jsx("button",{type:"button",onClick:ze,disabled:E,className:"rounded-xl bg-accent-primary px-4 py-2 text-sm font-semibold text-white disabled:opacity-60",children:E?"Saving...":"Save"})]})]})]})}):null,L?i.jsx(af,{open:L,title:`Assign bidder to ${J?.profile?.name||"profile"}`,roleLabel:"Bidder",rateLabel:"Rate per application",showWhen:!1,showDetail:!1,people:he,loading:te,submitting:K,initialAssigneeId:J?.assignee_user_id||"",error:O,onClose:ye,onSubmit:ne,submitLabel:"Assign bidder",submittingLabel:"Assigning..."}):null]})},Fj=n=>{if(n==null||n==="")return"-";const a=Number(n);return Number.isNaN(a)?String(n):`$${a.toFixed(2)}`},Ij=n=>Fj(n),Wj=({talent:n})=>{const a=n?.name||n?.display_name||n?.email||"Unknown",r=n?.img_url||n?.image||n?.photo_link||"";return i.jsxs("div",{className:"flex h-64 flex-col overflow-hidden rounded-2xl border border-border bg-white shadow-sm",children:[i.jsx("div",{className:"relative h-1/2 w-full bg-gray-50",children:r?i.jsx("img",{src:r,alt:a,className:"h-full w-full object-cover"}):i.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs font-semibold text-ink-muted",children:"No image"})}),i.jsxs("div",{className:"flex h-1/2 flex-col justify-between p-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"truncate text-sm font-semibold text-ink",children:a}),i.jsx("p",{className:"mt-2 text-xs text-ink-muted line-clamp-3",children:n?.bio||"No bio provided yet."})]}),i.jsx("div",{className:"text-xs font-semibold text-ink",children:Ij(n?.rate)})]})]})},eN=()=>{const{user:n}=Wt(),a=Array.isArray(n?.roles)?n.roles:void 0,r=a||[],o=r.includes("admin")||r.includes("manager"),[u,m]=b.useState([]),[f,h]=b.useState(!0),[x,p]=b.useState(""),[y,v]=b.useState("caller"),[j,k]=b.useState(""),[T,_]=b.useState(!1),[H,$]=b.useState(""),[G,D]=b.useState([]),[S,E]=b.useState(!1),[U,L]=b.useState(""),[V,J]=b.useState(""),se=b.useCallback(async()=>{try{h(!0),p("");const[ce,te]=await Promise.all([Ft.listTalents("caller",{roles:a}),Ft.listTalents("bidder",{roles:a})]),ee=[...ce.map(A=>({...A,role:A.role||"caller"})),...te.map(A=>({...A,role:A.role||"bidder"}))],K=new Map;ee.forEach(A=>{const O=`${A.id}-${A.role}`;K.has(O)||K.set(O,A)}),m(Array.from(K.values()))}catch(ce){p(ce?.message||"Unable to load talents.")}finally{h(!1)}},[a]);b.useEffect(()=>{se()},[se]),b.useEffect(()=>{if(!o)return;const ce=j.trim();if(L(""),ce.length<2){D([]),J("");return}const te=window.setTimeout(async()=>{try{E(!0),J("");const ee=await Ft.searchUsers(ce,{roles:a});D(ee)}catch(ee){J(ee?.message||"Unable to load suggestions."),D([])}finally{E(!1)}},250);return()=>window.clearTimeout(te)},[j,o,a]);const he=async()=>{if(!j.trim()){$("Enter an email or username.");return}try{_(!0),$("");const ce=j.trim(),te=U?{role:y,user_id:U}:ce.includes("@")?{role:y,email:ce}:{role:y,username:ce};await Ft.createTalent(te,{roles:a}),k(""),L(""),D([]),await se()}catch(ce){$(ce?.message||"Unable to add talent.")}finally{_(!1)}};return i.jsx("main",{className:"min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:i.jsxs("div",{className:"mx-auto flex max-w-[1440px] flex-col gap-6",children:[i.jsxs("header",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-ink",children:"Hire Talents"}),i.jsx("p",{className:"text-sm text-ink-muted",children:"Caller and bidder profiles."})]}),i.jsxs("button",{type:"button",onClick:se,className:"flex items-center gap-2 rounded-lg border border-border px-3 py-2 text-sm font-semibold text-ink-muted hover:text-ink",children:[i.jsx(ka,{size:16}),"Refresh"]})]}),o?i.jsxs("div",{className:"rounded-2xl border border-border bg-white p-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-[160px_1fr_auto] md:items-end",children:[i.jsxs("label",{className:"flex flex-col gap-1 text-xs font-semibold text-ink-muted uppercase tracking-[0.18em]",children:["Role",i.jsxs("select",{className:"mt-1 rounded-lg border border-border px-3 py-2 text-sm text-ink",value:y,onChange:ce=>v(ce.target.value),disabled:T,children:[i.jsx("option",{value:"caller",children:"Caller"}),i.jsx("option",{value:"bidder",children:"Bidder"})]})]}),i.jsxs("label",{className:"flex flex-col gap-1 text-xs font-semibold text-ink-muted uppercase tracking-[0.18em]",children:["User (email or username)",i.jsxs("div",{className:"relative",children:[i.jsx("input",{value:j,onChange:ce=>k(ce.target.value),placeholder:"user@email.com or username",className:"mt-1 w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/30",disabled:T}),(S||G.length>0||V)&&i.jsx("div",{className:"absolute left-0 right-0 top-full z-20 mt-2 rounded-xl border border-border bg-white shadow-lg",children:S?i.jsx("div",{className:"px-3 py-2 text-xs text-ink-muted",children:"Searching..."}):V?i.jsx("div",{className:"px-3 py-2 text-xs text-red-600",children:V}):G.length===0?i.jsx("div",{className:"px-3 py-2 text-xs text-ink-muted",children:"No matches"}):i.jsx("div",{className:"max-h-48 overflow-auto",children:G.map(ce=>{const te=ce.username||ce.email||ce.display_name||ce.id,ee=ce.email&&ce.username?ce.email:ce.display_name;return i.jsxs("button",{type:"button",onClick:()=>{k(ce.username||ce.email||""),L(ce.id),D([])},className:"flex w-full flex-col gap-0.5 px-3 py-2 text-left text-xs text-ink hover:bg-gray-50",children:[i.jsx("span",{className:"font-semibold text-ink",children:te}),ee?i.jsx("span",{className:"text-[11px] text-ink-muted",children:ee}):null]},ce.id)})})})]})]}),i.jsx("button",{type:"button",onClick:he,disabled:T,className:"rounded-lg bg-accent-primary px-4 py-2 text-sm font-semibold text-white disabled:opacity-60",children:T?"Adding...":"Add talent"})]}),H?i.jsx("p",{className:"mt-3 text-sm text-red-600",children:H}):null]}):null,f?i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-sm text-ink-muted",children:"Loading talents..."}):x?i.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-6 text-sm text-red-700",children:x}):u.length===0?i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-sm text-ink-muted",children:"No talents yet."}):i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:u.map(ce=>i.jsx(Wj,{talent:ce},`${ce.id}-${ce.role}`))})]})})},tN=qe?`${qe}/admin`:"/admin",nN=()=>typeof window<"u"?window.localStorage.getItem(Xe):null,ld=async(n,a={})=>{const r=nN();if(!r)throw new Error("Missing token");const o=await fetch(`${tN}${n}`,{...a,headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json",...a.headers||{}}});if(o.status===401&&typeof window<"u")return window.location.href="/auth",null;if(!o.ok){const u=await o.text();throw new Error(u||`Request failed (${o.status})`)}return o.status===204?null:o.json()},rd={async listUsers(n){const a=new URLSearchParams;n&&a.set("q",n);const r=a.toString(),o=await ld(`/users${r?`?${r}`:""}`,{method:"GET"});return Array.isArray(o?.items)?o.items:[]},async updateUserRole(n,a){return ld(`/users/${n}/roles`,{method:"POST",body:JSON.stringify(a)})},async deleteUser(n){return ld(`/users/${n}`,{method:"DELETE"})}},sN=n=>n?.username||n?.user_name||n?.email||n?.id||"Unknown",aN=n=>n?.display_name||n?.displayName||n?.name||"-",iN=n=>{const a=String(n||"").toLowerCase();return a?a==="worker"?"Employee":a.charAt(0).toUpperCase()+a.slice(1):""},lN=n=>{const a=[...Array.isArray(n?.roles)?n.roles:[],...Array.isArray(n?.talents)?n.talents:[]],r=new Set;return a.map(o=>String(o||"").trim()).filter(o=>{const u=o.toLowerCase();return!u||r.has(u)?!1:(r.add(u),!0)})},rN=()=>{const{user:n,loading:a}=Wt(),o=(Array.isArray(n?.roles)?n.roles:[]).includes("admin"),[u,m]=b.useState([]),[f,h]=b.useState(!0),[x,p]=b.useState(""),[y,v]=b.useState(""),[j,k]=b.useState(""),[T,_]=b.useState(""),H=b.useCallback(async(S="")=>{if(o)try{h(!0),p("");const E=await rd.listUsers(S.trim()||"");m(E)}catch(E){p(E?.message||"Unable to load users.")}finally{h(!1)}},[o]);b.useEffect(()=>{o&&H("")},[o,H]);const $=async S=>{if(!S?.id)return;const E=Array.isArray(S.roles)?S.roles:[];if(!E.includes("manager"))try{k(S.id),p("");const U=await rd.updateUserRole(S.id,{role:"manager",action:"add"}),L=Array.isArray(U?.roles)?U.roles:[...E,"manager"];m(V=>V.map(J=>J.id===S.id?{...J,roles:L}:J))}catch(U){p(U?.message||"Unable to update role.")}finally{k("")}},G=async S=>{if(S?.id)try{_(S.id),p(""),await rd.deleteUser(S.id),m(E=>E.filter(U=>U.id!==S.id))}catch(E){p(E?.message||"Unable to delete user.")}finally{_("")}},D=b.useMemo(()=>u||[],[u]);return a?i.jsx("main",{className:"min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:i.jsx("div",{className:"mx-auto max-w-[1440px] text-sm text-ink-muted",children:"Loading admin panel..."})}):o?i.jsx("main",{className:"min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:i.jsxs("div",{className:"mx-auto flex max-w-[1440px] flex-col gap-6",children:[i.jsxs("header",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-ink",children:"Admin"}),i.jsx("p",{className:"text-sm text-ink-muted",children:"Review users, roles, and talent badges."})]}),i.jsxs("button",{type:"button",onClick:()=>H(),className:"flex items-center gap-2 rounded-lg border border-border px-3 py-2 text-sm font-semibold text-ink-muted hover:text-ink",children:[i.jsx(ka,{size:16}),"Refresh"]})]}),i.jsx("div",{className:"rounded-2xl border border-border bg-white p-4",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-ink",children:[i.jsx(H2,{size:16}),"Users"]}),i.jsx("div",{className:"flex-1 min-w-[240px]",children:i.jsx("input",{value:y,onChange:S=>v(S.target.value),placeholder:"Search users by name, email, or username",className:"w-full rounded-lg border border-border px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent-primary/30"})}),i.jsx("button",{type:"button",onClick:()=>H(y),className:"rounded-lg bg-accent-primary px-4 py-2 text-sm font-semibold text-white",children:"Search"})]})}),x?i.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:x}):null,f?i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-sm text-ink-muted",children:"Loading users..."}):D.length===0?i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-sm text-ink-muted",children:"No users found."}):i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-border bg-white",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-xs uppercase tracking-wide text-ink-muted",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"User name"}),i.jsx("th",{className:"px-4 py-3",children:"Name"}),i.jsx("th",{className:"px-4 py-3",children:"Email"}),i.jsx("th",{className:"px-4 py-3",children:"Badges"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{children:D.map(S=>{const U=(Array.isArray(S.roles)?S.roles:[]).includes("manager"),L=j===S.id,V=T===S.id,J=lN(S);return i.jsxs("tr",{className:"border-t border-border",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-ink",children:sN(S)}),i.jsx("td",{className:"px-4 py-3 text-ink",children:aN(S)}),i.jsx("td",{className:"px-4 py-3 text-ink-muted",children:S.email||"-"}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:J.length===0?i.jsx("span",{className:"text-xs text-ink-muted",children:"None"}):J.map(se=>i.jsx("span",{className:"rounded-full bg-gray-100 px-2 py-0.5 text-xs font-semibold text-ink",children:iN(se)},`${S.id}-${se}`))})}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>$(S),disabled:U||L||V,"aria-label":"Approve manager",title:U?"Manager approved":"Approve manager",className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-border text-ink-muted hover:text-ink hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-60",children:i.jsx(V2,{size:16})}),i.jsx("button",{type:"button",onClick:()=>G(S),disabled:L||V,"aria-label":"Delete user",title:"Delete user",className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-border text-ink-muted hover:text-red-600 hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:i.jsx($l,{size:16})})]})})]},S.id)})})]})})]})}):i.jsx("main",{className:"min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:i.jsx("div",{className:"mx-auto max-w-[1440px] rounded-2xl border border-border bg-white p-6 text-sm text-ink-muted",children:"Admin access required."})})},ab=b.createContext({});function oN(n){const a=b.useRef(null);return a.current===null&&(a.current=n()),a.current}const lf=b.createContext(null),ib=b.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function cN(n=!0){const a=b.useContext(lf);if(a===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:u}=a,m=b.useId();b.useEffect(()=>{n&&u(m)},[n]);const f=b.useCallback(()=>n&&o&&o(m),[m,o,n]);return!r&&o?[!1,f]:[!0]}const rf=typeof window<"u",uN=rf?b.useLayoutEffect:b.useEffect,bn=n=>n;let lb=bn;function of(n){let a;return()=>(a===void 0&&(a=n()),a)}const wi=(n,a,r)=>{const o=a-n;return o===0?1:(r-n)/o},ys=n=>n*1e3,bs=n=>n/1e3,dN={useManualTiming:!1};function fN(n){let a=new Set,r=new Set,o=!1,u=!1;const m=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(p){m.has(p)&&(x.schedule(p),n()),p(f)}const x={schedule:(p,y=!1,v=!1)=>{const k=v&&o?a:r;return y&&m.add(p),k.has(p)||k.add(p),p},cancel:p=>{r.delete(p),m.delete(p)},process:p=>{if(f=p,o){u=!0;return}o=!0,[a,r]=[r,a],a.forEach(h),a.clear(),o=!1,u&&(u=!1,x.process(p))}};return x}const mo=["read","resolveKeyframes","update","preRender","render","postRender"],mN=40;function rb(n,a){let r=!1,o=!0;const u={delta:0,timestamp:0,isProcessing:!1},m=()=>r=!0,f=mo.reduce(($,G)=>($[G]=fN(m),$),{}),{read:h,resolveKeyframes:x,update:p,preRender:y,render:v,postRender:j}=f,k=()=>{const $=performance.now();r=!1,u.delta=o?1e3/60:Math.max(Math.min($-u.timestamp,mN),1),u.timestamp=$,u.isProcessing=!0,h.process(u),x.process(u),p.process(u),y.process(u),v.process(u),j.process(u),u.isProcessing=!1,r&&a&&(o=!1,n(k))},T=()=>{r=!0,o=!0,u.isProcessing||n(k)};return{schedule:mo.reduce(($,G)=>{const D=f[G];return $[G]=(S,E=!1,U=!1)=>(r||T(),D.schedule(S,E,U)),$},{}),cancel:$=>{for(let G=0;G<mo.length;G++)f[mo[G]].cancel($)},state:u,steps:f}}const{schedule:xt,cancel:Qs,state:Yt,steps:od}=rb(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0),ob=b.createContext({strict:!1}),rg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ji={};for(const n in rg)ji[n]={isEnabled:a=>rg[n].some(r=>!!a[r])};function hN(n){for(const a in n)ji[a]={...ji[a],...n[a]}}const pN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function So(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||pN.has(n)}let cb=n=>!So(n);function xN(n){n&&(cb=a=>a.startsWith("on")?!So(a):n(a))}try{xN(require("@emotion/is-prop-valid").default)}catch{}function gN(n,a,r){const o={};for(const u in n)u==="values"&&typeof n.values=="object"||(cb(u)||r===!0&&So(u)||!a&&!So(u)||n.draggable&&u.startsWith("onDrag"))&&(o[u]=n[u]);return o}function yN(n){if(typeof Proxy>"u")return n;const a=new Map,r=(...o)=>n(...o);return new Proxy(r,{get:(o,u)=>u==="create"?n:(a.has(u)||a.set(u,n(u)),a.get(u))})}const zo=b.createContext({});function Ol(n){return typeof n=="string"||Array.isArray(n)}function Uo(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const cf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uf=["initial",...cf];function Oo(n){return Uo(n.animate)||uf.some(a=>Ol(n[a]))}function ub(n){return!!(Oo(n)||n.variants)}function bN(n,a){if(Oo(n)){const{initial:r,animate:o}=n;return{initial:r===!1||Ol(r)?r:void 0,animate:Ol(o)?o:void 0}}return n.inherit!==!1?a:{}}function vN(n){const{initial:a,animate:r}=bN(n,b.useContext(zo));return b.useMemo(()=>({initial:a,animate:r}),[og(a),og(r)])}function og(n){return Array.isArray(n)?n.join(" "):n}const wN=Symbol.for("motionComponentSymbol");function xi(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function jN(n,a,r){return b.useCallback(o=>{o&&n.onMount&&n.onMount(o),a&&(o?a.mount(o):a.unmount()),r&&(typeof r=="function"?r(o):xi(r)&&(r.current=o))},[a])}const df=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NN="framerAppearId",db="data-"+df(NN),{schedule:ff}=rb(queueMicrotask,!1),fb=b.createContext({});function SN(n,a,r,o,u){var m,f;const{visualElement:h}=b.useContext(zo),x=b.useContext(ob),p=b.useContext(lf),y=b.useContext(ib).reducedMotion,v=b.useRef(null);o=o||x.renderer,!v.current&&o&&(v.current=o(n,{visualState:a,parent:h,props:r,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const j=v.current,k=b.useContext(fb);j&&!j.projection&&u&&(j.type==="html"||j.type==="svg")&&kN(v.current,r,u,k);const T=b.useRef(!1);b.useInsertionEffect(()=>{j&&T.current&&j.update(r,p)});const _=r[db],H=b.useRef(!!_&&!(!((m=window.MotionHandoffIsComplete)===null||m===void 0)&&m.call(window,_))&&((f=window.MotionHasOptimisedAnimation)===null||f===void 0?void 0:f.call(window,_)));return uN(()=>{j&&(T.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),ff.render(j.render),H.current&&j.animationState&&j.animationState.animateChanges())}),b.useEffect(()=>{j&&(!H.current&&j.animationState&&j.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{var $;($=window.MotionHandoffMarkAsComplete)===null||$===void 0||$.call(window,_)}),H.current=!1))}),j}function kN(n,a,r,o){const{layoutId:u,layout:m,drag:f,dragConstraints:h,layoutScroll:x,layoutRoot:p}=a;n.projection=new r(n.latestValues,a["data-framer-portal-id"]?void 0:mb(n.parent)),n.projection.setOptions({layoutId:u,layout:m,alwaysMeasureLayout:!!f||h&&xi(h),visualElement:n,animationType:typeof m=="string"?m:"both",initialPromotionConfig:o,layoutScroll:x,layoutRoot:p})}function mb(n){if(n)return n.options.allowProjection!==!1?n.projection:mb(n.parent)}function AN({preloadedFeatures:n,createVisualElement:a,useRender:r,useVisualState:o,Component:u}){var m,f;n&&hN(n);function h(p,y){let v;const j={...b.useContext(ib),...p,layoutId:TN(p)},{isStatic:k}=j,T=vN(p),_=o(p,k);if(!k&&rf){EN();const H=CN(j);v=H.MeasureLayout,T.visualElement=SN(u,_,j,a,H.ProjectionNode)}return i.jsxs(zo.Provider,{value:T,children:[v&&T.visualElement?i.jsx(v,{visualElement:T.visualElement,...j}):null,r(u,p,jN(_,T.visualElement,y),_,k,T.visualElement)]})}h.displayName=`motion.${typeof u=="string"?u:`create(${(f=(m=u.displayName)!==null&&m!==void 0?m:u.name)!==null&&f!==void 0?f:""})`}`;const x=b.forwardRef(h);return x[wN]=u,x}function TN({layoutId:n}){const a=b.useContext(ab).id;return a&&n!==void 0?a+"-"+n:n}function EN(n,a){b.useContext(ob).strict}function CN(n){const{drag:a,layout:r}=ji;if(!a&&!r)return{};const o={...a,...r};return{MeasureLayout:a?.isEnabled(n)||r?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const _N=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mf(n){return typeof n!="string"||n.includes("-")?!1:!!(_N.indexOf(n)>-1||/[A-Z]/u.test(n))}function cg(n){const a=[{},{}];return n?.values.forEach((r,o)=>{a[0][o]=r.get(),a[1][o]=r.getVelocity()}),a}function hf(n,a,r,o){if(typeof a=="function"){const[u,m]=cg(o);a=a(r!==void 0?r:n.custom,u,m)}if(typeof a=="string"&&(a=n.variants&&n.variants[a]),typeof a=="function"){const[u,m]=cg(o);a=a(r!==void 0?r:n.custom,u,m)}return a}const Cd=n=>Array.isArray(n),MN=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),DN=n=>Cd(n)?n[n.length-1]||0:n,It=n=>!!(n&&n.getVelocity);function bo(n){const a=It(n)?n.get():n;return MN(a)?a.toValue():a}function RN({scrapeMotionValuesFromProps:n,createRenderState:a,onUpdate:r},o,u,m){const f={latestValues:zN(o,u,m,n),renderState:a()};return r&&(f.onMount=h=>r({props:o,current:h,...f}),f.onUpdate=h=>r(h)),f}const hb=n=>(a,r)=>{const o=b.useContext(zo),u=b.useContext(lf),m=()=>RN(n,a,o,u);return r?m():oN(m)};function zN(n,a,r,o){const u={},m=o(n,{});for(const j in m)u[j]=bo(m[j]);let{initial:f,animate:h}=n;const x=Oo(n),p=ub(n);a&&p&&!x&&n.inherit!==!1&&(f===void 0&&(f=a.initial),h===void 0&&(h=a.animate));let y=r?r.initial===!1:!1;y=y||f===!1;const v=y?h:f;if(v&&typeof v!="boolean"&&!Uo(v)){const j=Array.isArray(v)?v:[v];for(let k=0;k<j.length;k++){const T=hf(n,j[k]);if(T){const{transitionEnd:_,transition:H,...$}=T;for(const G in $){let D=$[G];if(Array.isArray(D)){const S=y?D.length-1:0;D=D[S]}D!==null&&(u[G]=D)}for(const G in _)u[G]=_[G]}}}return u}const ki=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Aa=new Set(ki),pb=n=>a=>typeof a=="string"&&a.startsWith(n),xb=pb("--"),UN=pb("var(--"),pf=n=>UN(n)?ON.test(n.split("/*")[0].trim()):!1,ON=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gb=(n,a)=>a&&typeof n=="number"?a.transform(n):n,vs=(n,a,r)=>r>a?a:r<n?n:r,Ai={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ll={...Ai,transform:n=>vs(0,1,n)},ho={...Ai,default:1},Pl=n=>({test:a=>typeof a=="string"&&a.endsWith(n)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${n}`}),Zs=Pl("deg"),Jn=Pl("%"),He=Pl("px"),LN=Pl("vh"),BN=Pl("vw"),ug={...Jn,parse:n=>Jn.parse(n)/100,transform:n=>Jn.transform(n*100)},VN={borderWidth:He,borderTopWidth:He,borderRightWidth:He,borderBottomWidth:He,borderLeftWidth:He,borderRadius:He,radius:He,borderTopLeftRadius:He,borderTopRightRadius:He,borderBottomRightRadius:He,borderBottomLeftRadius:He,width:He,maxWidth:He,height:He,maxHeight:He,top:He,right:He,bottom:He,left:He,padding:He,paddingTop:He,paddingRight:He,paddingBottom:He,paddingLeft:He,margin:He,marginTop:He,marginRight:He,marginBottom:He,marginLeft:He,backgroundPositionX:He,backgroundPositionY:He},HN={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:ho,scaleX:ho,scaleY:ho,scaleZ:ho,skew:Zs,skewX:Zs,skewY:Zs,distance:He,translateX:He,translateY:He,translateZ:He,x:He,y:He,z:He,perspective:He,transformPerspective:He,opacity:Ll,originX:ug,originY:ug,originZ:He},dg={...Ai,transform:Math.round},xf={...VN,...HN,zIndex:dg,size:He,fillOpacity:Ll,strokeOpacity:Ll,numOctaves:dg},$N={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qN=ki.length;function PN(n,a,r){let o="",u=!0;for(let m=0;m<qN;m++){const f=ki[m],h=n[f];if(h===void 0)continue;let x=!0;if(typeof h=="number"?x=h===(f.startsWith("scale")?1:0):x=parseFloat(h)===0,!x||r){const p=gb(h,xf[f]);if(!x){u=!1;const y=$N[f]||f;o+=`${y}(${p}) `}r&&(a[f]=p)}}return o=o.trim(),r?o=r(a,u?"":o):u&&(o="none"),o}function gf(n,a,r){const{style:o,vars:u,transformOrigin:m}=n;let f=!1,h=!1;for(const x in a){const p=a[x];if(Aa.has(x)){f=!0;continue}else if(xb(x)){u[x]=p;continue}else{const y=gb(p,xf[x]);x.startsWith("origin")?(h=!0,m[x]=y):o[x]=y}}if(a.transform||(f||r?o.transform=PN(a,n.transform,r):o.transform&&(o.transform="none")),h){const{originX:x="50%",originY:p="50%",originZ:y=0}=m;o.transformOrigin=`${x} ${p} ${y}`}}const GN={offset:"stroke-dashoffset",array:"stroke-dasharray"},YN={offset:"strokeDashoffset",array:"strokeDasharray"};function XN(n,a,r=1,o=0,u=!0){n.pathLength=1;const m=u?GN:YN;n[m.offset]=He.transform(-o);const f=He.transform(a),h=He.transform(r);n[m.array]=`${f} ${h}`}function fg(n,a,r){return typeof n=="string"?n:He.transform(a+r*n)}function ZN(n,a,r){const o=fg(a,n.x,n.width),u=fg(r,n.y,n.height);return`${o} ${u}`}function yf(n,{attrX:a,attrY:r,attrScale:o,originX:u,originY:m,pathLength:f,pathSpacing:h=1,pathOffset:x=0,...p},y,v){if(gf(n,p,v),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:j,style:k,dimensions:T}=n;j.transform&&(T&&(k.transform=j.transform),delete j.transform),T&&(u!==void 0||m!==void 0||k.transform)&&(k.transformOrigin=ZN(T,u!==void 0?u:.5,m!==void 0?m:.5)),a!==void 0&&(j.x=a),r!==void 0&&(j.y=r),o!==void 0&&(j.scale=o),f!==void 0&&XN(j,f,h,x,!1)}const bf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yb=()=>({...bf(),attrs:{}}),vf=n=>typeof n=="string"&&n.toLowerCase()==="svg";function bb(n,{style:a,vars:r},o,u){Object.assign(n.style,a,u&&u.getProjectionStyles(o));for(const m in r)n.style.setProperty(m,r[m])}const vb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wb(n,a,r,o){bb(n,a,void 0,o);for(const u in a.attrs)n.setAttribute(vb.has(u)?u:df(u),a.attrs[u])}const ko={};function QN(n){Object.assign(ko,n)}function jb(n,{layout:a,layoutId:r}){return Aa.has(n)||n.startsWith("origin")||(a||r!==void 0)&&(!!ko[n]||n==="opacity")}function wf(n,a,r){var o;const{style:u}=n,m={};for(const f in u)(It(u[f])||a.style&&It(a.style[f])||jb(f,n)||((o=r?.getValue(f))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(m[f]=u[f]);return m}function Nb(n,a,r){const o=wf(n,a,r);for(const u in n)if(It(n[u])||It(a[u])){const m=ki.indexOf(u)!==-1?"attr"+u.charAt(0).toUpperCase()+u.substring(1):u;o[m]=n[u]}return o}function KN(n,a){try{a.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}}const mg=["x","y","width","height","cx","cy","r"],JN={useVisualState:hb({scrapeMotionValuesFromProps:Nb,createRenderState:yb,onUpdate:({props:n,prevProps:a,current:r,renderState:o,latestValues:u})=>{if(!r)return;let m=!!n.drag;if(!m){for(const h in u)if(Aa.has(h)){m=!0;break}}if(!m)return;let f=!a;if(a)for(let h=0;h<mg.length;h++){const x=mg[h];n[x]!==a[x]&&(f=!0)}f&&xt.read(()=>{KN(r,o),xt.render(()=>{yf(o,u,vf(r.tagName),n.transformTemplate),wb(r,o)})})}})},FN={useVisualState:hb({scrapeMotionValuesFromProps:wf,createRenderState:bf})};function Sb(n,a,r){for(const o in a)!It(a[o])&&!jb(o,r)&&(n[o]=a[o])}function IN({transformTemplate:n},a){return b.useMemo(()=>{const r=bf();return gf(r,a,n),Object.assign({},r.vars,r.style)},[a])}function WN(n,a){const r=n.style||{},o={};return Sb(o,r,n),Object.assign(o,IN(n,a)),o}function eS(n,a){const r={},o=WN(n,a);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=o,r}function tS(n,a,r,o){const u=b.useMemo(()=>{const m=yb();return yf(m,a,vf(o),n.transformTemplate),{...m.attrs,style:{...m.style}}},[a]);if(n.style){const m={};Sb(m,n.style,n),u.style={...m,...u.style}}return u}function nS(n=!1){return(r,o,u,{latestValues:m},f)=>{const x=(mf(r)?tS:eS)(o,m,f,r),p=gN(o,typeof r=="string",n),y=r!==b.Fragment?{...p,...x,ref:u}:{},{children:v}=o,j=b.useMemo(()=>It(v)?v.get():v,[v]);return b.createElement(r,{...y,children:j})}}function sS(n,a){return function(o,{forwardMotionProps:u}={forwardMotionProps:!1}){const f={...mf(o)?JN:FN,preloadedFeatures:n,useRender:nS(u),createVisualElement:a,Component:o};return AN(f)}}function kb(n,a){if(!Array.isArray(a))return!1;const r=a.length;if(r!==n.length)return!1;for(let o=0;o<r;o++)if(a[o]!==n[o])return!1;return!0}function Lo(n,a,r){const o=n.getProps();return hf(o,a,r!==void 0?r:o.custom,n)}const aS=of(()=>window.ScrollTimeline!==void 0);class iS{constructor(a){this.stop=()=>this.runAll("stop"),this.animations=a.filter(Boolean)}get finished(){return Promise.all(this.animations.map(a=>"finished"in a?a.finished:a))}getAll(a){return this.animations[0][a]}setAll(a,r){for(let o=0;o<this.animations.length;o++)this.animations[o][a]=r}attachTimeline(a,r){const o=this.animations.map(u=>{if(aS()&&u.attachTimeline)return u.attachTimeline(a);if(typeof r=="function")return r(u)});return()=>{o.forEach((u,m)=>{u&&u(),this.animations[m].stop()})}}get time(){return this.getAll("time")}set time(a){this.setAll("time",a)}get speed(){return this.getAll("speed")}set speed(a){this.setAll("speed",a)}get startTime(){return this.getAll("startTime")}get duration(){let a=0;for(let r=0;r<this.animations.length;r++)a=Math.max(a,this.animations[r].duration);return a}runAll(a){this.animations.forEach(r=>r[a]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class lS extends iS{then(a,r){return Promise.all(this.animations).then(a).catch(r)}}function jf(n,a){return n?n[a]||n.default||n:void 0}const _d=2e4;function Ab(n){let a=0;const r=50;let o=n.next(a);for(;!o.done&&a<_d;)a+=r,o=n.next(a);return a>=_d?1/0:a}function Nf(n){return typeof n=="function"}function hg(n,a){n.timeline=a,n.onfinish=null}const Sf=n=>Array.isArray(n)&&typeof n[0]=="number",rS={linearEasing:void 0};function oS(n,a){const r=of(n);return()=>{var o;return(o=rS[a])!==null&&o!==void 0?o:r()}}const Ao=oS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tb=(n,a,r=10)=>{let o="";const u=Math.max(Math.round(a/r),2);for(let m=0;m<u;m++)o+=n(wi(0,u-1,m))+", ";return`linear(${o.substring(0,o.length-2)})`};function Eb(n){return!!(typeof n=="function"&&Ao()||!n||typeof n=="string"&&(n in Md||Ao())||Sf(n)||Array.isArray(n)&&n.every(Eb))}const Tl=([n,a,r,o])=>`cubic-bezier(${n}, ${a}, ${r}, ${o})`,Md={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tl([0,.65,.55,1]),circOut:Tl([.55,0,1,.45]),backIn:Tl([.31,.01,.66,-.59]),backOut:Tl([.33,1.53,.69,.99])};function Cb(n,a){if(n)return typeof n=="function"&&Ao()?Tb(n,a):Sf(n)?Tl(n):Array.isArray(n)?n.map(r=>Cb(r,a)||Md.easeOut):Md[n]}const Ln={x:!1,y:!1};function _b(){return Ln.x||Ln.y}function cS(n,a,r){var o;if(n instanceof Element)return[n];if(typeof n=="string"){let u=document;const m=(o=void 0)!==null&&o!==void 0?o:u.querySelectorAll(n);return m?Array.from(m):[]}return Array.from(n)}function Mb(n,a){const r=cS(n),o=new AbortController,u={passive:!0,...a,signal:o.signal};return[r,u,()=>o.abort()]}function pg(n){return a=>{a.pointerType==="touch"||_b()||n(a)}}function uS(n,a,r={}){const[o,u,m]=Mb(n,r),f=pg(h=>{const{target:x}=h,p=a(h);if(typeof p!="function"||!x)return;const y=pg(v=>{p(v),x.removeEventListener("pointerleave",y)});x.addEventListener("pointerleave",y,u)});return o.forEach(h=>{h.addEventListener("pointerenter",f,u)}),m}const Db=(n,a)=>a?n===a?!0:Db(n,a.parentElement):!1,kf=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,dS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fS(n){return dS.has(n.tagName)||n.tabIndex!==-1}const El=new WeakSet;function xg(n){return a=>{a.key==="Enter"&&n(a)}}function cd(n,a){n.dispatchEvent(new PointerEvent("pointer"+a,{isPrimary:!0,bubbles:!0}))}const mS=(n,a)=>{const r=n.currentTarget;if(!r)return;const o=xg(()=>{if(El.has(r))return;cd(r,"down");const u=xg(()=>{cd(r,"up")}),m=()=>cd(r,"cancel");r.addEventListener("keyup",u,a),r.addEventListener("blur",m,a)});r.addEventListener("keydown",o,a),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),a)};function gg(n){return kf(n)&&!_b()}function hS(n,a,r={}){const[o,u,m]=Mb(n,r),f=h=>{const x=h.currentTarget;if(!gg(h)||El.has(x))return;El.add(x);const p=a(h),y=(k,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",j),!(!gg(k)||!El.has(x))&&(El.delete(x),typeof p=="function"&&p(k,{success:T}))},v=k=>{y(k,r.useGlobalTarget||Db(x,k.target))},j=k=>{y(k,!1)};window.addEventListener("pointerup",v,u),window.addEventListener("pointercancel",j,u)};return o.forEach(h=>{!fS(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(r.useGlobalTarget?window:h).addEventListener("pointerdown",f,u),h.addEventListener("focus",p=>mS(p,u),u)}),m}function pS(n){return n==="x"||n==="y"?Ln[n]?null:(Ln[n]=!0,()=>{Ln[n]=!1}):Ln.x||Ln.y?null:(Ln.x=Ln.y=!0,()=>{Ln.x=Ln.y=!1})}const Rb=new Set(["width","height","top","left","right","bottom",...ki]);let vo;function xS(){vo=void 0}const Fn={now:()=>(vo===void 0&&Fn.set(Yt.isProcessing||dN.useManualTiming?Yt.timestamp:performance.now()),vo),set:n=>{vo=n,queueMicrotask(xS)}};function Af(n,a){n.indexOf(a)===-1&&n.push(a)}function Tf(n,a){const r=n.indexOf(a);r>-1&&n.splice(r,1)}class Ef{constructor(){this.subscriptions=[]}add(a){return Af(this.subscriptions,a),()=>Tf(this.subscriptions,a)}notify(a,r,o){const u=this.subscriptions.length;if(u)if(u===1)this.subscriptions[0](a,r,o);else for(let m=0;m<u;m++){const f=this.subscriptions[m];f&&f(a,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function zb(n,a){return a?n*(1e3/a):0}const yg=30,gS=n=>!isNaN(parseFloat(n));class yS{constructor(a,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,u=!0)=>{const m=Fn.now();this.updatedAt!==m&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),u&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(a),this.owner=r.owner}setCurrent(a){this.current=a,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&a!==void 0&&(this.canTrackVelocity=gS(this.current))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,r){this.events[a]||(this.events[a]=new Ef);const o=this.events[a].add(r);return a==="change"?()=>{o(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const a in this.events)this.events[a].clear()}attach(a,r){this.passiveEffect=a,this.stopPassiveEffect=r}set(a,r=!0){!r||!this.passiveEffect?this.updateAndNotify(a,r):this.passiveEffect(a,this.updateAndNotify)}setWithVelocity(a,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-o}jump(a,r=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const a=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||a-this.updatedAt>yg)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,yg);return zb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(a){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=a(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bl(n,a){return new yS(n,a)}function bS(n,a,r){n.hasValue(a)?n.getValue(a).set(r):n.addValue(a,Bl(r))}function vS(n,a){const r=Lo(n,a);let{transitionEnd:o={},transition:u={},...m}=r||{};m={...m,...o};for(const f in m){const h=DN(m[f]);bS(n,f,h)}}function wS(n){return!!(It(n)&&n.add)}function Dd(n,a){const r=n.getValue("willChange");if(wS(r))return r.add(a)}function Ub(n){return n.props[db]}const Ob=(n,a,r)=>(((1-3*r+3*a)*n+(3*r-6*a))*n+3*a)*n,jS=1e-7,NS=12;function SS(n,a,r,o,u){let m,f,h=0;do f=a+(r-a)/2,m=Ob(f,o,u)-n,m>0?r=f:a=f;while(Math.abs(m)>jS&&++h<NS);return f}function Gl(n,a,r,o){if(n===a&&r===o)return bn;const u=m=>SS(m,0,1,n,r);return m=>m===0||m===1?m:Ob(u(m),a,o)}const Lb=n=>a=>a<=.5?n(2*a)/2:(2-n(2*(1-a)))/2,Bb=n=>a=>1-n(1-a),Vb=Gl(.33,1.53,.69,.99),Cf=Bb(Vb),Hb=Lb(Cf),$b=n=>(n*=2)<1?.5*Cf(n):.5*(2-Math.pow(2,-10*(n-1))),_f=n=>1-Math.sin(Math.acos(n)),qb=Bb(_f),Pb=Lb(_f),Gb=n=>/^0[^.\s]+$/u.test(n);function kS(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Gb(n):!0}const Ml=n=>Math.round(n*1e5)/1e5,Mf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AS(n){return n==null}const TS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Df=(n,a)=>r=>!!(typeof r=="string"&&TS.test(r)&&r.startsWith(n)||a&&!AS(r)&&Object.prototype.hasOwnProperty.call(r,a)),Yb=(n,a,r)=>o=>{if(typeof o!="string")return o;const[u,m,f,h]=o.match(Mf);return{[n]:parseFloat(u),[a]:parseFloat(m),[r]:parseFloat(f),alpha:h!==void 0?parseFloat(h):1}},ES=n=>vs(0,255,n),ud={...Ai,transform:n=>Math.round(ES(n))},Na={test:Df("rgb","red"),parse:Yb("red","green","blue"),transform:({red:n,green:a,blue:r,alpha:o=1})=>"rgba("+ud.transform(n)+", "+ud.transform(a)+", "+ud.transform(r)+", "+Ml(Ll.transform(o))+")"};function CS(n){let a="",r="",o="",u="";return n.length>5?(a=n.substring(1,3),r=n.substring(3,5),o=n.substring(5,7),u=n.substring(7,9)):(a=n.substring(1,2),r=n.substring(2,3),o=n.substring(3,4),u=n.substring(4,5),a+=a,r+=r,o+=o,u+=u),{red:parseInt(a,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:u?parseInt(u,16)/255:1}}const Rd={test:Df("#"),parse:CS,transform:Na.transform},gi={test:Df("hsl","hue"),parse:Yb("hue","saturation","lightness"),transform:({hue:n,saturation:a,lightness:r,alpha:o=1})=>"hsla("+Math.round(n)+", "+Jn.transform(Ml(a))+", "+Jn.transform(Ml(r))+", "+Ml(Ll.transform(o))+")"},Jt={test:n=>Na.test(n)||Rd.test(n)||gi.test(n),parse:n=>Na.test(n)?Na.parse(n):gi.test(n)?gi.parse(n):Rd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Na.transform(n):gi.transform(n)},_S=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MS(n){var a,r;return isNaN(n)&&typeof n=="string"&&(((a=n.match(Mf))===null||a===void 0?void 0:a.length)||0)+(((r=n.match(_S))===null||r===void 0?void 0:r.length)||0)>0}const Xb="number",Zb="color",DS="var",RS="var(",bg="${}",zS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vl(n){const a=n.toString(),r=[],o={color:[],number:[],var:[]},u=[];let m=0;const h=a.replace(zS,x=>(Jt.test(x)?(o.color.push(m),u.push(Zb),r.push(Jt.parse(x))):x.startsWith(RS)?(o.var.push(m),u.push(DS),r.push(x)):(o.number.push(m),u.push(Xb),r.push(parseFloat(x))),++m,bg)).split(bg);return{values:r,split:h,indexes:o,types:u}}function Qb(n){return Vl(n).values}function Kb(n){const{split:a,types:r}=Vl(n),o=a.length;return u=>{let m="";for(let f=0;f<o;f++)if(m+=a[f],u[f]!==void 0){const h=r[f];h===Xb?m+=Ml(u[f]):h===Zb?m+=Jt.transform(u[f]):m+=u[f]}return m}}const US=n=>typeof n=="number"?0:n;function OS(n){const a=Qb(n);return Kb(n)(a.map(US))}const Ks={test:MS,parse:Qb,createTransformer:Kb,getAnimatableNone:OS},LS=new Set(["brightness","contrast","saturate","opacity"]);function BS(n){const[a,r]=n.slice(0,-1).split("(");if(a==="drop-shadow")return n;const[o]=r.match(Mf)||[];if(!o)return n;const u=r.replace(o,"");let m=LS.has(a)?1:0;return o!==r&&(m*=100),a+"("+m+u+")"}const VS=/\b([a-z-]*)\(.*?\)/gu,zd={...Ks,getAnimatableNone:n=>{const a=n.match(VS);return a?a.map(BS).join(" "):n}},HS={...xf,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:zd,WebkitFilter:zd},Rf=n=>HS[n];function Jb(n,a){let r=Rf(n);return r!==zd&&(r=Ks),r.getAnimatableNone?r.getAnimatableNone(a):void 0}const $S=new Set(["auto","none","0"]);function qS(n,a,r){let o=0,u;for(;o<n.length&&!u;){const m=n[o];typeof m=="string"&&!$S.has(m)&&Vl(m).values.length&&(u=n[o]),o++}if(u&&r)for(const m of a)n[m]=Jb(r,u)}const vg=n=>n===Ai||n===He,wg=(n,a)=>parseFloat(n.split(", ")[a]),jg=(n,a)=>(r,{transform:o})=>{if(o==="none"||!o)return 0;const u=o.match(/^matrix3d\((.+)\)$/u);if(u)return wg(u[1],a);{const m=o.match(/^matrix\((.+)\)$/u);return m?wg(m[1],n):0}},PS=new Set(["x","y","z"]),GS=ki.filter(n=>!PS.has(n));function YS(n){const a=[];return GS.forEach(r=>{const o=n.getValue(r);o!==void 0&&(a.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),a}const Ni={width:({x:n},{paddingLeft:a="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(a)-parseFloat(r),height:({y:n},{paddingTop:a="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(a)-parseFloat(r),top:(n,{top:a})=>parseFloat(a),left:(n,{left:a})=>parseFloat(a),bottom:({y:n},{top:a})=>parseFloat(a)+(n.max-n.min),right:({x:n},{left:a})=>parseFloat(a)+(n.max-n.min),x:jg(4,13),y:jg(5,14)};Ni.translateX=Ni.x;Ni.translateY=Ni.y;const Sa=new Set;let Ud=!1,Od=!1;function Fb(){if(Od){const n=Array.from(Sa).filter(o=>o.needsMeasurement),a=new Set(n.map(o=>o.element)),r=new Map;a.forEach(o=>{const u=YS(o);u.length&&(r.set(o,u),o.render())}),n.forEach(o=>o.measureInitialState()),a.forEach(o=>{o.render();const u=r.get(o);u&&u.forEach(([m,f])=>{var h;(h=o.getValue(m))===null||h===void 0||h.set(f)})}),n.forEach(o=>o.measureEndState()),n.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Od=!1,Ud=!1,Sa.forEach(n=>n.complete()),Sa.clear()}function Ib(){Sa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Od=!0)})}function XS(){Ib(),Fb()}class zf{constructor(a,r,o,u,m,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...a],this.onComplete=r,this.name=o,this.motionValue=u,this.element=m,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Sa.add(this),Ud||(Ud=!0,xt.read(Ib),xt.resolveKeyframes(Fb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:a,name:r,element:o,motionValue:u}=this;for(let m=0;m<a.length;m++)if(a[m]===null)if(m===0){const f=u?.get(),h=a[a.length-1];if(f!==void 0)a[0]=f;else if(o&&r){const x=o.readValue(r,h);x!=null&&(a[0]=x)}a[0]===void 0&&(a[0]=h),u&&f===void 0&&u.set(a[0])}else a[m]=a[m-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Sa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Sa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Wb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),ZS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QS(n){const a=ZS.exec(n);if(!a)return[,];const[,r,o,u]=a;return[`--${r??o}`,u]}function e0(n,a,r=1){const[o,u]=QS(n);if(!o)return;const m=window.getComputedStyle(a).getPropertyValue(o);if(m){const f=m.trim();return Wb(f)?parseFloat(f):f}return pf(u)?e0(u,a,r+1):u}const t0=n=>a=>a.test(n),KS={test:n=>n==="auto",parse:n=>n},n0=[Ai,He,Jn,Zs,BN,LN,KS],Ng=n=>n0.find(t0(n));class s0 extends zf{constructor(a,r,o,u,m){super(a,r,o,u,m,!0)}readKeyframes(){const{unresolvedKeyframes:a,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let x=0;x<a.length;x++){let p=a[x];if(typeof p=="string"&&(p=p.trim(),pf(p))){const y=e0(p,r.current);y!==void 0&&(a[x]=y),x===a.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Rb.has(o)||a.length!==2)return;const[u,m]=a,f=Ng(u),h=Ng(m);if(f!==h)if(vg(f)&&vg(h))for(let x=0;x<a.length;x++){const p=a[x];typeof p=="string"&&(a[x]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:a,name:r}=this,o=[];for(let u=0;u<a.length;u++)kS(a[u])&&o.push(u);o.length&&qS(a,o,r)}measureInitialState(){const{element:a,unresolvedKeyframes:r,name:o}=this;if(!a||!a.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ni[o](a.measureViewportBox(),window.getComputedStyle(a.current)),r[0]=this.measuredOrigin;const u=r[r.length-1];u!==void 0&&a.getValue(o,u).jump(u,!1)}measureEndState(){var a;const{element:r,name:o,unresolvedKeyframes:u}=this;if(!r||!r.current)return;const m=r.getValue(o);m&&m.jump(this.measuredOrigin,!1);const f=u.length-1,h=u[f];u[f]=Ni[o](r.measureViewportBox(),window.getComputedStyle(r.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((a=this.removedTransforms)===null||a===void 0)&&a.length&&this.removedTransforms.forEach(([x,p])=>{r.getValue(x).set(p)}),this.resolveNoneKeyframes()}}const Sg=(n,a)=>a==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ks.test(n)||n==="0")&&!n.startsWith("url("));function JS(n){const a=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==a)return!0}function FS(n,a,r,o){const u=n[0];if(u===null)return!1;if(a==="display"||a==="visibility")return!0;const m=n[n.length-1],f=Sg(u,a),h=Sg(m,a);return!f||!h?!1:JS(n)||(r==="spring"||Nf(r))&&o}const IS=n=>n!==null;function Bo(n,{repeat:a,repeatType:r="loop"},o){const u=n.filter(IS),m=a&&r!=="loop"&&a%2===1?0:u.length-1;return!m||o===void 0?u[m]:o}const WS=40;class a0{constructor({autoplay:a=!0,delay:r=0,type:o="keyframes",repeat:u=0,repeatDelay:m=0,repeatType:f="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fn.now(),this.options={autoplay:a,delay:r,type:o,repeat:u,repeatDelay:m,repeatType:f,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>WS?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&XS(),this._resolved}onKeyframesResolved(a,r){this.resolvedAt=Fn.now(),this.hasAttemptedResolve=!0;const{name:o,type:u,velocity:m,delay:f,onComplete:h,onUpdate:x,isGenerator:p}=this.options;if(!p&&!FS(a,o,u,m))if(f)this.options.duration=0;else{x&&x(Bo(a,this.options,r)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(a,r);y!==!1&&(this._resolved={keyframes:a,finalKeyframe:r,...y},this.onPostResolved())}onPostResolved(){}then(a,r){return this.currentFinishedPromise.then(a,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(a=>{this.resolveFinishedPromise=a})}}const bt=(n,a,r)=>n+(a-n)*r;function dd(n,a,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(a-n)*6*r:r<1/2?a:r<2/3?n+(a-n)*(2/3-r)*6:n}function ek({hue:n,saturation:a,lightness:r,alpha:o}){n/=360,a/=100,r/=100;let u=0,m=0,f=0;if(!a)u=m=f=r;else{const h=r<.5?r*(1+a):r+a-r*a,x=2*r-h;u=dd(x,h,n+1/3),m=dd(x,h,n),f=dd(x,h,n-1/3)}return{red:Math.round(u*255),green:Math.round(m*255),blue:Math.round(f*255),alpha:o}}function To(n,a){return r=>r>0?a:n}const fd=(n,a,r)=>{const o=n*n,u=r*(a*a-o)+o;return u<0?0:Math.sqrt(u)},tk=[Rd,Na,gi],nk=n=>tk.find(a=>a.test(n));function kg(n){const a=nk(n);if(!a)return!1;let r=a.parse(n);return a===gi&&(r=ek(r)),r}const Ag=(n,a)=>{const r=kg(n),o=kg(a);if(!r||!o)return To(n,a);const u={...r};return m=>(u.red=fd(r.red,o.red,m),u.green=fd(r.green,o.green,m),u.blue=fd(r.blue,o.blue,m),u.alpha=bt(r.alpha,o.alpha,m),Na.transform(u))},sk=(n,a)=>r=>a(n(r)),Yl=(...n)=>n.reduce(sk),Ld=new Set(["none","hidden"]);function ak(n,a){return Ld.has(n)?r=>r<=0?n:a:r=>r>=1?a:n}function ik(n,a){return r=>bt(n,a,r)}function Uf(n){return typeof n=="number"?ik:typeof n=="string"?pf(n)?To:Jt.test(n)?Ag:ok:Array.isArray(n)?i0:typeof n=="object"?Jt.test(n)?Ag:lk:To}function i0(n,a){const r=[...n],o=r.length,u=n.map((m,f)=>Uf(m)(m,a[f]));return m=>{for(let f=0;f<o;f++)r[f]=u[f](m);return r}}function lk(n,a){const r={...n,...a},o={};for(const u in r)n[u]!==void 0&&a[u]!==void 0&&(o[u]=Uf(n[u])(n[u],a[u]));return u=>{for(const m in o)r[m]=o[m](u);return r}}function rk(n,a){var r;const o=[],u={color:0,var:0,number:0};for(let m=0;m<a.values.length;m++){const f=a.types[m],h=n.indexes[f][u[f]],x=(r=n.values[h])!==null&&r!==void 0?r:0;o[m]=x,u[f]++}return o}const ok=(n,a)=>{const r=Ks.createTransformer(a),o=Vl(n),u=Vl(a);return o.indexes.var.length===u.indexes.var.length&&o.indexes.color.length===u.indexes.color.length&&o.indexes.number.length>=u.indexes.number.length?Ld.has(n)&&!u.values.length||Ld.has(a)&&!o.values.length?ak(n,a):Yl(i0(rk(o,u),u.values),r):To(n,a)};function l0(n,a,r){return typeof n=="number"&&typeof a=="number"&&typeof r=="number"?bt(n,a,r):Uf(n)(n,a)}const ck=5;function r0(n,a,r){const o=Math.max(a-ck,0);return zb(r-n(o),a-o)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},md=.001;function uk({duration:n=Nt.duration,bounce:a=Nt.bounce,velocity:r=Nt.velocity,mass:o=Nt.mass}){let u,m,f=1-a;f=vs(Nt.minDamping,Nt.maxDamping,f),n=vs(Nt.minDuration,Nt.maxDuration,bs(n)),f<1?(u=p=>{const y=p*f,v=y*n,j=y-r,k=Bd(p,f),T=Math.exp(-v);return md-j/k*T},m=p=>{const v=p*f*n,j=v*r+r,k=Math.pow(f,2)*Math.pow(p,2)*n,T=Math.exp(-v),_=Bd(Math.pow(p,2),f);return(-u(p)+md>0?-1:1)*((j-k)*T)/_}):(u=p=>{const y=Math.exp(-p*n),v=(p-r)*n+1;return-md+y*v},m=p=>{const y=Math.exp(-p*n),v=(r-p)*(n*n);return y*v});const h=5/n,x=fk(u,m,h);if(n=ys(n),isNaN(x))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:n};{const p=Math.pow(x,2)*o;return{stiffness:p,damping:f*2*Math.sqrt(o*p),duration:n}}}const dk=12;function fk(n,a,r){let o=r;for(let u=1;u<dk;u++)o=o-n(o)/a(o);return o}function Bd(n,a){return n*Math.sqrt(1-a*a)}const mk=["duration","bounce"],hk=["stiffness","damping","mass"];function Tg(n,a){return a.some(r=>n[r]!==void 0)}function pk(n){let a={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...n};if(!Tg(n,hk)&&Tg(n,mk))if(n.visualDuration){const r=n.visualDuration,o=2*Math.PI/(r*1.2),u=o*o,m=2*vs(.05,1,1-(n.bounce||0))*Math.sqrt(u);a={...a,mass:Nt.mass,stiffness:u,damping:m}}else{const r=uk(n);a={...a,...r,mass:Nt.mass},a.isResolvedFromDuration=!0}return a}function o0(n=Nt.visualDuration,a=Nt.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:a}:n;let{restSpeed:o,restDelta:u}=r;const m=r.keyframes[0],f=r.keyframes[r.keyframes.length-1],h={done:!1,value:m},{stiffness:x,damping:p,mass:y,duration:v,velocity:j,isResolvedFromDuration:k}=pk({...r,velocity:-bs(r.velocity||0)}),T=j||0,_=p/(2*Math.sqrt(x*y)),H=f-m,$=bs(Math.sqrt(x/y)),G=Math.abs(H)<5;o||(o=G?Nt.restSpeed.granular:Nt.restSpeed.default),u||(u=G?Nt.restDelta.granular:Nt.restDelta.default);let D;if(_<1){const E=Bd($,_);D=U=>{const L=Math.exp(-_*$*U);return f-L*((T+_*$*H)/E*Math.sin(E*U)+H*Math.cos(E*U))}}else if(_===1)D=E=>f-Math.exp(-$*E)*(H+(T+$*H)*E);else{const E=$*Math.sqrt(_*_-1);D=U=>{const L=Math.exp(-_*$*U),V=Math.min(E*U,300);return f-L*((T+_*$*H)*Math.sinh(V)+E*H*Math.cosh(V))/E}}const S={calculatedDuration:k&&v||null,next:E=>{const U=D(E);if(k)h.done=E>=v;else{let L=0;_<1&&(L=E===0?ys(T):r0(D,E,U));const V=Math.abs(L)<=o,J=Math.abs(f-U)<=u;h.done=V&&J}return h.value=h.done?f:U,h},toString:()=>{const E=Math.min(Ab(S),_d),U=Tb(L=>S.next(E*L).value,E,30);return E+"ms "+U}};return S}function Eg({keyframes:n,velocity:a=0,power:r=.8,timeConstant:o=325,bounceDamping:u=10,bounceStiffness:m=500,modifyTarget:f,min:h,max:x,restDelta:p=.5,restSpeed:y}){const v=n[0],j={done:!1,value:v},k=V=>h!==void 0&&V<h||x!==void 0&&V>x,T=V=>h===void 0?x:x===void 0||Math.abs(h-V)<Math.abs(x-V)?h:x;let _=r*a;const H=v+_,$=f===void 0?H:f(H);$!==H&&(_=$-v);const G=V=>-_*Math.exp(-V/o),D=V=>$+G(V),S=V=>{const J=G(V),se=D(V);j.done=Math.abs(J)<=p,j.value=j.done?$:se};let E,U;const L=V=>{k(j.value)&&(E=V,U=o0({keyframes:[j.value,T(j.value)],velocity:r0(D,V,j.value),damping:u,stiffness:m,restDelta:p,restSpeed:y}))};return L(0),{calculatedDuration:null,next:V=>{let J=!1;return!U&&E===void 0&&(J=!0,S(V),L(V)),E!==void 0&&V>=E?U.next(V-E):(!J&&S(V),j)}}}const xk=Gl(.42,0,1,1),gk=Gl(0,0,.58,1),c0=Gl(.42,0,.58,1),yk=n=>Array.isArray(n)&&typeof n[0]!="number",bk={linear:bn,easeIn:xk,easeInOut:c0,easeOut:gk,circIn:_f,circInOut:Pb,circOut:qb,backIn:Cf,backInOut:Hb,backOut:Vb,anticipate:$b},Cg=n=>{if(Sf(n)){lb(n.length===4);const[a,r,o,u]=n;return Gl(a,r,o,u)}else if(typeof n=="string")return bk[n];return n};function vk(n,a,r){const o=[],u=r||l0,m=n.length-1;for(let f=0;f<m;f++){let h=u(n[f],n[f+1]);if(a){const x=Array.isArray(a)?a[f]||bn:a;h=Yl(x,h)}o.push(h)}return o}function wk(n,a,{clamp:r=!0,ease:o,mixer:u}={}){const m=n.length;if(lb(m===a.length),m===1)return()=>a[0];if(m===2&&a[0]===a[1])return()=>a[1];const f=n[0]===n[1];n[0]>n[m-1]&&(n=[...n].reverse(),a=[...a].reverse());const h=vk(a,o,u),x=h.length,p=y=>{if(f&&y<n[0])return a[0];let v=0;if(x>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const j=wi(n[v],n[v+1],y);return h[v](j)};return r?y=>p(vs(n[0],n[m-1],y)):p}function jk(n,a){const r=n[n.length-1];for(let o=1;o<=a;o++){const u=wi(0,a,o);n.push(bt(r,1,u))}}function Nk(n){const a=[0];return jk(a,n.length-1),a}function Sk(n,a){return n.map(r=>r*a)}function kk(n,a){return n.map(()=>a||c0).splice(0,n.length-1)}function Eo({duration:n=300,keyframes:a,times:r,ease:o="easeInOut"}){const u=yk(o)?o.map(Cg):Cg(o),m={done:!1,value:a[0]},f=Sk(r&&r.length===a.length?r:Nk(a),n),h=wk(f,a,{ease:Array.isArray(u)?u:kk(a,u)});return{calculatedDuration:n,next:x=>(m.value=h(x),m.done=x>=n,m)}}const Ak=n=>{const a=({timestamp:r})=>n(r);return{start:()=>xt.update(a,!0),stop:()=>Qs(a),now:()=>Yt.isProcessing?Yt.timestamp:Fn.now()}},Tk={decay:Eg,inertia:Eg,tween:Eo,keyframes:Eo,spring:o0},Ek=n=>n/100;class Of extends a0{constructor(a){super(a),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:x}=this.options;x&&x()};const{name:r,motionValue:o,element:u,keyframes:m}=this.options,f=u?.KeyframeResolver||zf,h=(x,p)=>this.onKeyframesResolved(x,p);this.resolver=new f(m,h,r,o,u),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(a){const{type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:m,velocity:f=0}=this.options,h=Nf(r)?r:Tk[r]||Eo;let x,p;h!==Eo&&typeof a[0]!="number"&&(x=Yl(Ek,l0(a[0],a[1])),a=[0,100]);const y=h({...this.options,keyframes:a});m==="mirror"&&(p=h({...this.options,keyframes:[...a].reverse(),velocity:-f})),y.calculatedDuration===null&&(y.calculatedDuration=Ab(y));const{calculatedDuration:v}=y,j=v+u,k=j*(o+1)-u;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:x,calculatedDuration:v,resolvedDuration:j,totalDuration:k}}onPostResolved(){const{autoplay:a=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!a?this.pause():this.state=this.pendingPlayState}tick(a,r=!1){const{resolved:o}=this;if(!o){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:u,generator:m,mirroredGenerator:f,mapPercentToKeyframes:h,keyframes:x,calculatedDuration:p,totalDuration:y,resolvedDuration:v}=o;if(this.startTime===null)return m.next(0);const{delay:j,repeat:k,repeatType:T,repeatDelay:_,onUpdate:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-y/this.speed,this.startTime)),r?this.currentTime=a:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(a-this.startTime)*this.speed;const $=this.currentTime-j*(this.speed>=0?1:-1),G=this.speed>=0?$<0:$>y;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let D=this.currentTime,S=m;if(k){const V=Math.min(this.currentTime,y)/v;let J=Math.floor(V),se=V%1;!se&&V>=1&&(se=1),se===1&&J--,J=Math.min(J,k+1),J%2&&(T==="reverse"?(se=1-se,_&&(se-=_/v)):T==="mirror"&&(S=f)),D=vs(0,1,se)*v}const E=G?{done:!1,value:x[0]}:S.next(D);h&&(E.value=h(E.value));let{done:U}=E;!G&&p!==null&&(U=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return L&&u!==void 0&&(E.value=Bo(x,this.options,u)),H&&H(E.value),L&&this.finish(),E}get duration(){const{resolved:a}=this;return a?bs(a.calculatedDuration):0}get time(){return bs(this.currentTime)}set time(a){a=ys(a),this.currentTime=a,this.holdTime!==null||this.speed===0?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.speed)}get speed(){return this.playbackSpeed}set speed(a){const r=this.playbackSpeed!==a;this.playbackSpeed=a,r&&(this.time=bs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:a=Ak,onPlay:r,startTime:o}=this.options;this.driver||(this.driver=a(m=>this.tick(m))),r&&r();const u=this.driver.now();this.holdTime!==null?this.startTime=u-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=u):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var a;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(a=this.currentTime)!==null&&a!==void 0?a:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:a}=this.options;a&&a()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}}const Ck=new Set(["opacity","clipPath","filter","transform"]);function _k(n,a,r,{delay:o=0,duration:u=300,repeat:m=0,repeatType:f="loop",ease:h="easeInOut",times:x}={}){const p={[a]:r};x&&(p.offset=x);const y=Cb(h,u);return Array.isArray(y)&&(p.easing=y),n.animate(p,{delay:o,duration:u,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:m+1,direction:f==="reverse"?"alternate":"normal"})}const Mk=of(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Co=10,Dk=2e4;function Rk(n){return Nf(n.type)||n.type==="spring"||!Eb(n.ease)}function zk(n,a){const r=new Of({...a,keyframes:n,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:n[0]};const u=[];let m=0;for(;!o.done&&m<Dk;)o=r.sample(m),u.push(o.value),m+=Co;return{times:void 0,keyframes:u,duration:m-Co,ease:"linear"}}const u0={anticipate:$b,backInOut:Hb,circInOut:Pb};function Uk(n){return n in u0}class _g extends a0{constructor(a){super(a);const{name:r,motionValue:o,element:u,keyframes:m}=this.options;this.resolver=new s0(m,(f,h)=>this.onKeyframesResolved(f,h),r,o,u),this.resolver.scheduleResolve()}initPlayback(a,r){let{duration:o=300,times:u,ease:m,type:f,motionValue:h,name:x,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof m=="string"&&Ao()&&Uk(m)&&(m=u0[m]),Rk(this.options)){const{onComplete:v,onUpdate:j,motionValue:k,element:T,..._}=this.options,H=zk(a,_);a=H.keyframes,a.length===1&&(a[1]=a[0]),o=H.duration,u=H.times,m=H.ease,f="keyframes"}const y=_k(h.owner.current,x,a,{...this.options,duration:o,times:u,ease:m});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(hg(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:v}=this.options;h.set(Bo(a,this.options,r)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:o,times:u,type:f,ease:m,keyframes:a}}get duration(){const{resolved:a}=this;if(!a)return 0;const{duration:r}=a;return bs(r)}get time(){const{resolved:a}=this;if(!a)return 0;const{animation:r}=a;return bs(r.currentTime||0)}set time(a){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.currentTime=ys(a)}get speed(){const{resolved:a}=this;if(!a)return 1;const{animation:r}=a;return r.playbackRate}set speed(a){const{resolved:r}=this;if(!r)return;const{animation:o}=r;o.playbackRate=a}get state(){const{resolved:a}=this;if(!a)return"idle";const{animation:r}=a;return r.playState}get startTime(){const{resolved:a}=this;if(!a)return null;const{animation:r}=a;return r.startTime}attachTimeline(a){if(!this._resolved)this.pendingTimeline=a;else{const{resolved:r}=this;if(!r)return bn;const{animation:o}=r;hg(o,a)}return bn}play(){if(this.isStopped)return;const{resolved:a}=this;if(!a)return;const{animation:r}=a;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:a}=this;if(!a)return;const{animation:r}=a;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:a}=this;if(!a)return;const{animation:r,keyframes:o,duration:u,type:m,ease:f,times:h}=a;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:v,element:j,...k}=this.options,T=new Of({...k,keyframes:o,duration:u,type:m,ease:f,times:h,isGenerator:!0}),_=ys(this.time);p.setWithVelocity(T.sample(_-Co).value,T.sample(_).value,Co)}const{onStop:x}=this.options;x&&x(),this.cancel()}complete(){const{resolved:a}=this;a&&a.animation.finish()}cancel(){const{resolved:a}=this;a&&a.animation.cancel()}static supports(a){const{motionValue:r,name:o,repeatDelay:u,repeatType:m,damping:f,type:h}=a;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:p}=r.owner.getProps();return Mk()&&o&&Ck.has(o)&&!x&&!p&&!u&&m!=="mirror"&&f!==0&&h!=="inertia"}}const Ok={type:"spring",stiffness:500,damping:25,restSpeed:10},Lk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Bk={type:"keyframes",duration:.8},Vk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hk=(n,{keyframes:a})=>a.length>2?Bk:Aa.has(n)?n.startsWith("scale")?Lk(a[1]):Ok:Vk;function $k({when:n,delay:a,delayChildren:r,staggerChildren:o,staggerDirection:u,repeat:m,repeatType:f,repeatDelay:h,from:x,elapsed:p,...y}){return!!Object.keys(y).length}const Lf=(n,a,r,o={},u,m)=>f=>{const h=jf(o,n)||{},x=h.delay||o.delay||0;let{elapsed:p=0}=o;p=p-ys(x);let y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:a.getVelocity(),...h,delay:-p,onUpdate:j=>{a.set(j),h.onUpdate&&h.onUpdate(j)},onComplete:()=>{f(),h.onComplete&&h.onComplete()},name:n,motionValue:a,element:m?void 0:u};$k(h)||(y={...y,...Hk(n,y)}),y.duration&&(y.duration=ys(y.duration)),y.repeatDelay&&(y.repeatDelay=ys(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(v=!0)),v&&!m&&a.get()!==void 0){const j=Bo(y.keyframes,h);if(j!==void 0)return xt.update(()=>{y.onUpdate(j),y.onComplete()}),new lS([])}return!m&&_g.supports(y)?new _g(y):new Of(y)};function qk({protectedKeys:n,needsAnimating:a},r){const o=n.hasOwnProperty(r)&&a[r]!==!0;return a[r]=!1,o}function d0(n,a,{delay:r=0,transitionOverride:o,type:u}={}){var m;let{transition:f=n.getDefaultTransition(),transitionEnd:h,...x}=a;o&&(f=o);const p=[],y=u&&n.animationState&&n.animationState.getState()[u];for(const v in x){const j=n.getValue(v,(m=n.latestValues[v])!==null&&m!==void 0?m:null),k=x[v];if(k===void 0||y&&qk(y,v))continue;const T={delay:r,...jf(f||{},v)};let _=!1;if(window.MotionHandoffAnimation){const $=Ub(n);if($){const G=window.MotionHandoffAnimation($,v,xt);G!==null&&(T.startTime=G,_=!0)}}Dd(n,v),j.start(Lf(v,j,k,n.shouldReduceMotion&&Rb.has(v)?{type:!1}:T,n,_));const H=j.animation;H&&p.push(H)}return h&&Promise.all(p).then(()=>{xt.update(()=>{h&&vS(n,h)})}),p}function Vd(n,a,r={}){var o;const u=Lo(n,a,r.type==="exit"?(o=n.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:m=n.getDefaultTransition()||{}}=u||{};r.transitionOverride&&(m=r.transitionOverride);const f=u?()=>Promise.all(d0(n,u,r)):()=>Promise.resolve(),h=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:j}=m;return Pk(n,a,y+p,v,j,r)}:()=>Promise.resolve(),{when:x}=m;if(x){const[p,y]=x==="beforeChildren"?[f,h]:[h,f];return p().then(()=>y())}else return Promise.all([f(),h(r.delay)])}function Pk(n,a,r=0,o=0,u=1,m){const f=[],h=(n.variantChildren.size-1)*o,x=u===1?(p=0)=>p*o:(p=0)=>h-p*o;return Array.from(n.variantChildren).sort(Gk).forEach((p,y)=>{p.notify("AnimationStart",a),f.push(Vd(p,a,{...m,delay:r+x(y)}).then(()=>p.notify("AnimationComplete",a)))}),Promise.all(f)}function Gk(n,a){return n.sortNodePosition(a)}function Yk(n,a,r={}){n.notify("AnimationStart",a);let o;if(Array.isArray(a)){const u=a.map(m=>Vd(n,m,r));o=Promise.all(u)}else if(typeof a=="string")o=Vd(n,a,r);else{const u=typeof a=="function"?Lo(n,a,r.custom):a;o=Promise.all(d0(n,u,r))}return o.then(()=>{n.notify("AnimationComplete",a)})}const Xk=uf.length;function f0(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?f0(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const a={};for(let r=0;r<Xk;r++){const o=uf[r],u=n.props[o];(Ol(u)||u===!1)&&(a[o]=u)}return a}const Zk=[...cf].reverse(),Qk=cf.length;function Kk(n){return a=>Promise.all(a.map(({animation:r,options:o})=>Yk(n,r,o)))}function Jk(n){let a=Kk(n),r=Mg(),o=!0;const u=x=>(p,y)=>{var v;const j=Lo(n,y,x==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(j){const{transition:k,transitionEnd:T,..._}=j;p={...p,..._,...T}}return p};function m(x){a=x(n)}function f(x){const{props:p}=n,y=f0(n.parent)||{},v=[],j=new Set;let k={},T=1/0;for(let H=0;H<Qk;H++){const $=Zk[H],G=r[$],D=p[$]!==void 0?p[$]:y[$],S=Ol(D),E=$===x?G.isActive:null;E===!1&&(T=H);let U=D===y[$]&&D!==p[$]&&S;if(U&&o&&n.manuallyAnimateOnMount&&(U=!1),G.protectedKeys={...k},!G.isActive&&E===null||!D&&!G.prevProp||Uo(D)||typeof D=="boolean")continue;const L=Fk(G.prevProp,D);let V=L||$===x&&G.isActive&&!U&&S||H>T&&S,J=!1;const se=Array.isArray(D)?D:[D];let he=se.reduce(u($),{});E===!1&&(he={});const{prevResolvedValues:ce={}}=G,te={...ce,...he},ee=O=>{V=!0,j.has(O)&&(J=!0,j.delete(O)),G.needsAnimating[O]=!0;const W=n.getValue(O);W&&(W.liveStyle=!1)};for(const O in te){const W=he[O],re=ce[O];if(k.hasOwnProperty(O))continue;let z=!1;Cd(W)&&Cd(re)?z=!kb(W,re):z=W!==re,z?W!=null?ee(O):j.add(O):W!==void 0&&j.has(O)?ee(O):G.protectedKeys[O]=!0}G.prevProp=D,G.prevResolvedValues=he,G.isActive&&(k={...k,...he}),o&&n.blockInitialAnimation&&(V=!1),V&&(!(U&&L)||J)&&v.push(...se.map(O=>({animation:O,options:{type:$}})))}if(j.size){const H={};j.forEach($=>{const G=n.getBaseTarget($),D=n.getValue($);D&&(D.liveStyle=!0),H[$]=G??null}),v.push({animation:H})}let _=!!v.length;return o&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(_=!1),o=!1,_?a(v):Promise.resolve()}function h(x,p){var y;if(r[x].isActive===p)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(j=>{var k;return(k=j.animationState)===null||k===void 0?void 0:k.setActive(x,p)}),r[x].isActive=p;const v=f(x);for(const j in r)r[j].protectedKeys={};return v}return{animateChanges:f,setActive:h,setAnimateFunction:m,getState:()=>r,reset:()=>{r=Mg(),o=!0}}}function Fk(n,a){return typeof a=="string"?a!==n:Array.isArray(a)?!kb(a,n):!1}function ya(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mg(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class Js{constructor(a){this.isMounted=!1,this.node=a}update(){}}class Ik extends Js{constructor(a){super(a),a.animationState||(a.animationState=Jk(a))}updateAnimationControlsSubscription(){const{animate:a}=this.node.getProps();Uo(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:a}=this.node.getProps(),{animate:r}=this.node.prevProps||{};a!==r&&this.updateAnimationControlsSubscription()}unmount(){var a;this.node.animationState.reset(),(a=this.unmountControls)===null||a===void 0||a.call(this)}}let Wk=0;class eA extends Js{constructor(){super(...arguments),this.id=Wk++}update(){if(!this.node.presenceContext)return;const{isPresent:a,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===o)return;const u=this.node.animationState.setActive("exit",!a);r&&!a&&u.then(()=>r(this.id))}mount(){const{register:a}=this.node.presenceContext||{};a&&(this.unmount=a(this.id))}unmount(){}}const tA={animation:{Feature:Ik},exit:{Feature:eA}};function Hl(n,a,r,o={passive:!0}){return n.addEventListener(a,r,o),()=>n.removeEventListener(a,r)}function Xl(n){return{point:{x:n.pageX,y:n.pageY}}}const nA=n=>a=>kf(a)&&n(a,Xl(a));function Dl(n,a,r,o){return Hl(n,a,nA(r),o)}const Dg=(n,a)=>Math.abs(n-a);function sA(n,a){const r=Dg(n.x,a.x),o=Dg(n.y,a.y);return Math.sqrt(r**2+o**2)}class m0{constructor(a,r,{transformPagePoint:o,contextWindow:u,dragSnapToOrigin:m=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=pd(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,k=sA(v.offset,{x:0,y:0})>=3;if(!j&&!k)return;const{point:T}=v,{timestamp:_}=Yt;this.history.push({...T,timestamp:_});const{onStart:H,onMove:$}=this.handlers;j||(H&&H(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,v)},this.handlePointerMove=(v,j)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=hd(j,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(v,j)=>{this.end();const{onEnd:k,onSessionEnd:T,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=pd(v.type==="pointercancel"?this.lastMoveEventInfo:hd(j,this.transformPagePoint),this.history);this.startEvent&&k&&k(v,H),T&&T(v,H)},!kf(a))return;this.dragSnapToOrigin=m,this.handlers=r,this.transformPagePoint=o,this.contextWindow=u||window;const f=Xl(a),h=hd(f,this.transformPagePoint),{point:x}=h,{timestamp:p}=Yt;this.history=[{...x,timestamp:p}];const{onSessionStart:y}=r;y&&y(a,pd(h,this.history)),this.removeListeners=Yl(Dl(this.contextWindow,"pointermove",this.handlePointerMove),Dl(this.contextWindow,"pointerup",this.handlePointerUp),Dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),Qs(this.updatePoint)}}function hd(n,a){return a?{point:a(n.point)}:n}function Rg(n,a){return{x:n.x-a.x,y:n.y-a.y}}function pd({point:n},a){return{point:n,delta:Rg(n,h0(a)),offset:Rg(n,aA(a)),velocity:iA(a,.1)}}function aA(n){return n[0]}function h0(n){return n[n.length-1]}function iA(n,a){if(n.length<2)return{x:0,y:0};let r=n.length-1,o=null;const u=h0(n);for(;r>=0&&(o=n[r],!(u.timestamp-o.timestamp>ys(a)));)r--;if(!o)return{x:0,y:0};const m=bs(u.timestamp-o.timestamp);if(m===0)return{x:0,y:0};const f={x:(u.x-o.x)/m,y:(u.y-o.y)/m};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}const p0=1e-4,lA=1-p0,rA=1+p0,x0=.01,oA=0-x0,cA=0+x0;function vn(n){return n.max-n.min}function uA(n,a,r){return Math.abs(n-a)<=r}function zg(n,a,r,o=.5){n.origin=o,n.originPoint=bt(a.min,a.max,n.origin),n.scale=vn(r)/vn(a),n.translate=bt(r.min,r.max,n.origin)-n.originPoint,(n.scale>=lA&&n.scale<=rA||isNaN(n.scale))&&(n.scale=1),(n.translate>=oA&&n.translate<=cA||isNaN(n.translate))&&(n.translate=0)}function Rl(n,a,r,o){zg(n.x,a.x,r.x,o?o.originX:void 0),zg(n.y,a.y,r.y,o?o.originY:void 0)}function Ug(n,a,r){n.min=r.min+a.min,n.max=n.min+vn(a)}function dA(n,a,r){Ug(n.x,a.x,r.x),Ug(n.y,a.y,r.y)}function Og(n,a,r){n.min=a.min-r.min,n.max=n.min+vn(a)}function zl(n,a,r){Og(n.x,a.x,r.x),Og(n.y,a.y,r.y)}function fA(n,{min:a,max:r},o){return a!==void 0&&n<a?n=o?bt(a,n,o.min):Math.max(n,a):r!==void 0&&n>r&&(n=o?bt(r,n,o.max):Math.min(n,r)),n}function Lg(n,a,r){return{min:a!==void 0?n.min+a:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function mA(n,{top:a,left:r,bottom:o,right:u}){return{x:Lg(n.x,r,u),y:Lg(n.y,a,o)}}function Bg(n,a){let r=a.min-n.min,o=a.max-n.max;return a.max-a.min<n.max-n.min&&([r,o]=[o,r]),{min:r,max:o}}function hA(n,a){return{x:Bg(n.x,a.x),y:Bg(n.y,a.y)}}function pA(n,a){let r=.5;const o=vn(n),u=vn(a);return u>o?r=wi(a.min,a.max-o,n.min):o>u&&(r=wi(n.min,n.max-u,a.min)),vs(0,1,r)}function xA(n,a){const r={};return a.min!==void 0&&(r.min=a.min-n.min),a.max!==void 0&&(r.max=a.max-n.min),r}const Hd=.35;function gA(n=Hd){return n===!1?n=0:n===!0&&(n=Hd),{x:Vg(n,"left","right"),y:Vg(n,"top","bottom")}}function Vg(n,a,r){return{min:Hg(n,a),max:Hg(n,r)}}function Hg(n,a){return typeof n=="number"?n:n[a]||0}const $g=()=>({translate:0,scale:1,origin:0,originPoint:0}),yi=()=>({x:$g(),y:$g()}),qg=()=>({min:0,max:0}),Tt=()=>({x:qg(),y:qg()});function Mn(n){return[n("x"),n("y")]}function g0({top:n,left:a,right:r,bottom:o}){return{x:{min:a,max:r},y:{min:n,max:o}}}function yA({x:n,y:a}){return{top:a.min,right:n.max,bottom:a.max,left:n.min}}function bA(n,a){if(!a)return n;const r=a({x:n.left,y:n.top}),o=a({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function xd(n){return n===void 0||n===1}function $d({scale:n,scaleX:a,scaleY:r}){return!xd(n)||!xd(a)||!xd(r)}function va(n){return $d(n)||y0(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function y0(n){return Pg(n.x)||Pg(n.y)}function Pg(n){return n&&n!=="0%"}function _o(n,a,r){const o=n-r,u=a*o;return r+u}function Gg(n,a,r,o,u){return u!==void 0&&(n=_o(n,u,o)),_o(n,r,o)+a}function qd(n,a=0,r=1,o,u){n.min=Gg(n.min,a,r,o,u),n.max=Gg(n.max,a,r,o,u)}function b0(n,{x:a,y:r}){qd(n.x,a.translate,a.scale,a.originPoint),qd(n.y,r.translate,r.scale,r.originPoint)}const Yg=.999999999999,Xg=1.0000000000001;function vA(n,a,r,o=!1){const u=r.length;if(!u)return;a.x=a.y=1;let m,f;for(let h=0;h<u;h++){m=r[h],f=m.projectionDelta;const{visualElement:x}=m.options;x&&x.props.style&&x.props.style.display==="contents"||(o&&m.options.layoutScroll&&m.scroll&&m!==m.root&&vi(n,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),f&&(a.x*=f.x.scale,a.y*=f.y.scale,b0(n,f)),o&&va(m.latestValues)&&vi(n,m.latestValues))}a.x<Xg&&a.x>Yg&&(a.x=1),a.y<Xg&&a.y>Yg&&(a.y=1)}function bi(n,a){n.min=n.min+a,n.max=n.max+a}function Zg(n,a,r,o,u=.5){const m=bt(n.min,n.max,u);qd(n,a,r,m,o)}function vi(n,a){Zg(n.x,a.x,a.scaleX,a.scale,a.originX),Zg(n.y,a.y,a.scaleY,a.scale,a.originY)}function v0(n,a){return g0(bA(n.getBoundingClientRect(),a))}function wA(n,a,r){const o=v0(n,r),{scroll:u}=a;return u&&(bi(o.x,u.offset.x),bi(o.y,u.offset.y)),o}const w0=({current:n})=>n?n.ownerDocument.defaultView:null,jA=new WeakMap;class NA{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=a}start(a,{snapToCursor:r=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Xl(y).point)},m=(y,v)=>{const{drag:j,dragPropagation:k,onDragStart:T}=this.getProps();if(j&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pS(j),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(H=>{let $=this.getAxisMotionValue(H).get()||0;if(Jn.test($)){const{projection:G}=this.visualElement;if(G&&G.layout){const D=G.layout.layoutBox[H];D&&($=vn(D)*(parseFloat($)/100))}}this.originPoint[H]=$}),T&&xt.postRender(()=>T(y,v)),Dd(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},f=(y,v)=>{const{dragPropagation:j,dragDirectionLock:k,onDirectionLock:T,onDrag:_}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:H}=v;if(k&&this.currentDirection===null){this.currentDirection=SA(H),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,H),this.updateAxis("y",v.point,H),this.visualElement.render(),_&&_(y,v)},h=(y,v)=>this.stop(y,v),x=()=>Mn(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new m0(a,{onSessionStart:u,onStart:m,onMove:f,onSessionEnd:h,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:w0(this.visualElement)})}stop(a,r){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:u}=r;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&xt.postRender(()=>m(a,r))}cancel(){this.isDragging=!1;const{projection:a,animationState:r}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(a,r,o){const{drag:u}=this.getProps();if(!o||!po(a,u,this.currentDirection))return;const m=this.getAxisMotionValue(a);let f=this.originPoint[a]+o[a];this.constraints&&this.constraints[a]&&(f=fA(f,this.constraints[a],this.elastic[a])),m.set(f)}resolveConstraints(){var a;const{dragConstraints:r,dragElastic:o}=this.getProps(),u=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)===null||a===void 0?void 0:a.layout,m=this.constraints;r&&xi(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&u?this.constraints=mA(u.layoutBox,r):this.constraints=!1,this.elastic=gA(o),m!==this.constraints&&u&&this.constraints&&!this.hasMutatedConstraints&&Mn(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=xA(u.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:a,onMeasureDragConstraints:r}=this.getProps();if(!a||!xi(a))return!1;const o=a.current,{projection:u}=this.visualElement;if(!u||!u.layout)return!1;const m=wA(o,u.root,this.visualElement.getTransformPagePoint());let f=hA(u.layout.layoutBox,m);if(r){const h=r(yA(f));this.hasMutatedConstraints=!!h,h&&(f=g0(h))}return f}startAnimation(a){const{drag:r,dragMomentum:o,dragElastic:u,dragTransition:m,dragSnapToOrigin:f,onDragTransitionEnd:h}=this.getProps(),x=this.constraints||{},p=Mn(y=>{if(!po(y,r,this.currentDirection))return;let v=x&&x[y]||{};f&&(v={min:0,max:0});const j=u?200:1e6,k=u?40:1e7,T={type:"inertia",velocity:o?a[y]:0,bounceStiffness:j,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...m,...v};return this.startAxisValueAnimation(y,T)});return Promise.all(p).then(h)}startAxisValueAnimation(a,r){const o=this.getAxisMotionValue(a);return Dd(this.visualElement,a),o.start(Lf(a,o,0,r,this.visualElement,!1))}stopAnimation(){Mn(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){Mn(a=>{var r;return(r=this.getAxisMotionValue(a).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(a){var r;return(r=this.getAxisMotionValue(a).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(a){const r=`_drag${a.toUpperCase()}`,o=this.visualElement.getProps(),u=o[r];return u||this.visualElement.getValue(a,(o.initial?o.initial[a]:void 0)||0)}snapToCursor(a){Mn(r=>{const{drag:o}=this.getProps();if(!po(r,o,this.currentDirection))return;const{projection:u}=this.visualElement,m=this.getAxisMotionValue(r);if(u&&u.layout){const{min:f,max:h}=u.layout.layoutBox[r];m.set(a[r]-bt(f,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:a,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!xi(r)||!o||!this.constraints)return;this.stopAnimation();const u={x:0,y:0};Mn(f=>{const h=this.getAxisMotionValue(f);if(h&&this.constraints!==!1){const x=h.get();u[f]=pA({min:x,max:x},this.constraints[f])}});const{transformTemplate:m}=this.visualElement.getProps();this.visualElement.current.style.transform=m?m({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Mn(f=>{if(!po(f,a,null))return;const h=this.getAxisMotionValue(f),{min:x,max:p}=this.constraints[f];h.set(bt(x,p,u[f]))})}addListeners(){if(!this.visualElement.current)return;jA.set(this.visualElement,this);const a=this.visualElement.current,r=Dl(a,"pointerdown",x=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(x)}),o=()=>{const{dragConstraints:x}=this.getProps();xi(x)&&x.current&&(this.constraints=this.resolveRefConstraints())},{projection:u}=this.visualElement,m=u.addEventListener("measure",o);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),xt.read(o);const f=Hl(window,"resize",()=>this.scalePositionWithinConstraints()),h=u.addEventListener("didUpdate",(({delta:x,hasLayoutChanged:p})=>{this.isDragging&&p&&(Mn(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=x[y].translate,v.set(v.get()+x[y].translate))}),this.visualElement.render())}));return()=>{f(),r(),m(),h&&h()}}getProps(){const a=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:u=!1,dragConstraints:m=!1,dragElastic:f=Hd,dragMomentum:h=!0}=a;return{...a,drag:r,dragDirectionLock:o,dragPropagation:u,dragConstraints:m,dragElastic:f,dragMomentum:h}}}function po(n,a,r){return(a===!0||a===n)&&(r===null||r===n)}function SA(n,a=10){let r=null;return Math.abs(n.y)>a?r="y":Math.abs(n.x)>a&&(r="x"),r}class kA extends Js{constructor(a){super(a),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new NA(a)}mount(){const{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qg=n=>(a,r)=>{n&&xt.postRender(()=>n(a,r))};class AA extends Js{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(a){this.session=new m0(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:w0(this.node)})}createPanHandlers(){const{onPanSessionStart:a,onPanStart:r,onPan:o,onPanEnd:u}=this.node.getProps();return{onSessionStart:Qg(a),onStart:Qg(r),onMove:o,onEnd:(m,f)=>{delete this.session,u&&xt.postRender(()=>u(m,f))}}}mount(){this.removePointerDownListener=Dl(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kg(n,a){return a.max===a.min?0:n/(a.max-a.min)*100}const kl={correct:(n,a)=>{if(!a.target)return n;if(typeof n=="string")if(He.test(n))n=parseFloat(n);else return n;const r=Kg(n,a.target.x),o=Kg(n,a.target.y);return`${r}% ${o}%`}},TA={correct:(n,{treeScale:a,projectionDelta:r})=>{const o=n,u=Ks.parse(n);if(u.length>5)return o;const m=Ks.createTransformer(n),f=typeof u[0]!="number"?1:0,h=r.x.scale*a.x,x=r.y.scale*a.y;u[0+f]/=h,u[1+f]/=x;const p=bt(h,x,.5);return typeof u[2+f]=="number"&&(u[2+f]/=p),typeof u[3+f]=="number"&&(u[3+f]/=p),m(u)}};class EA extends b.Component{componentDidMount(){const{visualElement:a,layoutGroup:r,switchLayoutGroup:o,layoutId:u}=this.props,{projection:m}=a;QN(CA),m&&(r.group&&r.group.add(m),o&&o.register&&u&&o.register(m),m.root.didUpdate(),m.addEventListener("animationComplete",()=>{this.safeToRemove()}),m.setOptions({...m.options,onExitComplete:()=>this.safeToRemove()})),wo.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){const{layoutDependency:r,visualElement:o,drag:u,isPresent:m}=this.props,f=o.projection;return f&&(f.isPresent=m,u||a.layoutDependency!==r||r===void 0?f.willUpdate():this.safeToRemove(),a.isPresent!==m&&(m?f.promote():f.relegate()||xt.postRender(()=>{const h=f.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),ff.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:a,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:u}=a;u&&(u.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(u),o&&o.deregister&&o.deregister(u))}safeToRemove(){const{safeToRemove:a}=this.props;a&&a()}render(){return null}}function j0(n){const[a,r]=cN(),o=b.useContext(ab);return i.jsx(EA,{...n,layoutGroup:o,switchLayoutGroup:b.useContext(fb),isPresent:a,safeToRemove:r})}const CA={borderRadius:{...kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kl,borderTopRightRadius:kl,borderBottomLeftRadius:kl,borderBottomRightRadius:kl,boxShadow:TA};function _A(n,a,r){const o=It(n)?n:Bl(n);return o.start(Lf("",o,a,r)),o.animation}function MA(n){return n instanceof SVGElement&&n.tagName!=="svg"}const DA=(n,a)=>n.depth-a.depth;class RA{constructor(){this.children=[],this.isDirty=!1}add(a){Af(this.children,a),this.isDirty=!0}remove(a){Tf(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(DA),this.isDirty=!1,this.children.forEach(a)}}function zA(n,a){const r=Fn.now(),o=({timestamp:u})=>{const m=u-r;m>=a&&(Qs(o),n(m-a))};return xt.read(o,!0),()=>Qs(o)}const N0=["TopLeft","TopRight","BottomLeft","BottomRight"],UA=N0.length,Jg=n=>typeof n=="string"?parseFloat(n):n,Fg=n=>typeof n=="number"||He.test(n);function OA(n,a,r,o,u,m){u?(n.opacity=bt(0,r.opacity!==void 0?r.opacity:1,LA(o)),n.opacityExit=bt(a.opacity!==void 0?a.opacity:1,0,BA(o))):m&&(n.opacity=bt(a.opacity!==void 0?a.opacity:1,r.opacity!==void 0?r.opacity:1,o));for(let f=0;f<UA;f++){const h=`border${N0[f]}Radius`;let x=Ig(a,h),p=Ig(r,h);if(x===void 0&&p===void 0)continue;x||(x=0),p||(p=0),x===0||p===0||Fg(x)===Fg(p)?(n[h]=Math.max(bt(Jg(x),Jg(p),o),0),(Jn.test(p)||Jn.test(x))&&(n[h]+="%")):n[h]=p}(a.rotate||r.rotate)&&(n.rotate=bt(a.rotate||0,r.rotate||0,o))}function Ig(n,a){return n[a]!==void 0?n[a]:n.borderRadius}const LA=S0(0,.5,qb),BA=S0(.5,.95,bn);function S0(n,a,r){return o=>o<n?0:o>a?1:r(wi(n,a,o))}function Wg(n,a){n.min=a.min,n.max=a.max}function _n(n,a){Wg(n.x,a.x),Wg(n.y,a.y)}function ey(n,a){n.translate=a.translate,n.scale=a.scale,n.originPoint=a.originPoint,n.origin=a.origin}function ty(n,a,r,o,u){return n-=a,n=_o(n,1/r,o),u!==void 0&&(n=_o(n,1/u,o)),n}function VA(n,a=0,r=1,o=.5,u,m=n,f=n){if(Jn.test(a)&&(a=parseFloat(a),a=bt(f.min,f.max,a/100)-f.min),typeof a!="number")return;let h=bt(m.min,m.max,o);n===m&&(h-=a),n.min=ty(n.min,a,r,h,u),n.max=ty(n.max,a,r,h,u)}function ny(n,a,[r,o,u],m,f){VA(n,a[r],a[o],a[u],a.scale,m,f)}const HA=["x","scaleX","originX"],$A=["y","scaleY","originY"];function sy(n,a,r,o){ny(n.x,a,HA,r?r.x:void 0,o?o.x:void 0),ny(n.y,a,$A,r?r.y:void 0,o?o.y:void 0)}function ay(n){return n.translate===0&&n.scale===1}function k0(n){return ay(n.x)&&ay(n.y)}function iy(n,a){return n.min===a.min&&n.max===a.max}function qA(n,a){return iy(n.x,a.x)&&iy(n.y,a.y)}function ly(n,a){return Math.round(n.min)===Math.round(a.min)&&Math.round(n.max)===Math.round(a.max)}function A0(n,a){return ly(n.x,a.x)&&ly(n.y,a.y)}function ry(n){return vn(n.x)/vn(n.y)}function oy(n,a){return n.translate===a.translate&&n.scale===a.scale&&n.originPoint===a.originPoint}class PA{constructor(){this.members=[]}add(a){Af(this.members,a),a.scheduleRender()}remove(a){if(Tf(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(a){const r=this.members.findIndex(u=>a===u);if(r===0)return!1;let o;for(let u=r;u>=0;u--){const m=this.members[u];if(m.isPresent!==!1){o=m;break}}return o?(this.promote(o),!0):!1}promote(a,r){const o=this.lead;if(a!==o&&(this.prevLead=o,this.lead=a,a.show(),o)){o.instance&&o.scheduleRender(),a.scheduleRender(),a.resumeFrom=o,r&&(a.resumeFrom.preserveOpacity=!0),o.snapshot&&(a.snapshot=o.snapshot,a.snapshot.latestValues=o.animationValues||o.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);const{crossfade:u}=a.options;u===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(a=>{const{options:r,resumingFrom:o}=a;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GA(n,a,r){let o="";const u=n.x.translate/a.x,m=n.y.translate/a.y,f=r?.z||0;if((u||m||f)&&(o=`translate3d(${u}px, ${m}px, ${f}px) `),(a.x!==1||a.y!==1)&&(o+=`scale(${1/a.x}, ${1/a.y}) `),r){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:j,skewX:k,skewY:T}=r;p&&(o=`perspective(${p}px) ${o}`),y&&(o+=`rotate(${y}deg) `),v&&(o+=`rotateX(${v}deg) `),j&&(o+=`rotateY(${j}deg) `),k&&(o+=`skewX(${k}deg) `),T&&(o+=`skewY(${T}deg) `)}const h=n.x.scale*a.x,x=n.y.scale*a.y;return(h!==1||x!==1)&&(o+=`scale(${h}, ${x})`),o||"none"}const wa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Cl=typeof window<"u"&&window.MotionDebug!==void 0,gd=["","X","Y","Z"],YA={visibility:"hidden"},cy=1e3;let XA=0;function yd(n,a,r,o){const{latestValues:u}=a;u[n]&&(r[n]=u[n],a.setStaticValue(n,0),o&&(o[n]=0))}function T0(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:a}=n.options;if(!a)return;const r=Ub(a);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:u,layoutId:m}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",xt,!(u||m))}const{parent:o}=n;o&&!o.hasCheckedOptimisedAppear&&T0(o)}function E0({attachResizeListener:n,defaultParent:a,measureScroll:r,checkIsScrollRoot:o,resetTransform:u}){return class{constructor(f={},h=a?.()){this.id=XA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cl&&(wa.totalNodes=wa.resolvedTargetDeltas=wa.recalculatedProjection=0),this.nodes.forEach(KA),this.nodes.forEach(e4),this.nodes.forEach(t4),this.nodes.forEach(JA),Cl&&window.MotionDebug.record(wa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new RA)}addEventListener(f,h){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new Ef),this.eventHandlers.get(f).add(h)}notifyListeners(f,...h){const x=this.eventHandlers.get(f);x&&x.notify(...h)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=MA(f),this.instance=f;const{layoutId:x,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||x)&&(this.isLayoutDirty=!0),n){let v;const j=()=>this.root.updateBlockedByResize=!1;n(f,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=zA(j,250),wo.hasAnimatedSinceResize&&(wo.hasAnimatedSinceResize=!1,this.nodes.forEach(dy))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&y&&(x||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:j,hasRelativeTargetChanged:k,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||y.getDefaultTransition()||l4,{onLayoutAnimationStart:H,onLayoutAnimationComplete:$}=y.getProps(),G=!this.targetLayout||!A0(this.targetLayout,T)||k,D=!j&&k;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||D||j&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,D);const S={...jf(_,"layout"),onPlay:H,onComplete:$};(y.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else j||dy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n4),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&T0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:x}=this.options;if(h===void 0&&!x)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uy);return}this.isUpdating||this.nodes.forEach(IA),this.isUpdating=!1,this.nodes.forEach(WA),this.nodes.forEach(ZA),this.nodes.forEach(QA),this.clearAllSnapshots();const h=Fn.now();Yt.delta=vs(0,1e3/60,h-Yt.timestamp),Yt.timestamp=h,Yt.isProcessing=!0,od.update.process(Yt),od.preRender.process(Yt),od.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ff.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FA),this.sharedNodes.forEach(s4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(h=!1),h){const x=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:x,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!u)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!k0(this.projectionDelta),x=this.getTransformTemplate(),p=x?x(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;f&&(h||va(this.latestValues)||y)&&(u(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const h=this.measurePageBox();let x=this.removeElementScroll(h);return f&&(x=this.removeTransform(x)),r4(x),{animationId:this.root.animationId,measuredBox:h,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:h}=this.options;if(!h)return Tt();const x=h.measureViewportBox();if(!(((f=this.scroll)===null||f===void 0?void 0:f.wasRoot)||this.path.some(o4))){const{scroll:y}=this.root;y&&(bi(x.x,y.offset.x),bi(x.y,y.offset.y))}return x}removeElementScroll(f){var h;const x=Tt();if(_n(x,f),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return x;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:v,options:j}=y;y!==this.root&&v&&j.layoutScroll&&(v.wasRoot&&_n(x,f),bi(x.x,v.offset.x),bi(x.y,v.offset.y))}return x}applyTransform(f,h=!1){const x=Tt();_n(x,f);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&vi(x,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),va(y.latestValues)&&vi(x,y.latestValues)}return va(this.latestValues)&&vi(x,this.latestValues),x}removeTransform(f){const h=Tt();_n(h,f);for(let x=0;x<this.path.length;x++){const p=this.path[x];if(!p.instance||!va(p.latestValues))continue;$d(p.latestValues)&&p.updateSnapshot();const y=Tt(),v=p.measurePageBox();_n(y,v),sy(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return va(this.latestValues)&&sy(h,this.latestValues),h}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var h;const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==x;if(!(f||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:j}=this.options;if(!(!this.layout||!(v||j))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const k=this.getClosestProjectingParent();k&&k.layout&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),zl(this.relativeTargetOrigin,this.layout.layoutBox,k.layout.layoutBox),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),b0(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const k=this.getClosestProjectingParent();k&&!!k.resumingFrom==!!this.resumingFrom&&!k.options.layoutScroll&&k.target&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),zl(this.relativeTargetOrigin,this.target,k.target),_n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cl&&wa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$d(this.parent.latestValues)||y0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const h=this.getLead(),x=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(p=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||v))return;_n(this.layoutCorrected,this.layout.layoutBox);const j=this.treeScale.x,k=this.treeScale.y;vA(this.layoutCorrected,this.treeScale,this.path,x),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Tt());const{target:T}=h;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ey(this.prevProjectionDelta.x,this.projectionDelta.x),ey(this.prevProjectionDelta.y,this.projectionDelta.y)),Rl(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==j||this.treeScale.y!==k||!oy(this.projectionDelta.x,this.prevProjectionDelta.x)||!oy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Cl&&wa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),f){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yi(),this.projectionDelta=yi(),this.projectionDeltaWithTransform=yi()}setAnimationOrigin(f,h=!1){const x=this.snapshot,p=x?x.latestValues:{},y={...this.latestValues},v=yi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const j=Tt(),k=x?x.source:void 0,T=this.layout?this.layout.source:void 0,_=k!==T,H=this.getStack(),$=!H||H.members.length<=1,G=!!(_&&!$&&this.options.crossfade===!0&&!this.path.some(i4));this.animationProgress=0;let D;this.mixTargetDelta=S=>{const E=S/1e3;fy(v.x,f.x,E),fy(v.y,f.y,E),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zl(j,this.layout.layoutBox,this.relativeParent.layout.layoutBox),a4(this.relativeTarget,this.relativeTargetOrigin,j,E),D&&qA(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Tt()),_n(D,this.relativeTarget)),_&&(this.animationValues=y,OA(y,p,this.latestValues,E,G,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{wo.hasAnimatedSinceResize=!0,this.currentAnimation=_A(0,cy,{...f,onUpdate:h=>{this.mixTargetDelta(h),f.onUpdate&&f.onUpdate(h)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:h,target:x,layout:p,latestValues:y}=f;if(!(!h||!x||!p)){if(this!==f&&this.layout&&p&&C0(this.options.animationType,this.layout.layoutBox,p.layoutBox)){x=this.target||Tt();const v=vn(this.layout.layoutBox.x);x.x.min=f.target.x.min,x.x.max=x.x.min+v;const j=vn(this.layout.layoutBox.y);x.y.min=f.target.y.min,x.y.max=x.y.min+j}_n(h,x),vi(h,y),Rl(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(f,h){this.sharedNodes.has(f)||this.sharedNodes.set(f,new PA),this.sharedNodes.get(f).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:h}=this.options;return h?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:h}=this.options;return h?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:h,preserveFollowOpacity:x}={}){const p=this.getStack();p&&p.promote(this,x),f&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let h=!1;const{latestValues:x}=f;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(h=!0),!h)return;const p={};x.z&&yd("z",f,p,this.animationValues);for(let y=0;y<gd.length;y++)yd(`rotate${gd[y]}`,f,p,this.animationValues),yd(`skew${gd[y]}`,f,p,this.animationValues);f.render();for(const y in p)f.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);f.scheduleRender()}getProjectionStyles(f){var h,x;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YA;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=bo(f?.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=bo(f?.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(_.transform=y?y({},""):"none",this.hasProjected=!1),_}const j=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=GA(this.projectionDeltaWithTransform,this.treeScale,j),y&&(p.transform=y(j,p.transform));const{x:k,y:T}=this.projectionDelta;p.transformOrigin=`${k.origin*100}% ${T.origin*100}% 0`,v.animationValues?p.opacity=v===this?(x=(h=j.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&x!==void 0?x:1:this.preserveOpacity?this.latestValues.opacity:j.opacityExit:p.opacity=v===this?j.opacity!==void 0?j.opacity:"":j.opacityExit!==void 0?j.opacityExit:0;for(const _ in ko){if(j[_]===void 0)continue;const{correct:H,applyTo:$}=ko[_],G=p.transform==="none"?j[_]:H(j[_],v);if($){const D=$.length;for(let S=0;S<D;S++)p[$[S]]=G}else p[_]=G}return this.options.layoutId&&(p.pointerEvents=v===this?bo(f?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var h;return(h=f.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(uy),this.root.sharedNodes.clear()}}}function ZA(n){n.updateLayout()}function QA(n){var a;const r=((a=n.resumeFrom)===null||a===void 0?void 0:a.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&r&&n.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:u}=n.layout,{animationType:m}=n.options,f=r.source!==n.layout.source;m==="size"?Mn(v=>{const j=f?r.measuredBox[v]:r.layoutBox[v],k=vn(j);j.min=o[v].min,j.max=j.min+k}):C0(m,r.layoutBox,o)&&Mn(v=>{const j=f?r.measuredBox[v]:r.layoutBox[v],k=vn(o[v]);j.max=j.min+k,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+k)});const h=yi();Rl(h,o,r.layoutBox);const x=yi();f?Rl(x,n.applyTransform(u,!0),r.measuredBox):Rl(x,o,r.layoutBox);const p=!k0(h);let y=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:j,layout:k}=v;if(j&&k){const T=Tt();zl(T,r.layoutBox,j.layoutBox);const _=Tt();zl(_,o,k.layoutBox),A0(T,_)||(y=!0),v.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=T,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:o,snapshot:r,delta:x,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(n.isLead()){const{onExitComplete:o}=n.options;o&&o()}n.options.transition=void 0}function KA(n){Cl&&wa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function JA(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function FA(n){n.clearSnapshot()}function uy(n){n.clearMeasurements()}function IA(n){n.isLayoutDirty=!1}function WA(n){const{visualElement:a}=n.options;a&&a.getProps().onBeforeLayoutMeasure&&a.notify("BeforeLayoutMeasure"),n.resetTransform()}function dy(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function e4(n){n.resolveTargetDelta()}function t4(n){n.calcProjection()}function n4(n){n.resetSkewAndRotation()}function s4(n){n.removeLeadSnapshot()}function fy(n,a,r){n.translate=bt(a.translate,0,r),n.scale=bt(a.scale,1,r),n.origin=a.origin,n.originPoint=a.originPoint}function my(n,a,r,o){n.min=bt(a.min,r.min,o),n.max=bt(a.max,r.max,o)}function a4(n,a,r,o){my(n.x,a.x,r.x,o),my(n.y,a.y,r.y,o)}function i4(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const l4={duration:.45,ease:[.4,0,.1,1]},hy=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),py=hy("applewebkit/")&&!hy("chrome/")?Math.round:bn;function xy(n){n.min=py(n.min),n.max=py(n.max)}function r4(n){xy(n.x),xy(n.y)}function C0(n,a,r){return n==="position"||n==="preserve-aspect"&&!uA(ry(a),ry(r),.2)}function o4(n){var a;return n!==n.root&&((a=n.scroll)===null||a===void 0?void 0:a.wasRoot)}const c4=E0({attachResizeListener:(n,a)=>Hl(n,"resize",a),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bd={current:void 0},_0=E0({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!bd.current){const n=new c4({});n.mount(window),n.setOptions({layoutScroll:!0}),bd.current=n}return bd.current},resetTransform:(n,a)=>{n.style.transform=a!==void 0?a:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),u4={pan:{Feature:AA},drag:{Feature:kA,ProjectionNode:_0,MeasureLayout:j0}};function gy(n,a,r){const{props:o}=n;n.animationState&&o.whileHover&&n.animationState.setActive("whileHover",r==="Start");const u="onHover"+r,m=o[u];m&&xt.postRender(()=>m(a,Xl(a)))}class d4 extends Js{mount(){const{current:a}=this.node;a&&(this.unmount=uS(a,r=>(gy(this.node,r,"Start"),o=>gy(this.node,o,"End"))))}unmount(){}}class f4 extends Js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch{a=!0}!a||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yl(Hl(this.node.current,"focus",()=>this.onFocus()),Hl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yy(n,a,r){const{props:o}=n;n.animationState&&o.whileTap&&n.animationState.setActive("whileTap",r==="Start");const u="onTap"+(r==="End"?"":r),m=o[u];m&&xt.postRender(()=>m(a,Xl(a)))}class m4 extends Js{mount(){const{current:a}=this.node;a&&(this.unmount=hS(a,r=>(yy(this.node,r,"Start"),(o,{success:u})=>yy(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pd=new WeakMap,vd=new WeakMap,h4=n=>{const a=Pd.get(n.target);a&&a(n)},p4=n=>{n.forEach(h4)};function x4({root:n,...a}){const r=n||document;vd.has(r)||vd.set(r,{});const o=vd.get(r),u=JSON.stringify(a);return o[u]||(o[u]=new IntersectionObserver(p4,{root:n,...a})),o[u]}function g4(n,a,r){const o=x4(a);return Pd.set(n,r),o.observe(n),()=>{Pd.delete(n),o.unobserve(n)}}const y4={some:0,all:1};class b4 extends Js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:a={}}=this.node.getProps(),{root:r,margin:o,amount:u="some",once:m}=a,f={root:r?r.current:void 0,rootMargin:o,threshold:typeof u=="number"?u:y4[u]},h=x=>{const{isIntersecting:p}=x;if(this.isInView===p||(this.isInView=p,m&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),j=p?y:v;j&&j(x)};return g4(this.node.current,f,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:a,prevProps:r}=this.node;["amount","margin","root"].some(v4(a,r))&&this.startObserver()}unmount(){}}function v4({viewport:n={}},{viewport:a={}}={}){return r=>n[r]!==a[r]}const w4={inView:{Feature:b4},tap:{Feature:m4},focus:{Feature:f4},hover:{Feature:d4}},j4={layout:{ProjectionNode:_0,MeasureLayout:j0}},Gd={current:null},M0={current:!1};function N4(){if(M0.current=!0,!!rf)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),a=()=>Gd.current=n.matches;n.addListener(a),a()}else Gd.current=!1}const S4=[...n0,Jt,Ks],k4=n=>S4.find(t0(n)),by=new WeakMap;function A4(n,a,r){for(const o in a){const u=a[o],m=r[o];if(It(u))n.addValue(o,u);else if(It(m))n.addValue(o,Bl(u,{owner:n}));else if(m!==u)if(n.hasValue(o)){const f=n.getValue(o);f.liveStyle===!0?f.jump(u):f.hasAnimated||f.set(u)}else{const f=n.getStaticValue(o);n.addValue(o,Bl(f!==void 0?f:u,{owner:n}))}}for(const o in r)a[o]===void 0&&n.removeValue(o);return a}const vy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class T4{scrapeMotionValuesFromProps(a,r,o){return{}}constructor({parent:a,props:r,presenceContext:o,reducedMotionConfig:u,blockInitialAnimation:m,visualState:f},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const k=Fn.now();this.renderScheduledAt<k&&(this.renderScheduledAt=k,xt.render(this.render,!1,!0))};const{latestValues:x,renderState:p,onUpdate:y}=f;this.onUpdate=y,this.latestValues=x,this.baseTarget={...x},this.initialValues=r.initial?{...x}:{},this.renderState=p,this.parent=a,this.props=r,this.presenceContext=o,this.depth=a?a.depth+1:0,this.reducedMotionConfig=u,this.options=h,this.blockInitialAnimation=!!m,this.isControllingVariants=Oo(r),this.isVariantNode=ub(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:v,...j}=this.scrapeMotionValuesFromProps(r,{},this);for(const k in j){const T=j[k];x[k]!==void 0&&It(T)&&T.set(x[k],!1)}}mount(a){this.current=a,by.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),M0.current||N4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){by.delete(this.current),this.projection&&this.projection.unmount(),Qs(this.notifyUpdate),Qs(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const r=this.features[a];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(a,r){this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();const o=Aa.has(a),u=r.on("change",h=>{this.latestValues[a]=h,this.props.onUpdate&&xt.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),m=r.on("renderRequest",this.scheduleRender);let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,a,r)),this.valueSubscriptions.set(a,()=>{u(),m(),f&&f(),r.owner&&r.stop()})}sortNodePosition(a){return!this.current||!this.sortInstanceNodePosition||this.type!==a.type?0:this.sortInstanceNodePosition(this.current,a.current)}updateFeatures(){let a="animation";for(a in ji){const r=ji[a];if(!r)continue;const{isEnabled:o,Feature:u}=r;if(!this.features[a]&&u&&o(this.props)&&(this.features[a]=new u(this)),this.features[a]){const m=this.features[a];m.isMounted?m.update():(m.mount(),m.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,r){this.latestValues[a]=r}update(a,r){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<vy.length;o++){const u=vy[o];this.propEventSubscriptions[u]&&(this.propEventSubscriptions[u](),delete this.propEventSubscriptions[u]);const m="on"+u,f=a[m];f&&(this.propEventSubscriptions[u]=this.on(u,f))}this.prevMotionValues=A4(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(a),()=>r.variantChildren.delete(a)}addValue(a,r){const o=this.values.get(a);r!==o&&(o&&this.removeValue(a),this.bindToMotionValue(a,r),this.values.set(a,r),this.latestValues[a]=r.get())}removeValue(a){this.values.delete(a);const r=this.valueSubscriptions.get(a);r&&(r(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,r){if(this.props.values&&this.props.values[a])return this.props.values[a];let o=this.values.get(a);return o===void 0&&r!==void 0&&(o=Bl(r===null?void 0:r,{owner:this}),this.addValue(a,o)),o}readValue(a,r){var o;let u=this.latestValues[a]!==void 0||!this.current?this.latestValues[a]:(o=this.getBaseTargetFromProps(this.props,a))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,a,this.options);return u!=null&&(typeof u=="string"&&(Wb(u)||Gb(u))?u=parseFloat(u):!k4(u)&&Ks.test(r)&&(u=Jb(a,r)),this.setBaseTarget(a,It(u)?u.get():u)),It(u)?u.get():u}setBaseTarget(a,r){this.baseTarget[a]=r}getBaseTarget(a){var r;const{initial:o}=this.props;let u;if(typeof o=="string"||typeof o=="object"){const f=hf(this.props,o,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);f&&(u=f[a])}if(o&&u!==void 0)return u;const m=this.getBaseTargetFromProps(this.props,a);return m!==void 0&&!It(m)?m:this.initialValues[a]!==void 0&&u===void 0?void 0:this.baseTarget[a]}on(a,r){return this.events[a]||(this.events[a]=new Ef),this.events[a].add(r)}notify(a,...r){this.events[a]&&this.events[a].notify(...r)}}class D0 extends T4{constructor(){super(...arguments),this.KeyframeResolver=s0}sortInstanceNodePosition(a,r){return a.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(a,r){return a.style?a.style[r]:void 0}removeValueFromRenderState(a,{vars:r,style:o}){delete r[a],delete o[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:a}=this.props;It(a)&&(this.childSubscription=a.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function E4(n){return window.getComputedStyle(n)}class C4 extends D0{constructor(){super(...arguments),this.type="html",this.renderInstance=bb}readValueFromInstance(a,r){if(Aa.has(r)){const o=Rf(r);return o&&o.default||0}else{const o=E4(a),u=(xb(r)?o.getPropertyValue(r):o[r])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(a,{transformPagePoint:r}){return v0(a,r)}build(a,r,o){gf(a,r,o.transformTemplate)}scrapeMotionValuesFromProps(a,r,o){return wf(a,r,o)}}class _4 extends D0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(a,r){return a[r]}readValueFromInstance(a,r){if(Aa.has(r)){const o=Rf(r);return o&&o.default||0}return r=vb.has(r)?r:df(r),a.getAttribute(r)}scrapeMotionValuesFromProps(a,r,o){return Nb(a,r,o)}build(a,r,o){yf(a,r,this.isSVGTag,o.transformTemplate)}renderInstance(a,r,o,u){wb(a,r,o,u)}mount(a){this.isSVGTag=vf(a.tagName),super.mount(a)}}const M4=(n,a)=>mf(n)?new _4(a):new C4(a,{allowProjection:n!==b.Fragment}),D4=sS({...tA,...w4,...u4,...j4},M4),xo=yN(D4),wy=[{id:"discover",label:"Discover Jobs",x:200,y:40,delay:0},{id:"apply",label:"Apply Faster",x:330,y:120,delay:.3},{id:"optimize",label:"Optimize Resume",x:330,y:280,delay:.6},{id:"interview",label:"Interview Assist",x:200,y:360,delay:.9},{id:"manage",label:"Manage Everything",x:70,y:280,delay:1.2},{id:"scale",label:"Scale Applications",x:70,y:120,delay:1.5}],R4="#2563EB",On="#93C5FD",z4="#E5E7EB",Yd=150,R0=2*Math.PI*Yd,U4=10,O4=.22,z0=R0*O4,L4=R0-z0,B4=18,V4=2,Bf=B4*V4,U0=Bf-1.5,Xd=U0*2,jy=Xd/2,H4="/images/7d94783c-5586-4b14-9a5e-a7c65e4f37c1.png",Vf=Bf+10,$4=Vf+12,O0=Vf-1.5,Zd=O0*2,Ny=Zd/2,Sy={discover:"/images/e2c80a93-82ca-4e6f-a626-8c943f2f2983.png",apply:"/images/740ef3f4-b99c-4666-81a4-654f9abd463d.png",optimize:"/images/54cf9d0a-1780-4d98-8c94-5f4552ac5426.png",interview:"/images/e0487eed-97f1-4de9-8720-6dc152de6c72.png",manage:"/images/c3e8c0f3-de53-4260-bc3b-560076415f98.png",scale:"/images/4bb809a4-f504-4762-a8ff-6e1dc96ef163.png"},q4=()=>i.jsx("div",{className:"relative mx-auto w-full max-w-[420px]",children:i.jsxs(xo.svg,{viewBox:"0 0 400 400",className:"h-full w-full",children:[i.jsxs("defs",{children:[i.jsxs("radialGradient",{id:"centerGlow",cx:"50%",cy:"50%",r:"60%",children:[i.jsx("stop",{offset:"0%",stopColor:On,stopOpacity:"0.6"}),i.jsx("stop",{offset:"100%",stopColor:On,stopOpacity:"0"})]}),wy.map(n=>Sy[n.id]?i.jsx("clipPath",{id:`stageImageClip-${n.id}`,children:i.jsx("circle",{cx:n.x,cy:n.y,r:U0})},`clip-${n.id}`):null),i.jsx("clipPath",{id:"centerImageClip",children:i.jsx("circle",{cx:"200",cy:"200",r:O0})})]}),i.jsx("circle",{cx:"200",cy:"200",r:Yd,fill:"none",stroke:z4,strokeWidth:"2"}),i.jsx("circle",{cx:"200",cy:"200",r:"120",fill:"none",stroke:On,strokeOpacity:"0.35",strokeWidth:"1"}),i.jsx(xo.g,{initial:{rotate:0},animate:{rotate:360},transition:{duration:U4,repeat:1/0,ease:"linear"},style:{transformOrigin:"200px 200px"},children:i.jsx("circle",{cx:"200",cy:"200",r:Yd,fill:"none",stroke:On,strokeWidth:"4",strokeLinecap:"round",strokeDasharray:`${z0} ${L4}`,transform:"rotate(-90 200 200)"})}),i.jsx("g",{children:wy.map(n=>{const a=Sy[n.id];return i.jsxs("g",{children:[i.jsx(xo.circle,{cx:n.x,cy:n.y,r:Bf,fill:a?"#DBEAFE":R4,stroke:a?On:"none",strokeWidth:a?"1.5":"0",animate:{scale:[1,1.12,1]},transition:{duration:2.4,repeat:1/0,delay:n.delay}}),a?i.jsx("image",{href:a,x:n.x-jy,y:n.y-jy,width:Xd,height:Xd,preserveAspectRatio:"xMidYMid slice",clipPath:`url(#stageImageClip-${n.id})`}):null,i.jsx(xo.circle,{cx:n.x,cy:n.y,r:"28",fill:"none",stroke:On,strokeOpacity:"0.5",strokeWidth:"2",animate:{opacity:[.2,.6,.2]},transition:{duration:2.4,repeat:1/0,delay:n.delay}}),i.jsx("text",{x:n.x,y:n.y+36,textAnchor:"middle",fontSize:"10",fill:"#64748B",fontFamily:"inherit",children:n.label})]},n.id)})}),i.jsx("circle",{cx:"200",cy:"200",r:$4,fill:"url(#centerGlow)"}),i.jsx("circle",{cx:"200",cy:"200",r:Vf,fill:"#DBEAFE",stroke:On,strokeWidth:"1.5"}),i.jsx("image",{href:H4,x:200-Ny,y:200-Ny,width:Zd,height:Zd,preserveAspectRatio:"xMidYMid slice",clipPath:"url(#centerImageClip)"}),i.jsx("circle",{cx:"90",cy:"70",r:"3",fill:On,opacity:"0.3"}),i.jsx("circle",{cx:"330",cy:"60",r:"2.5",fill:On,opacity:"0.25"}),i.jsx("circle",{cx:"340",cy:"320",r:"3",fill:On,opacity:"0.25"}),i.jsx("circle",{cx:"80",cy:"320",r:"2.5",fill:On,opacity:"0.3"})]})}),ky=({onNavigate:n})=>{const a=typeof window<"u"?window.localStorage.getItem(Xe):null,r=Ky(a),o=r?"/dashboard":"/auth",u=r?"Open dashboard":"Get started",m=r?"Dashboard":"Sign in",{user:f}=Wt({enabled:r,redirectOnUnauthorized:!1}),[h,x]=b.useState(!1),[p,y]=b.useState(!1),v=b.useRef(null),j=S=>{if(!S)return"";const E=String(S).trim();if(!E)return"";if(/^https?:\/\//i.test(E))return E;const U=Ro||(typeof window<"u"?window.location.origin:"");return U?E.startsWith("/")?`${U}${E}`:`${U}/${E}`:E.startsWith("/")?E:`/${E}`},k=f?.display_name||f?.name||f?.username||(f?.email?String(f.email).split("@")[0]:"User"),T=j(f?.photo_link||"");b.useEffect(()=>{y(!1)},[T]),b.useEffect(()=>{const S=U=>{v.current&&!v.current.contains(U.target)&&x(!1)},E=U=>{U.key==="Escape"&&x(!1)};return document.addEventListener("mousedown",S),document.addEventListener("keydown",E),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",E)}},[]);const _=[{title:"Unified candidate hub",url:"298da08d-bbb3-4fc8-a014-4eaf4c571e2e",description:"All profiles, notes, and timelines in one calm workspace.",icon:Ul},{title:"Apply Assist workflows",url:"28965bdc-9c51-46f1-b4ca-5c37a13d3984",description:"Draft resumes and outreach steps with prebuilt playbooks.",icon:q2},{title:"Tailor Resume Generation",url:"975434f1-a01b-4b41-b048-09f7a4eab899",description:"Generate the perfect resume for any job description in seconds.",icon:j2},{title:"Inbox & Calendar Sync",url:"05f128b2-c65c-4bc3-869e-9466651c46ac",description:"Bidders & Callers can sync with your email and calendar seamlessly.",icon:Oy},{title:"24/7/12 Support",url:"def5373e-2e57-413b-95a3-5ae32237b154",description:"Always here to support your team, no matter your time zone.",icon:c2},{title:"Security first",url:"8268f91c-f981-45e0-8c44-2ca14c578a33",description:"Role based access with clear audit history baked in.",icon:R2}],H=[{label:"Job search time saved (weekly)",value:"23 hrs"},{label:"Application time saved (weekly)",value:"42 hrs"},{label:"Response lift",value:"3.4x"},{label:"Hiring timeline reduced by",value:"3 months"}],$=[{quote:"JobDesk365 replaced four tools and finally gave our team a calm daily workflow.",name:"Jamie Liu",role:"Talent Ops Lead, Northbridge"},{quote:"The apply assist templates cut prep time in half and improved response rates.",name:"Arun Patel",role:"Recruiting Manager, Brightlane"},{quote:"We can see every request and interview in one place without chasing updates.",name:"Sofia Ramos",role:"Hiring Partner, Atlas Growth"}],G=S=>{if(n){n(S);return}typeof window<"u"&&(window.history.pushState({},"",S),window.dispatchEvent(new PopStateEvent("popstate")))},D=()=>{typeof window<"u"&&(window.localStorage.removeItem(Xe),window.location.href="/auth")};return i.jsxs("div",{className:"min-h-screen bg-page text-ink",children:[i.jsx("header",{className:"sticky top-0 z-30 border-b border-border/70 bg-page/80 backdrop-blur",children:i.jsxs("nav",{className:"mx-auto flex w-full max-w-[1200px] items-center justify-between px-6 py-4",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"/images/logo.png",alt:"JobDesk365",className:"h-9 w-auto object-contain"})}),i.jsxs("div",{className:"hidden items-center gap-6 text-sm text-ink-muted md:flex",children:[i.jsx("button",{type:"button",onClick:()=>G("/dashboard"),className:"hover:text-ink",children:"Product"}),i.jsx("button",{type:"button",className:"hover:text-ink",children:"Pricing"}),i.jsx("button",{type:"button",className:"hover:text-ink",children:"About Us"})]}),r?i.jsxs("div",{className:"relative",ref:v,children:[i.jsxs("button",{type:"button",onClick:()=>x(S=>!S),"aria-haspopup":"menu","aria-expanded":h,className:"flex items-center gap-1.5 rounded-full border border-border-soft bg-white/90 px-2 py-1 text-ink transition duration-150 ease-out hover:border-ink-muted hover:-translate-y-[1px] hover:shadow-soft focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border border-border bg-accent-primary/10 text-accent-primary grid place-items-center overflow-hidden",children:T&&!p?i.jsx("img",{src:T,alt:k,className:"h-full w-full object-cover",onError:()=>y(!0)}):i.jsx("span",{className:"text-[11px] font-bold uppercase",children:k?.[0]??"U"})}),i.jsx(Mo,{size:14,className:"text-ink-muted"})]}),h?i.jsxs("div",{role:"menu",className:"absolute right-0 mt-2 w-44 rounded-xl border border-border bg-white shadow-lg p-1 z-50",children:[i.jsxs("button",{type:"button",role:"menuitem",onClick:()=>{x(!1),G("/user")},className:"w-full flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-ink hover:bg-gray-100",children:[i.jsx(qy,{size:16}),"Profile"]}),i.jsxs("button",{type:"button",role:"menuitem",onClick:()=>{x(!1),G("/settings")},className:"w-full flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-ink hover:bg-gray-100",children:[i.jsx(Wd,{size:16}),"Settings"]}),i.jsx("div",{className:"my-1 h-px bg-border"}),i.jsxs("button",{type:"button",role:"menuitem",onClick:D,className:"w-full flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-red-600 hover:bg-red-50",children:[i.jsx(Uy,{size:16}),"Logout"]})]}):null]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{type:"button",onClick:()=>G(o),className:"text-sm font-semibold text-ink-muted transition hover:text-ink",children:m}),i.jsxs("button",{type:"button",onClick:()=>G(o),className:"inline-flex items-center gap-2 rounded-full bg-accent-primary px-4 py-2 text-sm font-semibold text-white shadow-soft transition hover:opacity-90",children:[u,i.jsx(zx,{size:16})]})]})]})}),i.jsxs("main",{children:[i.jsxs("section",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(70%_70%_at_50%_0%,rgba(56,189,248,0.18),rgba(249,250,251,0))]"}),i.jsx("div",{className:"absolute -right-24 top-24 h-72 w-72 rounded-full bg-gradient-to-br from-sky-200 via-white to-emerald-100 opacity-80 blur-3xl"}),i.jsx("div",{className:"absolute -left-32 bottom-[-120px] h-80 w-80 rounded-full bg-gradient-to-br from-amber-100 via-white to-sky-100 opacity-70 blur-3xl"}),i.jsx("div",{className:"relative mx-auto flex w-full max-w-[1200px] flex-col gap-12 px-6 pb-4 pt-16 lg:pt-20",children:i.jsxs("div",{className:"flex flex-col gap-8 lg:grid lg:grid-cols-[1.1fr_0.9fr] lg:items-start",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-sky-200 bg-white/80 px-3 py-1 text-xs font-semibold text-sky-700",children:[i.jsx($y,{size:14}),"New: Apply Assist workflows"]}),i.jsx("h1",{className:"mt-6 text-4xl font-semibold leading-tight text-ink md:text-5xl",children:"Get hired faster. Handle everything in one place."}),i.jsx("p",{className:"mt-4 max-w-xl text-lg text-ink-muted",children:"JobDesk365 keeps resumes, applications, interviews, and support in one place, helping you move faster with less stress."}),i.jsx("img",{src:"/images/0001.png",className:"mt-2 w-full"})]}),i.jsx("div",{className:"mt-12",children:i.jsx("div",{className:"mt-3",children:i.jsx(q4,{})})})]})})]}),i.jsx("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-6",children:i.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:_.map(S=>{const E=S.icon;return i.jsxs("div",{className:"rounded-3xl border border-border overflow-hidden",children:[i.jsx("div",{children:i.jsx("img",{src:`images/${S.url}.png`,className:"w-full"})}),i.jsxs("div",{className:" bg-white p-6 shadow-soft",children:[i.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-accent-primary/10 text-accent-primary",children:i.jsx(E,{size:18})}),i.jsx("h3",{className:"mt-4 text-lg font-semibold text-ink",children:S.title}),i.jsx("p",{className:"mt-2 text-sm text-ink-muted",children:S.description})]},S.title)]},S.title)})})}),i.jsx("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-12",children:i.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1fr_1fr]",children:[i.jsxs("div",{className:"rounded-3xl border border-border bg-slate-900 p-8 text-white shadow-soft",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-white/60",children:"Workflow preview"}),i.jsx("h2",{className:"mt-3 text-2xl font-semibold",children:"Every request, every stage, one timeline."}),i.jsx("p",{className:"mt-3 text-sm text-white/70",children:"Organize outreach, interview stages, and staffing coverage without losing context."}),i.jsx("div",{className:"mt-6 space-y-3",children:["Unified Hiring Timeline","End-to-End Hiring Visibility","Single Source of Truth","Context-Aware Hiring Flow"].map(S=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Jd,{size:16,className:"text-emerald-300"}),S]},S))}),i.jsxs("button",{type:"button",onClick:()=>G("/dashboard"),className:"mt-6 inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-semibold text-slate-900",children:["See Your Dashboard",i.jsx(zx,{size:16})]})]}),i.jsxs("div",{className:"rounded-3xl border border-border bg-white p-6 shadow-soft",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-ink-muted",children:"Workspace snapshot"}),i.jsx("h2",{className:"mt-2 text-xl font-semibold text-ink",children:"What's the benefit?"})]}),i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-accent-primary/10 text-accent-primary",children:i.jsx(u2,{size:18})})]}),i.jsx("div",{className:"mt-5 grid gap-4",children:H.map(S=>i.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-border/70 bg-white px-4 py-3",children:[i.jsx("p",{className:"text-sm text-ink-muted",children:S.label}),i.jsx("p",{className:"text-lg font-semibold text-ink",children:S.value})]},S.label))}),i.jsx("div",{className:"mt-6 rounded-2xl bg-slate-900 px-4 py-4 text-white",children:i.jsx("p",{className:"text-sm font-semibold",children:"JobDesk365 works even better as your profiles grow"})})]})]})}),i.jsx("section",{className:"mx-auto w-full max-w-[1200px] px-6 py-16",children:i.jsx("div",{className:"grid gap-6 lg:grid-cols-3",children:$.map(S=>i.jsxs("div",{className:"rounded-3xl border border-border bg-white p-6 shadow-soft",children:[i.jsxs("p",{className:"text-sm text-ink-muted",children:['"',S.quote,'"']}),i.jsxs("div",{className:"mt-6",children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:S.name}),i.jsx("p",{className:"text-xs text-ink-muted",children:S.role})]})]},S.name))})})]}),i.jsx("footer",{className:"border-t border-border bg-white",children:i.jsxs("div",{className:"mx-auto flex w-full max-w-[1200px] flex-col gap-6 px-6 py-10 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("img",{src:"/images/logo.png",alt:"JobDesk365",className:"h-9 w-fit object-contain"}),i.jsx("p",{className:"text-xs text-ink-muted",children:"Hiring teams, calmer days."})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-ink-muted",children:[i.jsx("span",{children:"Privacy"}),i.jsx("span",{children:"Terms"}),i.jsx("span",{children:"Support"}),i.jsx("span",{children:"Status"})]})]})})]})},pi=({initiallyOpen:n=!1})=>{const[a,r]=b.useState(n),[o,u]=b.useState(""),[m,f]=b.useState(""),[h,x]=b.useState(""),[p,y]=b.useState(""),[v,j]=b.useState(""),[k,T]=b.useState([]),[_,H]=b.useState(!1),[$,G]=b.useState(!1),D=b.useRef(null),S=b.useRef(null),E=b.useRef(null),U=b.useRef(null),L=typeof window<"u"?window.localStorage.getItem(Xe):null,V="chat_guest_id",J=K=>{const A=new Date(K);return Number.isNaN(A.getTime())?K:A.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},se=K=>({id:K.id,from:K.sender_type==="system"?"System":"You",time:J(K.created_at),text:K.content,outbound:K.sender_type==="external",status:K.read_at?"read":K.delivered_at?"delivered":"sent"}),he=K=>K==="read"?i.jsx(d2,{size:12,className:"text-emerald-500"}):K==="delivered"?i.jsx(Jd,{size:12,className:"text-ink-muted"}):null,ce=async(K,A)=>{if(K)try{const O=qe?`${qe}/chat/live/messages?thread_id=${encodeURIComponent(K)}${A?`&guest_id=${encodeURIComponent(A)}`:""}`:`/chat/live/messages?thread_id=${encodeURIComponent(K)}${A?`&guest_id=${encodeURIComponent(A)}`:""}`,W=await fetch(O,{headers:L?{Authorization:`Bearer ${L}`}:{}});if(!W.ok)return;const re=await W.json(),z=Array.isArray(re?.items)?re.items:[];T(z.map(se))}catch{}},te=(K,A)=>{if(!K||D.current)return;const O=qe?qe.replace(/^http/,"ws"):`${window.location.origin.replace(/^http/,"ws")}`,W=L?`token=${encodeURIComponent(L)}`:`guest_id=${encodeURIComponent(A||"")}`,re=new WebSocket(`${O}/chat/ws?${W}`);D.current=re,re.addEventListener("open",()=>{re.send(JSON.stringify({type:"subscribe",thread_id:K})),U.current&&window.clearInterval(U.current),U.current=window.setInterval(()=>{re.readyState===WebSocket.OPEN&&re.send(JSON.stringify({type:"heartbeat"}))},1e4)}),re.addEventListener("message",z=>{try{const N=JSON.parse(z.data);N.type==="message:new"&&N.thread_id===K&&T(B=>B.some(de=>de.id===N.message?.id)||!N.message?B:[...B,se(N.message)]),N.type==="typing"&&N.thread_id===K&&H(N.status==="typing")}catch{}}),re.addEventListener("close",()=>{D.current=null,U.current&&(window.clearInterval(U.current),U.current=null)})},ee=async()=>{if(a&&!($||p))try{G(!0);const K=typeof window<"u"?window.localStorage.getItem(V):"",A=qe?`${qe}/chat/live/start`:"/chat/live/start",O=await fetch(A,{method:"POST",headers:{"Content-Type":"application/json",...L?{Authorization:`Bearer ${L}`}:{}},body:JSON.stringify({name:o||void 0,email:m||void 0,guest_id:K||void 0})});if(!O.ok)return;const W=await O.json(),z=W?.thread?.id||"",N=W?.guest_id||K||"";N&&typeof window<"u"&&window.localStorage.setItem(V,N),y(z),j(N),await ce(z,N),te(z,N)}finally{G(!1)}};return b.useEffect(()=>{a&&(!L&&!o||ee())},[a,o,L]),b.useEffect(()=>{a&&p&&!D.current&&te(p,v)},[a,p,v]),b.useEffect(()=>{a||(D.current&&(D.current.close(),D.current=null),U.current&&(window.clearInterval(U.current),U.current=null))},[a]),b.useEffect(()=>{if(!(!a||!p))return S.current&&window.clearInterval(S.current),S.current=window.setInterval(()=>{ce(p,v)},6e3),()=>{S.current&&window.clearInterval(S.current)}},[a,p,v]),a?i.jsx("div",{className:"fixed bottom-6 right-6 z-0 w-[360px] max-w-[calc(100vw-2rem)]",children:i.jsxs("div",{className:"rounded-2xl border border-border bg-white shadow-xl overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3 bg-main",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:"Live Support"}),i.jsx("p",{className:"text-xs text-ink-muted",children:i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),"Support is online"]})})]}),i.jsx("button",{type:"button",onClick:async()=>{if(p)try{const K=qe?`${qe}/chat/live/close`:"/chat/live/close";await fetch(K,{method:"POST",headers:{"Content-Type":"application/json",...L?{Authorization:`Bearer ${L}`}:{}},body:JSON.stringify({thread_id:p,guest_id:v||void 0})})}catch{}r(!1),y(""),T([])},className:"h-8 w-8 rounded-full border border-border text-ink-muted hover:text-ink","aria-label":"Close live chat",children:i.jsx(Si,{size:16,className:"mx-auto"})})]}),i.jsx("div",{className:"px-4 py-3 bg-page",children:!o&&!L?i.jsxs("div",{className:"rounded-xl border border-border bg-white p-3",children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:"Start as guest"}),i.jsx("p",{className:"text-xs text-ink-muted mt-1",children:"Enter a name so we can personalize your support."}),i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsx("input",{value:o,onChange:K=>u(K.target.value),placeholder:"Your name",className:"w-full h-10 rounded-lg border border-border px-3 text-sm"}),i.jsx("input",{value:m,onChange:K=>f(K.target.value),placeholder:"Email (optional)",className:"w-full h-10 rounded-lg border border-border px-3 text-sm"}),i.jsx("button",{type:"button",onClick:()=>{u(o.trim()||"Guest"),ee()},className:"w-full h-10 rounded-lg bg-accent-primary text-white text-sm font-semibold",children:"Continue"})]})]}):i.jsxs("div",{className:"rounded-xl border border-border bg-white px-3 py-2 text-xs text-ink-muted",children:["Chatting as"," ",i.jsx("span",{className:"font-semibold text-ink",children:o||(L?"You":"Guest")})]})}),i.jsxs("div",{className:"h-72 overflow-y-auto px-4 py-4 space-y-4 bg-white",children:[k.map(K=>i.jsxs("div",{className:`max-w-[80%] ${K.outbound?"ml-auto":"mr-auto"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-ink-muted",children:[i.jsx("span",{className:"font-semibold text-ink",children:K.outbound?"You":"System"}),i.jsx("span",{children:K.time}),K.outbound?he(K.status):null]}),i.jsx("div",{className:`mt-1 rounded-2xl px-3 py-2 text-sm leading-relaxed ${K.outbound?"bg-accent-primary/10 text-ink":"bg-gray-50 text-ink"}`,children:K.text})]},K.id)),_?i.jsx("div",{className:"text-xs text-ink-muted",children:"System is typing..."}):null]}),i.jsxs("div",{className:"border-t border-border px-4 py-3 bg-white",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-xs text-ink-muted",children:[i.jsx(M2,{size:14}),"Attachments supported: images, pdf, docx, xlsx, zip"]}),i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx("textarea",{rows:2,value:h,onChange:K=>{const A=K.target.value;x(A),!(!p||!D.current)&&D.current.readyState===WebSocket.OPEN&&(D.current.send(JSON.stringify({type:"typing",thread_id:p,status:A.trim()?"typing":"idle"})),E.current&&window.clearTimeout(E.current),E.current=window.setTimeout(()=>{D.current?.readyState===WebSocket.OPEN&&D.current.send(JSON.stringify({type:"typing",thread_id:p,status:"idle"}))},1500))},placeholder:"Type your message...",className:"flex-1 resize-none rounded-xl border border-border px-3 py-2 text-sm"}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("button",{type:"button",className:"h-9 w-9 rounded-lg border border-border text-ink-muted hover:text-ink","aria-label":"Emoji",children:i.jsx(Hy,{size:16,className:"mx-auto"})}),i.jsx("button",{type:"button",onClick:async()=>{const K=h.trim();if(!K||!p)return;x("");const A=qe?`${qe}/chat/live/messages`:"/chat/live/messages";await fetch(A,{method:"POST",headers:{"Content-Type":"application/json",...L?{Authorization:`Bearer ${L}`}:{}},body:JSON.stringify({thread_id:p,content:K,guest_id:v||void 0})}),D.current?.readyState===WebSocket.OPEN&&D.current.send(JSON.stringify({type:"typing",thread_id:p,status:"idle"})),ce(p,v)},className:"h-9 w-9 rounded-lg bg-accent-primary text-white","aria-label":"Send message",children:i.jsx(By,{size:16,className:"mx-auto"})})]})]}),i.jsx("div",{className:"mt-2 text-[11px] text-ink-muted",children:"Messages are sent to System. A manager will respond shortly."})]})]})}):i.jsx("div",{className:"fixed bottom-6 right-6 z-0",children:i.jsx("button",{type:"button",onClick:()=>r(!0),className:"h-14 w-14 rounded-full bg-accent-primary text-white shadow-lg flex items-center justify-center","aria-label":"Open live chat",children:i.jsx(E2,{size:22})})})},Qd=n=>n==="online"?"bg-emerald-500":n==="idle"?"bg-amber-400":n==="responding"?"bg-sky-500":"bg-gray-300",Ay=n=>n==="open"?"bg-emerald-50 text-emerald-700":n==="assigned"?"bg-sky-50 text-sky-700":n==="waiting"?"bg-amber-50 text-amber-700":"bg-gray-100 text-ink-muted",P4=n=>Array.isArray(n)?n:[],wd=n=>{if(!n)return"";const a=new Date(n);return Number.isNaN(a.getTime())?String(n):a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},G4=n=>{if(!n)return"--";const a=new Date(n);if(Number.isNaN(a.getTime()))return String(n);const r=Date.now()-a.getTime();return r<6e4?`${Math.max(1,Math.floor(r/1e3))}s ago`:r<36e5?`${Math.floor(r/6e4)}m ago`:r<864e5?`${Math.floor(r/36e5)}h ago`:`${Math.floor(r/864e5)}d ago`},Ty=n=>n.replace(/[&<>"']/g,a=>{switch(a){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#39;";default:return a}}),Y4=n=>n.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),X4=n=>{const a=Y4(n.trim());if(!a)return"";if(a.startsWith("mailto:"))return a;try{const r=new URL(a,"https://jobdesk.local");return r.protocol==="http:"||r.protocol==="https:"?a:""}catch{return""}},jo=n=>{const a="__JD_U_OPEN__",r="__JD_U_CLOSE__",o=n.replace(/<u>/g,a).replace(/<\/u>/g,r);let u=Ty(o);return u=u.replace(new RegExp(a,"g"),"<u>"),u=u.replace(new RegExp(r,"g"),"</u>"),u=u.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(m,f,h)=>{const x=X4(h);return x?`<a href="${Ty(x)}" target="_blank" rel="noreferrer">${f}</a>`:f}),u=u.replace(/\*\*([\s\S]+?)\*\*/g,"<strong>$1</strong>"),u=u.replace(/~~(.+?)~~/g,"<del>$1</del>"),u=u.replace(/`([^`]+?)`/g,"<code>$1</code>"),u=u.replace(/_(.+?)_/g,"<em>$1</em>"),u=u.replace(/\n/g,"<br />"),u},Z4=n=>{if(!n&&n!==0)return"";if(n<1024)return`${n} B`;const a=n/1024;if(a<1024)return`${a.toFixed(1)} KB`;const r=a/1024;return r<1024?`${r.toFixed(1)} MB`:`${(r/1024).toFixed(1)} GB`},L0=n=>n?.name||n?.file_url||"Attachment",Q4=n=>{const r=String(L0(n)).split(/[?#]/)[0],o=r.lastIndexOf(".");if(o===-1)return"FILE";const u=r.slice(o+1).replace(/[^a-zA-Z0-9]/g,"").slice(0,4);return u?u.toUpperCase():"FILE"},jd=({attachments:n})=>!Array.isArray(n)||!n.length?null:i.jsx("div",{className:"mt-2 space-y-2",children:n.map((a,r)=>{const o=L0(a),u=Q4(a),m=Z4(a?.size_bytes),f=[u!=="FILE"?u:null,m].filter(Boolean).join("  ");return i.jsxs("a",{href:a?.file_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 rounded-xl border border-border bg-page px-3 py-2 text-xs text-ink hover:bg-white",children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg border border-border bg-white text-[11px] font-semibold text-slate-600",children:u}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"truncate text-sm font-semibold text-ink",children:o}),f?i.jsx("p",{className:"text-[11px] text-ink-muted",children:f}):null]})]},a?.id||a?.file_url||`${o}-${r}`)})}),ba=n=>n?.display_name||n?.username||n?.email||"User",K4=({username:n,displayName:a,email:r,fallback:o="User"})=>{const u=n?.trim()||"",m=a?.trim()||"",f=r?.trim()||"";return{primaryLabel:u||m||f||o,secondaryLabel:u&&m&&m!==u?m:""}},_l=n=>{const a=n.replace(/[^a-zA-Z0-9]+/g," ").trim();if(!a)return"?";const r=a.split(/\s+/);return r.length===1?r[0].slice(0,2).toUpperCase():`${r[0][0]||""}${r[r.length-1][0]||""}`.toUpperCase()},Nd=[{key:"thumbs_up",label:"Like",icon:O2,style:"text-sky-600 bg-sky-50"},{key:"heart",label:"Heart",icon:v2,style:"text-rose-500 bg-rose-50"},{key:"smile",label:"Smile",emoji:"",style:"text-amber-600 bg-amber-50"},{key:"clap",label:"Clap",emoji:"",style:"text-emerald-600 bg-emerald-50"},{key:"party",label:"Party",emoji:"",style:"text-fuchsia-600 bg-fuchsia-50"},{key:"fire",label:"Fire",emoji:"",style:"text-orange-600 bg-orange-50"},{key:"thinking",label:"Thinking",emoji:"",style:"text-slate-600 bg-slate-100"},{key:"eyes",label:"Eyes",emoji:"",style:"text-indigo-600 bg-indigo-50"}],J4=["","","","","","","","","","","","","","","","","","","","","","","",""],F4=n=>{const a=new Map;return(n||[]).forEach(r=>{const o=String(r?.emoji||"").trim();o&&a.set(o,(a.get(o)||0)+1)}),Array.from(a.entries()).map(([r,o])=>({key:r,count:o}))},Sd=({reactions:n,onReact:a,showOnHover:r=!0,currentUserId:o})=>{const u=F4(n),m=b.useMemo(()=>{if(!o)return new Set;const v=new Set;return(n||[]).forEach(j=>{if(j.user_id!==o)return;const k=String(j?.emoji||"").trim();k&&v.add(k)}),v},[n,o]),f=Nd.filter(v=>!m.has(v.key));if(!u.length&&!f.length)return null;const h=v=>{const j=Nd.find(k=>k.key===v);if(j){if(j.icon){const k=j.icon;return i.jsx(k,{size:12,className:"text-current"})}if(j.emoji)return i.jsx("span",{className:"text-xs",children:j.emoji})}return i.jsx("span",{className:"text-[10px] text-current",children:v})},p=u.length>0?"mt-2 flex flex-wrap items-center gap-2 text-xs text-ink-muted":r?"mt-2 hidden flex-wrap items-center gap-2 text-xs text-ink-muted group-hover:flex":"mt-2 flex flex-wrap items-center gap-2 text-xs text-ink-muted",y=r?"hidden items-center gap-1 group-hover:flex":"flex items-center gap-1";return i.jsxs("div",{className:p,children:[u.map(v=>{const j=m.has(v.key),k=`inline-flex items-center gap-1 rounded-full border border-border px-2 py-0.5 ${Nd.find(T=>T.key===v.key)?.style||"bg-page"}`;return j?i.jsxs("button",{type:"button",onClick:()=>a(v.key,!0),className:`${k} cursor-pointer`,"aria-label":`Remove ${v.key}`,children:[h(v.key),i.jsx("span",{children:v.count})]},v.key):i.jsxs("span",{className:k,children:[h(v.key),i.jsx("span",{children:v.count})]},v.key)}),f.length?i.jsx("div",{className:y,children:f.map(v=>{const j=v.icon;return i.jsx("button",{type:"button",onClick:()=>a(v.key,!1),className:`flex h-6 w-6 items-center justify-center rounded-full border border-border ${v.style}`,"aria-label":v.label,children:j?i.jsx(j,{size:12}):i.jsx("span",{className:"text-xs",children:v.emoji})},v.key)})}):null]})},go=({value:n,onChange:a,onSend:r,canSend:o=!1,placeholder:u,pendingFiles:m=[],onRemoveFile:f,onAttachClick:h,mentionOptions:x=[],showModeToggle:p=!1,mode:y="external",onModeChange:v,helperText:j,disabled:k=!1})=>{const T="flex h-7 w-7 items-center justify-center rounded-md text-ink-muted hover:bg-slate-50 hover:text-ink",_="flex h-8 w-8 items-center justify-center rounded-md text-ink-muted hover:bg-slate-50 hover:text-ink",H=b.useRef(null),$=n.trim().length>0,[G,D]=b.useState(!1),[S,E]=b.useState(!1),U=b.useRef(null);b.useEffect(()=>{if(typeof document>"u")return;const z=N=>{U.current&&(U.current.contains(N.target)||(D(!1),E(!1)))};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]);const L=(z,N,B)=>{a(z),window.requestAnimationFrame(()=>{const ae=H.current;if(!ae)return;ae.focus();const de=B??N;ae.setSelectionRange(N,de)})},V=()=>{const z=H.current,N=n??"",B=z?.selectionStart??N.length,ae=z?.selectionEnd??B;return{currentValue:N,start:B,end:ae,before:N.slice(0,B),selected:N.slice(B,ae),after:N.slice(ae)}},J=(z,N=z.length)=>{if(k)return;const{before:B,after:ae,start:de}=V(),ye=`${B}${z}${ae}`;L(ye,de+N)},se=(z,N=z)=>{if(k)return;const{before:B,after:ae,selected:de,start:ye,end:ne}=V();if(ye===ne){const fe=`${B}${z}${N}${ae}`;L(fe,ye+z.length);return}const me=`${B}${z}${de}${N}${ae}`;L(me,ye+z.length,ye+z.length+de.length)},he=(z,N=!1)=>{if(k)return;const{currentValue:B,start:ae,end:de}=V(),ye=B.lastIndexOf(`
`,ae-1)+1,ne=B.indexOf(`
`,de),me=ne===-1?B.length:ne,ze=B.slice(ye,me).split(`
`).map((P,le)=>`${N?`${le+1}. `:z}${P}`).join(`
`),Oe=`${B.slice(0,ye)}${ze}${B.slice(me)}`;L(Oe,ye,ye+ze.length)},ce=()=>{if(k||typeof window>"u")return;const z=window.prompt("Enter URL");if(!z)return;const{selected:N}=V(),B=N||"link";J(`[${B}](${z})`,`[${B}](${z})`.length)},te=()=>{const{selected:z}=V();if(z.includes(`
`)){se("```\n","\n```");return}se("`","`")},ee=()=>{if(!k&&h){h();return}},K=()=>{k||(E(!1),D(z=>!z))},A=()=>{k||(D(!1),E(z=>!z))},O=()=>{J(" ")},W=z=>{J(`@${z.mention} `,z.mention.length+2),D(!1)},re=z=>{J(z),E(!1)};return i.jsxs("div",{className:"border-t border-border px-6 py-4",children:[p&&v?i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("button",{type:"button",onClick:()=>v("external"),disabled:k,className:`rounded-full px-3 py-1 text-xs font-semibold ${y==="external"?"bg-accent-primary text-white":"bg-gray-100 text-ink-muted"}`,children:"External reply as System"}),i.jsx("button",{type:"button",onClick:()=>v("internal"),disabled:k,className:`rounded-full px-3 py-1 text-xs font-semibold ${y==="internal"?"bg-slate-800 text-white":"bg-gray-100 text-ink-muted"}`,children:"Internal note"})]}):null,i.jsxs("div",{className:`rounded-2xl border border-border bg-white ${k?"opacity-70":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-border px-3 py-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{type:"button",onClick:()=>se("**","**"),className:T,disabled:k,"aria-label":"Bold",children:i.jsx(o2,{size:14})}),i.jsx("button",{type:"button",onClick:()=>se("_","_"),className:T,disabled:k,"aria-label":"Italic",children:i.jsx(w2,{size:14})}),i.jsx("button",{type:"button",onClick:()=>se("<u>","</u>"),className:T,disabled:k,"aria-label":"Underline",children:i.jsx(B2,{size:14})}),i.jsx("button",{type:"button",onClick:()=>se("~~","~~"),className:T,disabled:k,"aria-label":"Strikethrough",children:i.jsx(U2,{size:14})}),i.jsx("span",{className:"mx-1 h-4 w-px bg-border"}),i.jsx("button",{type:"button",onClick:ce,className:T,disabled:k,"aria-label":"Link",children:i.jsx(S2,{size:14})}),i.jsx("button",{type:"button",onClick:()=>he("- "),className:T,disabled:k,"aria-label":"List",children:i.jsx(A2,{size:14})}),i.jsx("button",{type:"button",onClick:()=>he("1. ",!0),className:T,disabled:k,"aria-label":"Ordered list",children:i.jsx(k2,{size:14})})]}),i.jsx("button",{type:"button",onClick:te,className:T,disabled:k,"aria-label":"Code",children:i.jsx(m2,{size:14})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{ref:H,rows:3,value:n,onChange:z=>a(z.target.value),onKeyDown:z=>{z.key!=="Enter"||z.shiftKey||z.nativeEvent.isComposing||!r||!o||(z.preventDefault(),r())},placeholder:"",disabled:k,className:"relative z-10 w-full resize-none border-none bg-transparent px-3 py-3 text-[15px] font-chat font-normal leading-relaxed text-transparent caret-ink placeholder:text-transparent selection:bg-sky-200/60 selection:text-transparent focus:outline-none"}),i.jsx("div",{className:"pointer-events-none absolute inset-0 px-3 py-3 text-[15px] font-chat font-normal leading-relaxed whitespace-pre-wrap break-words [&_strong]:font-semibold [&_em]:italic [&_del]:line-through [&_u]:underline [&_code]:rounded [&_code]:bg-slate-100 [&_code]:px-1 [&_code]:py-0.5 [&_code]:font-mono [&_code]:text-[11px] [&_code]:text-slate-700 [&_a]:text-sky-600 [&_a]:underline","aria-hidden":"true",dangerouslySetInnerHTML:{__html:$?jo(n):""}}),$?null:i.jsx("div",{className:"pointer-events-none absolute left-3 top-3 text-[15px] font-chat text-ink-muted",children:u})]}),m.length?i.jsx("div",{className:"flex flex-wrap gap-2 px-3 pb-2",children:m.map((z,N)=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-border bg-page px-3 py-1 text-xs text-ink",children:[z.name,f?i.jsx("button",{type:"button",onClick:()=>f(N),className:"text-ink-muted hover:text-ink",disabled:k,children:"x"}):null]},`${z.name}-${N}`))}):null,i.jsxs("div",{ref:U,className:"relative flex items-center justify-between border-t border-border px-3 py-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{type:"button",onClick:ee,className:_,disabled:k||!h,"aria-label":"Attach",children:i.jsx(Id,{size:16})}),i.jsx("button",{type:"button",onClick:K,className:_,disabled:k,"aria-label":"Mention",children:i.jsx(l2,{size:16})}),i.jsx("button",{type:"button",onClick:A,className:_,disabled:k,"aria-label":"Emoji",children:i.jsx(Hy,{size:16})}),i.jsx("button",{type:"button",onClick:O,className:_,disabled:k,"aria-label":"Voice",children:i.jsx(_2,{size:16})})]}),i.jsxs("div",{className:"absolute left-3 bottom-12 z-20",children:[G?i.jsx("div",{className:"w-72 rounded-xl border border-border bg-white shadow-soft",children:i.jsx("div",{className:"max-h-64 overflow-y-auto py-1",children:x.length?x.map(z=>i.jsxs("button",{type:"button",onClick:()=>W(z),className:"flex w-full items-center justify-between gap-3 px-3 py-2 text-left hover:bg-slate-50",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative h-8 w-8 shrink-0",children:[z.avatarUrl?i.jsx("img",{src:z.avatarUrl,alt:z.label,className:"h-8 w-8 rounded-full object-cover"}):i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-[11px] font-semibold text-slate-600",children:_l(z.label)}),i.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-white ${Qd(z.status||"offline")}`})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-ink",children:z.label}),z.secondaryLabel?i.jsx("p",{className:"text-xs text-ink-muted",children:z.secondaryLabel}):null]})]}),i.jsxs("span",{className:"text-xs text-ink-muted",children:["@",z.mention]})]},z.id)):i.jsx("div",{className:"px-3 py-2 text-xs text-ink-muted",children:"No users found."})})}):null,S?i.jsx("div",{className:"mt-2 w-64 rounded-xl border border-border bg-white shadow-soft",children:i.jsx("div",{className:"grid grid-cols-8 gap-1 p-2",children:J4.map(z=>i.jsx("button",{type:"button",onClick:()=>re(z),className:"flex h-8 w-8 items-center justify-center rounded-md text-lg hover:bg-slate-50",children:z},z))})}):null]}),i.jsx("button",{type:"button",onClick:()=>r?.(),disabled:k||!o||!r,className:"flex h-8 w-8 items-center justify-center rounded-md bg-accent-primary text-white disabled:opacity-50","aria-label":"Send message",children:i.jsx(By,{size:16})})]})]}),j?i.jsx("p",{className:"mt-2 text-xs text-ink-muted",children:j}):null]})},I4=()=>{const{user:n,loading:a}=Wt(),r=Array.isArray(n?.roles)?n.roles:[],o=r.some(M=>M==="admin"||M==="manager"||M==="worker"),u=r.some(M=>M==="admin"||M==="manager"),m=typeof window<"u"?window.localStorage.getItem(Xe):null,[f,h]=b.useState(""),[x,p]=b.useState([]),[y,v]=b.useState([]),[j,k]=b.useState([]),[T,_]=b.useState([]),[H,$]=b.useState([]),[G,D]=b.useState([]),[S,E]=b.useState(null),[U,L]=b.useState(null),[V,J]=b.useState(null),[se,he]=b.useState("external"),[ce,te]=b.useState(""),[ee,K]=b.useState(""),[A,O]=b.useState(""),[W,re]=b.useState([]),[z,N]=b.useState([]),[B,ae]=b.useState([]),[de,ye]=b.useState(""),[ne,me]=b.useState(!1),[fe,Se]=b.useState(!1),[Ce,ze]=b.useState(!1),[Oe,P]=b.useState(!1),[le,ge]=b.useState(!1),[Ae,we]=b.useState(""),[it,ot]=b.useState({}),[vt,tn]=b.useState({}),Ut=b.useRef(null),Xt=b.useRef(null),mt=b.useRef(null),Ot=b.useRef(null),Ne=b.useRef(null),$e=b.useRef(null),Ge=b.useRef(null),We=b.useRef(null),yt=b.useRef(null),Et=b.useRef(null);b.useEffect(()=>{Ot.current=S},[S]),b.useEffect(()=>{$e.current=V},[V]);const F=M=>qe?`${qe}${M}`:M,ve=m?{Authorization:`Bearer ${m}`}:{},je=x.reduce((M,Z)=>{const pe=Number(Z.unread_count||0);return M+(Number.isFinite(pe)?pe:0)},0),ke=b.useMemo(()=>j.find(M=>M.is_support)?.id||"",[j]);b.useEffect(()=>{const M=j.find(Z=>Z.id===f);Ne.current=M?.id||null},[j,f]);const be=b.useMemo(()=>j.map(M=>({...M,unread:M.id===ke?je:0})),[j,ke,je]),Me=b.useMemo(()=>new Map(y.map(M=>[M.id,M])),[y]),Ue=b.useMemo(()=>x.find(M=>M.id===S)||null,[x,S]),Vt=b.useMemo(()=>x.filter(Z=>Z.status!=="closed").sort((Z,pe)=>{const xe=new Date(Z.last_activity_at||Z.updated_at||0).getTime();return new Date(pe.last_activity_at||pe.updated_at||0).getTime()-xe}),[x]);b.useEffect(()=>{if(Ue){if(Ue.status==="closed"){E(null);return}Ue.assigned_manager_id&&Ue.assigned_manager_id!==n?.id&&E(null)}},[Ue?.assigned_manager_id,Ue?.id,Ue?.status,n?.id]);const nn=T,ws=b.useMemo(()=>{const M=P4(Ue?.watchers);return M.length?M.map(Z=>ba(Me.get(Z))).filter(Boolean).join(", "):"None"},[Ue?.watchers,Me]),Fs=b.useMemo(()=>Ue?.assigned_manager_id?ba(Me.get(Ue.assigned_manager_id)):"Unassigned",[Ue?.assigned_manager_id,Me]),Vn=M=>{te(M),se==="external"&&(!Ut.current||!S||Ut.current.readyState===WebSocket.OPEN&&(Ut.current.send(JSON.stringify({type:"typing",thread_id:S,status:M.trim()?"typing":"idle"})),mt.current&&window.clearTimeout(mt.current),mt.current=window.setTimeout(()=>{Ut.current?.readyState===WebSocket.OPEN&&Ut.current.send(JSON.stringify({type:"typing",thread_id:S,status:"idle"}))},1500)))},Hn=b.useMemo(()=>{const M=(Z,pe="offline")=>vt[Z]?.status||pe;return y.filter(Z=>Array.isArray(Z.roles)).filter(Z=>Z.roles?.some(pe=>pe==="admin"||pe==="manager"||pe==="worker")).filter(Z=>Z.id!==n?.id).map(Z=>{const pe=K4({username:Z.username,displayName:Z.display_name,email:Z.email,fallback:"User"}),xe=Z.username||Z.display_name||Z.email||pe.primaryLabel||"user";return{id:Z.id,primaryLabel:pe.primaryLabel,secondaryLabel:pe.secondaryLabel,avatarUrl:Z.photo_link||null,role:Z.roles?.includes("admin")?"Admin":Z.roles?.includes("manager")?"Manager":"Worker",status:M(Z.id),type:"employee",mentionLabel:xe}})},[y,vt,n?.id]),$n=b.useMemo(()=>Hn.map(M=>({id:M.id,label:M.primaryLabel,secondaryLabel:M.secondaryLabel||M.role,avatarUrl:M.avatarUrl,status:M.status,mention:M.mentionLabel})),[Hn]),Vo=async()=>{const M=await fetch(F("/chat/threads"),{headers:ve});if(!M.ok)throw new Error("Unable to load threads");const Z=await M.json(),pe=Array.isArray(Z?.items)?Z.items:[];p(pe)},Zl=async()=>{const M=await fetch(F("/chat/users"),{headers:ve});if(!M.ok)throw new Error("Unable to load users");const Z=await M.json(),pe=Array.isArray(Z?.items)?Z.items:[];v(pe)},Ti=async()=>{const M=await fetch(F("/chat/channels"),{headers:ve});if(!M.ok)throw new Error("Unable to load channels");const Z=await M.json(),pe=Array.isArray(Z?.items)?Z.items:[];k(pe)},Is=async M=>{Se(!0);try{const Z=await fetch(F(`/chat/threads/${M}/messages`),{headers:ve});if(!Z.ok)throw new Error("Unable to load messages");const pe=await Z.json(),xe=Array.isArray(pe?.items)?pe.items:[];_(xe),await Ei(M)}catch(Z){we(Z?.message||"Unable to load messages")}finally{Se(!1)}},Ho=async M=>{P(!0);try{const Z=await fetch(F(`/chat/channels/${M}/messages`),{headers:ve});if(!Z.ok)throw new Error("Unable to load channel messages");const pe=await Z.json(),xe=Array.isArray(pe?.items)?pe.items:[];$(xe)}catch(Z){we(Z?.message||"Unable to load channel messages")}finally{P(!1)}},Ql=async M=>{const Z=await fetch(F("/chat/dm/threads"),{method:"POST",headers:{"Content-Type":"application/json",...ve},body:JSON.stringify({user_id:M})});if(!Z.ok)throw new Error("Unable to load DM thread");return(await Z.json())?.thread},Kl=async M=>{ge(!0);try{const Z=await fetch(F(`/chat/dm/threads/${M}/messages`),{headers:ve});if(!Z.ok)throw new Error("Unable to load DM messages");const pe=await Z.json(),xe=Array.isArray(pe?.items)?pe.items:[];D(xe)}catch(Z){we(Z?.message||"Unable to load DM messages")}finally{ge(!1)}},Ei=async M=>{try{await fetch(F(`/chat/threads/${M}/read`),{method:"POST",headers:ve}),p(Z=>Z.map(pe=>pe.id===M?{...pe,unread_count:0}:pe)),_(Z=>Z.map(pe=>pe.sender_type==="external"&&!pe.read_at?{...pe,read_at:new Date().toISOString()}:pe))}catch{}},Ci=async(M,Z)=>{try{const pe=await fetch(F(`/chat/threads/${M}`),{method:"PATCH",headers:{"Content-Type":"application/json",...ve},body:JSON.stringify(Z)});if(!pe.ok)throw new Error("Unable to update thread");const Re=(await pe.json())?.thread;Re&&p(_e=>_e.map(Le=>Le.id===Re.id?Re:Le))}catch(pe){we(pe?.message||"Unable to update thread")}},_i=async(M,Z)=>{try{const pe=await fetch(F(`/chat/threads/${M}/assign`),{method:"POST",headers:{"Content-Type":"application/json",...ve},body:JSON.stringify({manager_id:Z})});if(!pe.ok)throw new Error("Unable to assign thread");const Re=(await pe.json())?.thread;Re&&p(_e=>_e.map(Le=>Le.id===Re.id?Re:Le))}catch(pe){we(pe?.message||"Unable to assign thread")}},Mi=async()=>{if(!S)return;const M=ce.trim(),Z=W.length>0;if(!M&&!Z)return;const pe=M||"Attachment";te("");try{const xe=await fetch(F(`/chat/threads/${S}/messages`),{method:"POST",headers:{"Content-Type":"application/json",...ve},body:JSON.stringify({content:pe,mode:se})});if(!xe.ok)throw new Error("Unable to send message");const _e=(await xe.json())?.message;if(_e&&(_(Le=>Le.some(tt=>tt.id===_e.id)?Le:[...Le,{..._e,attachments:[],reads:[]}]),p(Le=>Le.map(et=>et.id===S?{...et,last_message:_e.content,last_message_at:_e.created_at,last_activity_at:_e.created_at,status:et.status==="open"?"assigned":et.status}:et)),W.length)){const Le=[...W];re([]);for(const et of Le){const tt=new FormData;tt.append("file",et);const Ht=await fetch(F(`/chat/messages/${_e.id}/attachments`),{method:"POST",headers:ve,body:tt});if(Ht.ok){const Qt=(await Ht.json())?.attachment;Qt&&_(Rt=>Rt.map(sn=>sn.id===_e.id?{...sn,attachments:[...sn.attachments||[],Qt]}:sn))}}}}catch(xe){we(xe?.message||"Unable to send message")}},Jl=async()=>{const M=j.find(Re=>Re.id===f);if(!M?.id)return;const Z=ee.trim(),pe=z.length>0;if(!Z&&!pe)return;const xe=Z||"Attachment";K("");try{const Re=await fetch(F(`/chat/channels/${M.id}/messages`),{method:"POST",headers:{"Content-Type":"application/json",...ve},body:JSON.stringify({content:xe})});if(!Re.ok)throw new Error("Unable to send channel message");const Le=(await Re.json())?.message;if(Le&&($(et=>et.some(Ht=>Ht.id===Le.id)?et:[...et,{...Le,reactions:Le.reactions||[],attachments:Le.attachments||[]}]),z.length)){const et=[...z];N([]);for(const tt of et){const Ht=new FormData;Ht.append("file",tt);const es=await fetch(F(`/chat/channel-messages/${Le.id}/attachments`),{method:"POST",headers:ve,body:Ht});if(es.ok){const Rt=(await es.json())?.attachment;Rt&&$(sn=>sn.map(Ca=>Ca.id===Le.id?{...Ca,attachments:[...Ca.attachments||[],Rt]}:Ca))}}}}catch(Re){we(Re?.message||"Unable to send channel message")}},qn=async()=>{if(!V)return;const M=A.trim(),Z=B.length>0;if(!M&&!Z)return;const pe=M||"Attachment";O("");try{const xe=await fetch(F(`/chat/dm/threads/${V}/messages`),{method:"POST",headers:{"Content-Type":"application/json",...ve},body:JSON.stringify({content:pe})});if(!xe.ok)throw new Error("Unable to send DM");const _e=(await xe.json())?.message;if(_e&&(D(Le=>Le.some(tt=>tt.id===_e.id)?Le:[...Le,{..._e,reactions:_e.reactions||[],attachments:_e.attachments||[]}]),B.length)){const Le=[...B];ae([]);for(const et of Le){const tt=new FormData;tt.append("file",et);const Ht=await fetch(F(`/chat/dm-messages/${_e.id}/attachments`),{method:"POST",headers:ve,body:tt});if(Ht.ok){const Qt=(await Ht.json())?.attachment;Qt&&D(Rt=>Rt.map(sn=>sn.id===_e.id?{...sn,attachments:[...sn.attachments||[],Qt]}:sn))}}}}catch(xe){we(xe?.message||"Unable to send DM")}},St=(M,Z,pe)=>M.map(xe=>xe.id===Z?{...xe,reactions:[...xe.reactions||[],pe]}:xe),Lt=(M,Z,pe,xe)=>M.map(Re=>Re.id!==Z?Re:{...Re,reactions:(Re.reactions||[]).filter(_e=>!(_e.emoji===pe&&(!xe||_e.user_id===xe)))}),Pn=async(M,Z,pe,xe)=>{const Re=M==="support"?`/chat/messages/${Z}/reactions`:M==="channel"?`/chat/channel-messages/${Z}/reactions`:`/chat/dm-messages/${Z}/reactions`;try{const _e=await fetch(F(Re),{method:xe?"DELETE":"POST",headers:{"Content-Type":"application/json",...ve},body:JSON.stringify({emoji:pe})});if(!_e.ok)throw new Error("Unable to react");const et=(await _e.json())?.reaction||{emoji:pe,user_id:n?.id||null};M==="support"?_(tt=>xe?Lt(tt,Z,pe,n?.id):St(tt,Z,et)):M==="channel"?$(tt=>xe?Lt(tt,Z,pe,n?.id):St(tt,Z,et)):D(tt=>xe?Lt(tt,Z,pe,n?.id):St(tt,Z,et))}catch(_e){we(_e?.message||"Unable to add reaction")}};if(b.useEffect(()=>{if(!o||!m)return;let M=!0;return me(!0),ze(!0),we(""),Promise.all([Vo(),Zl(),Ti()]).catch(Z=>{M&&we(Z?.message||"Unable to load chat data")}).finally(()=>{M&&(me(!1),ze(!1))}),()=>{M=!1}},[o,m]),b.useEffect(()=>{if(S||!x.length)return;const M=x.find(Z=>Z.status!=="closed"&&(!Z.assigned_manager_id||Z.assigned_manager_id===n?.id));M&&E(M.id)},[x,S,n?.id]),b.useEffect(()=>{if(!j.length||f&&j.some(Z=>Z.id===f))return;const M=j.find(Z=>Z.is_support)?.id||j[0].id;h(M)},[j,f]),b.useEffect(()=>{!S||!m||Ue?.status!=="closed"&&Is(S)},[S,Ue?.status,m]),b.useEffect(()=>{if(!m)return;if(!f||!!(f&&f===ke)){$([]);return}Ho(f)},[f,ke,m]),b.useEffect(()=>{if(!m)return;if(!U){J(null),D([]);return}let M=!0;return ge(!0),Ql(U).then(Z=>{if(!(!M||!Z?.id))return J(Z.id),Kl(Z.id)}).catch(Z=>{M&&we(Z?.message||"Unable to load DM")}).finally(()=>{M&&ge(!1)}),()=>{M=!1}},[U,m]),b.useEffect(()=>{if(!o||!m||Ut.current)return;const M=qe?qe.replace(/^http/,"ws"):`${window.location.origin.replace(/^http/,"ws")}`,Z=new WebSocket(`${M}/chat/ws?token=${encodeURIComponent(m)}`);return Ut.current=Z,Z.addEventListener("open",()=>{Xt.current&&window.clearInterval(Xt.current),Xt.current=window.setInterval(()=>{Z.readyState===WebSocket.OPEN&&Z.send(JSON.stringify({type:"heartbeat"}))},1e4);const pe=Ot.current;pe&&Z.send(JSON.stringify({type:"subscribe",thread_id:pe}))}),Z.addEventListener("message",pe=>{try{const xe=JSON.parse(pe.data);if(xe.type==="presence:snapshot"||xe.type==="presence:update"){const Re=Array.isArray(xe.items)?xe.items:[],_e={};Re.forEach(Le=>{Le?.id&&(_e[Le.id]=Le)}),tn(_e)}if(xe.type==="thread:new"&&xe.thread?.id&&p(Re=>Re.some(Le=>Le.id===xe.thread.id)?Re:[xe.thread,...Re]),xe.type==="thread:update"&&xe.thread?.id&&p(Re=>Re.map(_e=>_e.id===xe.thread.id?xe.thread:_e)),xe.type==="typing"&&xe.thread_id){const Re=String(xe.thread_id),_e=xe.sender_type!=="employee";ot(Le=>({...Le,[Re]:_e&&xe.status==="typing"}))}if(xe.type==="message:new"&&xe.thread_id&&xe.message){const Re=String(xe.thread_id),_e=xe.message;p(Le=>Le.map(et=>{if(et.id!==Re)return et;const tt=Number(et.unread_count||0)||0,Ht=_e.sender_type==="external"&&Ot.current!==Re;return{...et,last_message:_e.content,last_message_at:_e.created_at,last_activity_at:_e.created_at,unread_count:Ht?tt+1:tt}})),Ot.current===Re&&(_(Le=>Le.some(tt=>tt.id===_e.id)?Le:[...Le,{..._e,attachments:[],reads:[]}]),_e.sender_type==="external"&&Ei(Re))}if(xe.type==="channel:message:new"&&xe.channel_id&&xe.message){const Re=String(xe.channel_id),_e=xe.message;Ne.current===Re&&$(Le=>Le.some(tt=>tt.id===_e.id)?Le:[...Le,{..._e,reactions:_e.reactions||[],attachments:_e.attachments||[]}])}if(xe.type==="dm:message:new"&&xe.thread_id&&xe.message){const Re=String(xe.thread_id),_e=xe.message;$e.current===Re&&D(Le=>Le.some(tt=>tt.id===_e.id)?Le:[...Le,{..._e,reactions:_e.reactions||[],attachments:_e.attachments||[]}])}}catch{}}),Z.addEventListener("close",()=>{Ut.current=null,Xt.current&&(window.clearInterval(Xt.current),Xt.current=null)}),()=>{Z.close()}},[o,m]),b.useEffect(()=>{const M=Ut.current;if(!(!M||M.readyState!==WebSocket.OPEN)&&S)return M.send(JSON.stringify({type:"subscribe",thread_id:S})),()=>{M.readyState===WebSocket.OPEN&&M.send(JSON.stringify({type:"unsubscribe",thread_id:S}))}},[S]),a)return i.jsx("main",{className:"min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-sm text-ink-muted",children:"Loading chat workspace..."})});if(!o)return i.jsxs("main",{className:"min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:[i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-sm text-ink",children:"Live chat is available from the support card."}),i.jsx(pi,{})]});if(!m)return i.jsx("main",{className:"min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:i.jsx("div",{className:"rounded-2xl border border-border bg-white p-6 text-sm text-ink",children:"Missing auth token."})});const Ta=j.find(M=>M.id===f),Fl=Ta?.name||Ta?.key||f||"channel",Ea=!f||f===ke,Di=!!S&&(ce.trim().length>0||W.length>0),Ws=!!f&&!Ea&&(ee.trim().length>0||z.length>0),Ri=!!V&&(A.trim().length>0||B.length>0),Zt=Hn.find(M=>M.id===U)||null,Gn=de.trim().toLowerCase(),js=Gn.length>0,Wn=Gn?Hn.filter(M=>`${M.primaryLabel} ${M.secondaryLabel||""} ${M.role||""}`.toLowerCase().includes(Gn)):Hn;return i.jsx("main",{className:"min-h-[calc(100vh-64px)] border-t border-border px-6 py-6",children:i.jsxs("div",{className:"flex flex-col gap-6",children:[Ae?i.jsx("div",{className:"border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-900",children:Ae}):null,i.jsxs("div",{className:`grid h-[calc(100vh-112px)] gap-6 ${Ea?"grid-cols-[320px_280px_1fr]":"grid-cols-[360px_1fr]"}`,children:[i.jsx("aside",{className:"border border-border bg-white p-4 shadow-sm h-full flex flex-col",children:i.jsxs("div",{className:"space-y-6 flex-1 min-h-0 overflow-y-auto pr-1",children:[i.jsxs("section",{children:[i.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Channels"}),i.jsxs("div",{className:"space-y-1.5 mt-2",children:[Ce?i.jsx("div",{className:"px-3 py-2 text-xs text-ink-muted",children:"Loading channels..."}):null,be.map(M=>{const Z=M.id===f;return i.jsxs("button",{type:"button",onClick:()=>{L(null),h(M.id)},className:`flex w-full items-center justify-between rounded-md px-3 py-1.5 text-left text-[13px] font-medium ${Z?"bg-sky-50 text-ink":"text-ink-muted"}`,children:[i.jsxs("span",{className:"truncate",children:["#",M.name||M.key]}),M.unread?i.jsx("span",{className:"ml-2 rounded-full bg-accent-primary px-2 py-0.5 text-[11px] font-semibold text-white",children:M.unread}):null]},M.id)}),!Ce&&be.length===0?i.jsx("div",{className:"rounded-lg border border-dashed border-border px-3 py-2 text-xs text-ink-muted",children:"No channels yet."}):null]})]}),i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Users"}),i.jsx("div",{className:"group relative",onClick:()=>Et.current?.focus(),children:i.jsxs("div",{className:`flex items-center gap-2 overflow-hidden rounded-full border border-border bg-white px-3 py-2 text-xs text-ink-muted shadow-sm transition-all duration-200 ${js?"w-56":"w-10"} group-hover:w-56 group-focus-within:w-56`,children:[i.jsx(Do,{size:16}),i.jsx("input",{ref:Et,value:de,onChange:M=>ye(M.target.value),placeholder:"Search",className:`bg-transparent text-[11px] text-ink outline-none transition-all duration-200 ${js?"w-40 text-[13px]":"w-0"} group-hover:w-40 group-focus-within:w-40`})]})})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[Wn.map(M=>i.jsx("button",{type:"button",onClick:()=>{L(M.id)},className:`w-full rounded-xl px-3 py-2 text-left transition-colors ${U===M.id?"bg-accent-primary/10":"hover:bg-gray-100"}`,children:i.jsx("div",{className:"flex items-center justify-between gap-3",children:i.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[M.avatarUrl?i.jsx("img",{src:M.avatarUrl,alt:M.primaryLabel,className:"h-8 w-8 rounded-full object-cover"}):i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-[11px] font-semibold text-slate-600",children:_l(M.primaryLabel)}),i.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 rounded-full border-2 border-white ${Qd(M.status)}`})]}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-sm font-semibold text-ink truncate",children:M.primaryLabel}),M.secondaryLabel?i.jsxs("span",{className:"text-xs text-ink-muted truncate",children:["(",M.secondaryLabel,")"]}):null]}),i.jsx("div",{className:"text-[11px] text-ink-muted",children:M.role})]})]})})},M.id)),Wn.length?null:i.jsx("div",{className:"rounded-lg border border-dashed border-border px-3 py-2 text-xs text-ink-muted",children:"No users found."})]})]})]})}),Ea?i.jsxs("aside",{className:"border border-border bg-white p-4 shadow-sm h-full flex flex-col",children:[i.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-ink-muted",children:"Support threads"}),i.jsxs("div",{className:"mt-3 flex-1 min-h-0 overflow-y-auto space-y-2 pr-1",children:[Vt.map(M=>{const Z=M.assigned_manager_id&&M.assigned_manager_id!==n?.id,pe=M.assigned_manager_id?ba(Me.get(M.assigned_manager_id)):"Unassigned",xe=S===M.id;return i.jsx("button",{type:"button",onClick:()=>{Z||(L(null),E(M.id))},className:`w-full rounded-xl px-3 py-2 text-left transition-colors ${Z?"cursor-not-allowed opacity-60":xe?"bg-accent-primary/10":"hover:bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-semibold text-ink truncate",children:M.display_name||"Guest"}),i.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-semibold ${Ay(M.status)}`,children:M.status})]}),i.jsx("p",{className:"mt-1 text-[11px] text-ink-muted truncate",children:M.last_message||"No messages yet."}),i.jsx("p",{className:"mt-1 text-[10px] text-ink-muted",children:Z?`Assigned to ${pe}`:pe})]}),Number(M.unread_count||0)>0?i.jsx("span",{className:"rounded-full bg-accent-primary px-2 py-0.5 text-[11px] font-semibold text-white",children:M.unread_count}):null]})},M.id)}),Vt.length?null:i.jsx("div",{className:"rounded-lg border border-dashed border-border px-3 py-2 text-xs text-ink-muted",children:"No open threads."})]})]}):null,i.jsx("section",{className:"border border-border bg-white shadow-sm h-full flex flex-col overflow-hidden",children:Ea?U?i.jsxs("div",{className:"flex h-full flex-col min-h-0",children:[i.jsx("div",{className:"border-b border-border px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[Zt?.avatarUrl?i.jsx("img",{src:Zt.avatarUrl,alt:Zt.primaryLabel,className:"h-12 w-12 rounded-full object-cover"}):i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gray-100 text-sm font-semibold text-ink-muted",children:_l(Zt?.primaryLabel||"U")}),i.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-white ${Qd(Zt?.status||"offline")}`})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-semibold text-ink",children:Zt?.primaryLabel||"Direct message"}),i.jsx("p",{className:"text-sm text-ink-muted",children:Zt?.secondaryLabel||Zt?.role||"Employee"})]})]})}),i.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto px-6 py-6 space-y-4",children:[le?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading messages..."}):null,G.map(M=>{const Z=Me.get(M.sender_id||""),pe=ba(Z),xe=M.sender_id===n?.id;return i.jsxs("div",{className:"group flex gap-3 max-w-[720px]",children:[i.jsx("div",{className:"relative mt-1 h-8 w-8 shrink-0",children:Z?.photo_link?i.jsx("img",{src:Z.photo_link,alt:pe,className:"h-8 w-8 rounded-full object-cover"}):i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-[11px] font-semibold text-slate-600",children:_l(pe)})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-ink-muted",children:[i.jsx("span",{className:"font-semibold text-ink",children:pe}),i.jsx("span",{children:wd(M.created_at)})]}),i.jsx("div",{className:`mt-2 rounded-xl px-4 py-3 text-[15px] font-chat font-normal leading-relaxed whitespace-pre-wrap break-words [&_strong]:font-semibold [&_em]:italic [&_del]:line-through [&_u]:underline [&_code]:rounded [&_code]:bg-slate-100 [&_code]:px-1 [&_code]:py-0.5 [&_code]:font-mono [&_code]:text-[11px] [&_code]:text-slate-700 [&_a]:text-sky-600 [&_a]:underline ${xe?"bg-sky-50 text-sky-900 border border-sky-100":"bg-white border border-border"}`,dangerouslySetInnerHTML:{__html:jo(M.content||"")}}),i.jsx(jd,{attachments:M.attachments}),i.jsx(Sd,{reactions:M.reactions,currentUserId:n?.id,onReact:(Re,_e)=>Pn("dm",M.id,Re,_e)})]})]},M.id)}),!le&&G.length===0?i.jsx("div",{className:"text-sm text-ink-muted",children:"No messages yet."}):null]}),i.jsx(go,{value:A,onChange:O,onSend:qn,canSend:Ri,mentionOptions:$n,placeholder:`Message ${Zt?.primaryLabel||"user"}`,pendingFiles:B,onRemoveFile:M=>ae(Z=>Z.filter((pe,xe)=>xe!==M)),onAttachClick:()=>yt.current?.click(),helperText:"Direct message"}),i.jsx("input",{ref:yt,type:"file",multiple:!0,className:"hidden",onChange:M=>{const Z=Array.from(M.target.files||[]);Z.length&&(ae(pe=>[...pe,...Z]),M.target.value="")}})]}):Ue?i.jsxs("div",{className:"flex h-full flex-col min-h-0",children:[i.jsxs("div",{className:"border-b border-border px-6 py-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-ink-muted",children:"Thread"}),i.jsx("h2",{className:"mt-1 text-lg font-semibold text-ink",children:Ue.display_name||"Support"}),i.jsxs("p",{className:"text-sm text-ink-muted",children:["User type: ",Ue.user_type]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold ${Ay(Ue.status)}`,children:Ue.status}),u&&Ue.assigned_manager_id!==n?.id?i.jsx("button",{type:"button",onClick:()=>_i(Ue.id,n?.id),className:"rounded-full border border-border px-3 py-1 text-xs font-semibold text-ink-muted hover:text-ink",children:"Assign to me"}):null,Ue.status!=="closed"?i.jsx("button",{type:"button",onClick:()=>Ci(Ue.id,{status:"closed",closed_at:new Date().toISOString()}),className:"rounded-full border border-border px-3 py-1 text-xs font-semibold text-ink-muted hover:text-ink",children:"Close"}):null,i.jsx("button",{type:"button",className:"h-9 w-9 rounded-lg border border-border text-ink-muted hover:text-ink","aria-label":"Thread actions",children:i.jsx(x2,{size:16,className:"mx-auto"})})]})]}),i.jsxs("div",{className:"mt-4 grid gap-2 text-xs text-ink-muted",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vy,{size:14}),"Assigned manager: ",i.jsx("span",{className:"text-ink",children:Fs})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ul,{size:14}),"Watchers: ",i.jsx("span",{className:"text-ink",children:ws})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(f2,{size:14}),"Last activity:"," ",i.jsx("span",{className:"text-ink",children:G4(Ue.last_activity_at)})]})]})]}),i.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto px-6 py-6 space-y-4",children:[fe?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading messages..."}):null,nn.map(M=>{const Z=M.sender_type==="internal",pe=M.sender_type==="external",xe=pe?Ue.display_name||"User":Z?ba(Me.get(M.sender_id||"")):"System",Re=(M.reads||[]).map(_e=>ba(Me.get(_e.user_id))).filter(Boolean);return i.jsxs("div",{className:"max-w-[720px] group",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-ink-muted",children:[i.jsx("span",{className:"font-semibold text-ink",children:xe}),i.jsx("span",{children:wd(M.created_at)}),Z?i.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-semibold text-slate-600",children:"Internal"}):null]}),i.jsx("div",{className:`mt-2 rounded-xl px-4 py-3 text-[15px] font-chat font-normal leading-relaxed whitespace-pre-wrap break-words [&_strong]:font-semibold [&_em]:italic [&_del]:line-through [&_u]:underline [&_code]:rounded [&_code]:bg-slate-100 [&_code]:px-1 [&_code]:py-0.5 [&_code]:font-mono [&_code]:text-[11px] [&_code]:text-slate-700 [&_a]:text-sky-600 [&_a]:underline ${Z?"bg-slate-50 text-slate-700 border border-slate-200":"bg-white border border-border"}`,dangerouslySetInnerHTML:{__html:jo(M.content||"")}}),i.jsx(jd,{attachments:M.attachments}),i.jsx(Sd,{reactions:M.reactions,currentUserId:n?.id,onReact:(_e,Le)=>Pn("support",M.id,_e,Le)}),pe?i.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-ink-muted",children:[i.jsx(My,{size:12,className:"text-emerald-500"}),Re.length?`Read by ${Re.join(", ")}`:"Unread"]}):null]},M.id)}),S&&it[S]?i.jsx("div",{className:"text-xs text-ink-muted",children:"User is typing..."}):null]}),i.jsx(go,{value:ce,onChange:Vn,onSend:Mi,canSend:Di,placeholder:se==="internal"?"Add internal note for managers and workers...":"Reply to user (sent as System)...",pendingFiles:W,onRemoveFile:M=>re(Z=>Z.filter((pe,xe)=>xe!==M)),onAttachClick:()=>Ge.current?.click(),showModeToggle:!0,mode:se,onModeChange:he,mentionOptions:$n,helperText:"Typing indicator enabled"}),i.jsx("input",{ref:Ge,type:"file",multiple:!0,className:"hidden",onChange:M=>{const Z=Array.from(M.target.files||[]);Z.length&&(re(pe=>[...pe,...Z]),M.target.value="")}})]}):i.jsxs("div",{className:"flex h-full flex-col",children:[i.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-6 text-sm text-ink-muted",children:ne?"Loading threads...":"Select a thread to begin."}),i.jsx(go,{value:ce,onChange:Vn,onSend:Mi,canSend:Di,placeholder:"Select a thread to start messaging.",pendingFiles:W,onRemoveFile:M=>re(Z=>Z.filter((pe,xe)=>xe!==M)),onAttachClick:()=>Ge.current?.click(),showModeToggle:!0,mode:se,onModeChange:he,mentionOptions:$n,helperText:"Select a thread to enable sending."}),i.jsx("input",{ref:Ge,type:"file",multiple:!0,className:"hidden",onChange:M=>{const Z=Array.from(M.target.files||[]);Z.length&&(re(pe=>[...pe,...Z]),M.target.value="")}})]}):i.jsxs("div",{className:"flex h-full flex-col",children:[i.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 z-10 border-b border-border bg-white px-6 py-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-ink-muted",children:[i.jsx(b2,{size:16}),Fl]}),i.jsx("p",{className:"text-sm text-ink-muted mt-2",children:"Operational messages and announcements live here."})]}),i.jsxs("div",{className:"px-6 py-6 space-y-4",children:[Oe?i.jsx("div",{className:"text-sm text-ink-muted",children:"Loading messages..."}):null,H.map(M=>{const Z=Me.get(M.sender_id||""),pe=ba(Z);return M.sender_id,n?.id,i.jsxs("div",{className:"group flex gap-3 max-w-[720px]",children:[i.jsx("div",{className:"relative mt-1 h-8 w-8 shrink-0",children:Z?.photo_link?i.jsx("img",{src:Z.photo_link,alt:pe,className:"h-8 w-8 rounded-full object-cover"}):i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-[11px] font-semibold text-slate-600",children:_l(pe)})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-ink-muted",children:[i.jsx("span",{className:"font-semibold text-ink",children:pe}),i.jsx("span",{children:wd(M.created_at)})]}),i.jsx("div",{className:"mt-2 px-4 py-3 text-[15px] font-chat font-normal leading-relaxed whitespace-pre-wrap break-words [&_strong]:font-semibold [&_em]:italic [&_del]:line-through [&_u]:underline [&_code]:rounded [&_code]:bg-slate-100 [&_code]:px-1 [&_code]:py-0.5 [&_code]:font-mono [&_code]:text-[11px] [&_code]:text-slate-700 [&_a]:text-sky-600 [&_a]:underline",dangerouslySetInnerHTML:{__html:jo(M.content||"")}}),i.jsx(jd,{attachments:M.attachments}),i.jsx(Sd,{reactions:M.reactions,currentUserId:n?.id,onReact:(xe,Re)=>Pn("channel",M.id,xe,Re)})]})]},M.id)}),!Oe&&H.length===0?i.jsx("div",{className:"text-sm text-ink-muted",children:"No messages yet."}):null]})]}),i.jsx(go,{value:ee,onChange:K,onSend:Jl,placeholder:`Message #${Fl}`,canSend:Ws,mentionOptions:$n,pendingFiles:z,onRemoveFile:M=>N(Z=>Z.filter((pe,xe)=>xe!==M)),onAttachClick:()=>We.current?.click()}),i.jsx("input",{ref:We,type:"file",multiple:!0,className:"hidden",onChange:M=>{const Z=Array.from(M.target.files||[]);Z.length&&(N(pe=>[...pe,...Z]),M.target.value="")}})]})})]})]})})},W4=()=>{const[n,a]=b.useState(!1),r=n?240:72,o=typeof window<"u"?window.location.pathname:"/",[u,m]=b.useState(o),f=b.useCallback(Oe=>{if(Oe){if(typeof window<"u"){if(window.location.pathname===Oe){m(Oe);return}window.history.pushState({},"",Oe),m(Oe);return}m(Oe)}},[]);b.useEffect(()=>{const Oe=()=>m(window.location.pathname);return window.addEventListener("popstate",Oe),()=>window.removeEventListener("popstate",Oe)},[]);const h=u.startsWith("/auth"),x=u==="/"||u.startsWith("/landing"),p=u.startsWith("/user"),y=u.startsWith("/admin/profiles"),v=u.startsWith("/manager/profiles"),j=u.startsWith("/profiles")||v||y,k=u.startsWith("/admin/applications"),T=u.startsWith("/manager/applications"),_=u.startsWith("/applications")||T||k,H=u.startsWith("/admin/inbox"),$=u.startsWith("/manager/inbox"),G=u.startsWith("/inbox")||$||H,D=u.startsWith("/admin/calendar"),S=u.startsWith("/manager/calendar"),E=u.startsWith("/calendar")||S||D,U=u.startsWith("/settings"),L=u.startsWith("/resume-generator"),V=u.startsWith("/resume-templates"),J=u.startsWith("/hire-talents")||u.startsWith("/hire-talent"),se=u.startsWith("/admin/requests"),he=u.startsWith("/manager/requests"),ce=u.startsWith("/hire")&&!J,te=u.startsWith("/requests")||he||se||ce,ee=y||k||H||D||se,K=u.startsWith("/admin")&&!ee,A=u.startsWith("/chat"),O=u==="/dashboard",{isAuthed:W,authChecked:re}=qw(),{user:z,loading:N}=Wt({enabled:W,redirectOnUnauthorized:!1}),B=Array.isArray(z?.roles)?z.roles:[],ae=ql(B),de=Xy(B),ye=sf(B),ne=Zy(B),me=Qy(B),fe=B.some(Oe=>Oe==="admin"||Oe==="manager"||Oe==="worker"),Se=!W||!N&&!fe;if(b.useEffect(()=>{if(!(!W||N)){if(j&&!u.startsWith(ae)){f(ae);return}if(_&&!u.startsWith(de)){f(de);return}if(G&&!u.startsWith(ye)){f(ye);return}if(E&&!u.startsWith(ne)){f(ne);return}(ce||te&&!u.startsWith(me))&&f(me)}},[de,ne,ye,W,_,E,G,ce,j,te,f,ae,me,u,N]),!re)return i.jsx("div",{className:"min-h-screen bg-page text-ink flex items-center justify-center",children:i.jsx("p",{className:"text-ink-muted",children:"Checking session..."})});if(h)return i.jsxs(i.Fragment,{children:[i.jsx(Px,{}),Se?i.jsx(pi,{}):null]});if(!W)return x?i.jsxs(i.Fragment,{children:[i.jsx(ky,{onNavigate:f}),Se?i.jsx(pi,{}):null]}):i.jsxs(i.Fragment,{children:[i.jsx(Px,{}),Se?i.jsx(pi,{}):null]});const Ce=G?"Search emails...":E?"Search events...":U?"Search settings...":L?"Search profiles, job descriptions...":V?"Search templates...":_?"Search applications...":te?"Search requests...":J?"Search talents...":K?"Search users...":A?"Search threads...":"Search profiles, emails, people...",ze=Oe=>i.jsxs("div",{className:"min-h-screen grid bg-page text-ink transition-[grid-template-columns] duration-200 ease-out",style:{gridTemplateColumns:`${r}px 1fr`},children:[i.jsx(Uw,{expanded:n,onExpand:()=>a(!0),onCollapse:()=>a(!1),currentRoute:u,onNavigate:f}),i.jsxs("div",{className:"grid grid-rows-[64px_1fr] min-h-screen bg-page",children:[i.jsx(nw,{searchPlaceholder:Ce,onNavigate:f}),Oe]}),Se?i.jsx(pi,{}):null]});return p?ze(i.jsx(Hw,{})):(j||_||G||E||te)&&N?ze(i.jsx("div",{className:"min-h-[calc(100vh-64px)] border-t border-border px-8 py-8",children:i.jsx("p",{className:"text-ink-muted",children:"Checking access..."})})):j?u.startsWith(ae)?u.startsWith("/admin/profiles")?ze(i.jsx(sd,{profileMode:"admin"})):u.startsWith("/manager/profiles")?ze(i.jsx(sd,{profileMode:"manager"})):ze(i.jsx(sd,{})):ze(i.jsx("div",{className:"min-h-[calc(100vh-64px)] border-t border-border px-8 py-8",children:i.jsx("p",{className:"text-ink-muted",children:"Redirecting..."})})):G?ze(i.jsx(Kw,{})):E?ze(i.jsx(aj,{})):U?ze(i.jsx(ij,{})):L?ze(i.jsx(bj,{})):V?ze(i.jsx(Rj,{})):_?ze(i.jsx(Bj,{})):J?ze(i.jsx(eN,{})):te?ze(i.jsx(Jj,{})):K?ze(i.jsx(rN,{})):A?ze(i.jsx(I4,{})):O?ze(i.jsx(Fx,{})):x?i.jsxs(i.Fragment,{children:[i.jsx(ky,{onNavigate:f}),Se?i.jsx(pi,{}):null]}):ze(i.jsx(Fx,{}))},B0=document.getElementById("root");if(!B0)throw new Error("Root element #root not found");t2.createRoot(B0).render(i.jsx(Q1.StrictMode,{children:i.jsx(W4,{})}));
